/*
 Copyright (c) 2026 Ashraf Morningstar
 These are personal recreations of existing projects, developed by Ashraf Morningstar
 for learning and skill development.
 Original project concepts remain the intellectual property of their respective creators.
 Repository: https://github.com/AshrafMorningstar
*/

/*
 * -----------------------------------------------------------------------------
 * @author      Ashraf Morningstar
 * @github      https://github.com/AshrafMorningstar
 * @repository  Project Graveyard - The Ultimate Archive
 * @quote       "Code that defines the future. Designed to inspire."
 * -----------------------------------------------------------------------------
*/

var Gw=a=>{throw TypeError(a)};var Jg=(a,t,e)=>t.has(a)||Gw("Cannot "+e);var je=(a,t,e)=>(Jg(a,t,"read from private field"),e?e.call(a):t.get(a)),Cs=(a,t,e)=>t.has(a)?Gw("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(a):t.set(a,e),oi=(a,t,e,n)=>(Jg(a,t,"write to private field"),n?n.call(a,e):t.set(a,e),e),Ms=(a,t,e)=>(Jg(a,t,"access private method"),e);var Vw=(a,t,e,n)=>({set _(s){oi(a,t,s,e)},get _(){return je(a,t,n)}});function FR(a,t){for(var e=0;e<t.length;e++){const n=t[e];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in a)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(a,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function e(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=e(s);fetch(s.href,o)}})();function Iu(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var tm={exports:{}},Uc={};var Yw;function jR(){if(Yw)return Uc;Yw=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(n,s,o){var l=null;if(o!==void 0&&(l=""+o),s.key!==void 0&&(l=""+s.key),"key"in s){o={};for(var c in s)c!=="key"&&(o[c]=s[c])}else o=s;return s=o.ref,{$$typeof:a,type:n,key:l,ref:s!==void 0?s:null,props:o}}return Uc.Fragment=t,Uc.jsx=e,Uc.jsxs=e,Uc}var Xw;function UR(){return Xw||(Xw=1,tm.exports=jR()),tm.exports}var E=UR(),em={exports:{}},jt={};var qw;function HR(){if(qw)return jt;qw=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function m(B){return B===null||typeof B!="object"?null:(B=v&&B[v]||B["@@iterator"],typeof B=="function"?B:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,S={};function x(B,j,K){this.props=B,this.context=j,this.refs=S,this.updater=K||w}x.prototype.isReactComponent={},x.prototype.setState=function(B,j){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,j,"setState")},x.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function T(){}T.prototype=x.prototype;function C(B,j,K){this.props=B,this.context=j,this.refs=S,this.updater=K||w}var D=C.prototype=new T;D.constructor=C,_(D,x.prototype),D.isPureReactComponent=!0;var R=Array.isArray;function P(){}var O={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function F(B,j,K){var nt=K.ref;return{$$typeof:a,type:B,key:j,ref:nt!==void 0?nt:null,props:K}}function X(B,j){return F(B.type,j,B.props)}function G(B){return typeof B=="object"&&B!==null&&B.$$typeof===a}function rt(B){var j={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(K){return j[K]})}var tt=/\/+/g;function W(B,j){return typeof B=="object"&&B!==null&&B.key!=null?rt(""+B.key):j.toString(36)}function $(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(P,P):(B.status="pending",B.then(function(j){B.status==="pending"&&(B.status="fulfilled",B.value=j)},function(j){B.status==="pending"&&(B.status="rejected",B.reason=j)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function k(B,j,K,nt,pt){var gt=typeof B;(gt==="undefined"||gt==="boolean")&&(B=null);var ct=!1;if(B===null)ct=!0;else switch(gt){case"bigint":case"string":case"number":ct=!0;break;case"object":switch(B.$$typeof){case a:case t:ct=!0;break;case p:return ct=B._init,k(ct(B._payload),j,K,nt,pt)}}if(ct)return pt=pt(B),ct=nt===""?"."+W(B,0):nt,R(pt)?(K="",ct!=null&&(K=ct.replace(tt,"$&/")+"/"),k(pt,j,K,"",function(bt){return bt})):pt!=null&&(G(pt)&&(pt=X(pt,K+(pt.key==null||B&&B.key===pt.key?"":(""+pt.key).replace(tt,"$&/")+"/")+ct)),j.push(pt)),1;ct=0;var Et=nt===""?".":nt+":";if(R(B))for(var Tt=0;Tt<B.length;Tt++)nt=B[Tt],gt=Et+W(nt,Tt),ct+=k(nt,j,K,gt,pt);else if(Tt=m(B),typeof Tt=="function")for(B=Tt.call(B),Tt=0;!(nt=B.next()).done;)nt=nt.value,gt=Et+W(nt,Tt++),ct+=k(nt,j,K,gt,pt);else if(gt==="object"){if(typeof B.then=="function")return k($(B),j,K,nt,pt);throw j=String(B),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return ct}function z(B,j,K){if(B==null)return B;var nt=[],pt=0;return k(B,nt,"","",function(gt){return j.call(K,gt,pt++)}),nt}function I(B){if(B._status===-1){var j=B._result;j=j(),j.then(function(K){(B._status===0||B._status===-1)&&(B._status=1,B._result=K)},function(K){(B._status===0||B._status===-1)&&(B._status=2,B._result=K)}),B._status===-1&&(B._status=0,B._result=j)}if(B._status===1)return B._result.default;throw B._result}var Q=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},ot={map:z,forEach:function(B,j,K){z(B,function(){j.apply(this,arguments)},K)},count:function(B){var j=0;return z(B,function(){j++}),j},toArray:function(B){return z(B,function(j){return j})||[]},only:function(B){if(!G(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return jt.Activity=g,jt.Children=ot,jt.Component=x,jt.Fragment=e,jt.Profiler=s,jt.PureComponent=C,jt.StrictMode=n,jt.Suspense=h,jt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,jt.__COMPILER_RUNTIME={__proto__:null,c:function(B){return O.H.useMemoCache(B)}},jt.cache=function(B){return function(){return B.apply(null,arguments)}},jt.cacheSignal=function(){return null},jt.cloneElement=function(B,j,K){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var nt=_({},B.props),pt=B.key;if(j!=null)for(gt in j.key!==void 0&&(pt=""+j.key),j)!L.call(j,gt)||gt==="key"||gt==="__self"||gt==="__source"||gt==="ref"&&j.ref===void 0||(nt[gt]=j[gt]);var gt=arguments.length-2;if(gt===1)nt.children=K;else if(1<gt){for(var ct=Array(gt),Et=0;Et<gt;Et++)ct[Et]=arguments[Et+2];nt.children=ct}return F(B.type,pt,nt)},jt.createContext=function(B){return B={$$typeof:l,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:o,_context:B},B},jt.createElement=function(B,j,K){var nt,pt={},gt=null;if(j!=null)for(nt in j.key!==void 0&&(gt=""+j.key),j)L.call(j,nt)&&nt!=="key"&&nt!=="__self"&&nt!=="__source"&&(pt[nt]=j[nt]);var ct=arguments.length-2;if(ct===1)pt.children=K;else if(1<ct){for(var Et=Array(ct),Tt=0;Tt<ct;Tt++)Et[Tt]=arguments[Tt+2];pt.children=Et}if(B&&B.defaultProps)for(nt in ct=B.defaultProps,ct)pt[nt]===void 0&&(pt[nt]=ct[nt]);return F(B,gt,pt)},jt.createRef=function(){return{current:null}},jt.forwardRef=function(B){return{$$typeof:c,render:B}},jt.isValidElement=G,jt.lazy=function(B){return{$$typeof:p,_payload:{_status:-1,_result:B},_init:I}},jt.memo=function(B,j){return{$$typeof:d,type:B,compare:j===void 0?null:j}},jt.startTransition=function(B){var j=O.T,K={};O.T=K;try{var nt=B(),pt=O.S;pt!==null&&pt(K,nt),typeof nt=="object"&&nt!==null&&typeof nt.then=="function"&&nt.then(P,Q)}catch(gt){Q(gt)}finally{j!==null&&K.types!==null&&(j.types=K.types),O.T=j}},jt.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},jt.use=function(B){return O.H.use(B)},jt.useActionState=function(B,j,K){return O.H.useActionState(B,j,K)},jt.useCallback=function(B,j){return O.H.useCallback(B,j)},jt.useContext=function(B){return O.H.useContext(B)},jt.useDebugValue=function(){},jt.useDeferredValue=function(B,j){return O.H.useDeferredValue(B,j)},jt.useEffect=function(B,j){return O.H.useEffect(B,j)},jt.useEffectEvent=function(B){return O.H.useEffectEvent(B)},jt.useId=function(){return O.H.useId()},jt.useImperativeHandle=function(B,j,K){return O.H.useImperativeHandle(B,j,K)},jt.useInsertionEffect=function(B,j){return O.H.useInsertionEffect(B,j)},jt.useLayoutEffect=function(B,j){return O.H.useLayoutEffect(B,j)},jt.useMemo=function(B,j){return O.H.useMemo(B,j)},jt.useOptimistic=function(B,j){return O.H.useOptimistic(B,j)},jt.useReducer=function(B,j,K){return O.H.useReducer(B,j,K)},jt.useRef=function(B){return O.H.useRef(B)},jt.useState=function(B){return O.H.useState(B)},jt.useSyncExternalStore=function(B,j,K){return O.H.useSyncExternalStore(B,j,K)},jt.useTransition=function(){return O.H.useTransition()},jt.version="19.2.0",jt}var $w;function Xy(){return $w||($w=1,em.exports=HR()),em.exports}var M=Xy();const bn=Iu(M),hA=FR({__proto__:null,default:bn},[M]);var nm={exports:{}},Hc={},im={exports:{}},sm={};var Ww;function GR(){return Ww||(Ww=1,(function(a){function t(k,z){var I=k.length;k.push(z);t:for(;0<I;){var Q=I-1>>>1,ot=k[Q];if(0<s(ot,z))k[Q]=z,k[I]=ot,I=Q;else break t}}function e(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var z=k[0],I=k.pop();if(I!==z){k[0]=I;t:for(var Q=0,ot=k.length,B=ot>>>1;Q<B;){var j=2*(Q+1)-1,K=k[j],nt=j+1,pt=k[nt];if(0>s(K,I))nt<ot&&0>s(pt,K)?(k[Q]=pt,k[nt]=I,Q=nt):(k[Q]=K,k[j]=I,Q=j);else if(nt<ot&&0>s(pt,I))k[Q]=pt,k[nt]=I,Q=nt;else break t}}return z}function s(k,z){var I=k.sortIndex-z.sortIndex;return I!==0?I:k.id-z.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;a.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();a.unstable_now=function(){return l.now()-c}}var h=[],d=[],p=1,g=null,v=3,m=!1,w=!1,_=!1,S=!1,x=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function D(k){for(var z=e(d);z!==null;){if(z.callback===null)n(d);else if(z.startTime<=k)n(d),z.sortIndex=z.expirationTime,t(h,z);else break;z=e(d)}}function R(k){if(_=!1,D(k),!w)if(e(h)!==null)w=!0,P||(P=!0,rt());else{var z=e(d);z!==null&&$(R,z.startTime-k)}}var P=!1,O=-1,L=5,F=-1;function X(){return S?!0:!(a.unstable_now()-F<L)}function G(){if(S=!1,P){var k=a.unstable_now();F=k;var z=!0;try{t:{w=!1,_&&(_=!1,T(O),O=-1),m=!0;var I=v;try{e:{for(D(k),g=e(h);g!==null&&!(g.expirationTime>k&&X());){var Q=g.callback;if(typeof Q=="function"){g.callback=null,v=g.priorityLevel;var ot=Q(g.expirationTime<=k);if(k=a.unstable_now(),typeof ot=="function"){g.callback=ot,D(k),z=!0;break e}g===e(h)&&n(h),D(k)}else n(h);g=e(h)}if(g!==null)z=!0;else{var B=e(d);B!==null&&$(R,B.startTime-k),z=!1}}break t}finally{g=null,v=I,m=!1}z=void 0}}finally{z?rt():P=!1}}}var rt;if(typeof C=="function")rt=function(){C(G)};else if(typeof MessageChannel<"u"){var tt=new MessageChannel,W=tt.port2;tt.port1.onmessage=G,rt=function(){W.postMessage(null)}}else rt=function(){x(G,0)};function $(k,z){O=x(function(){k(a.unstable_now())},z)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(k){k.callback=null},a.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<k?Math.floor(1e3/k):5},a.unstable_getCurrentPriorityLevel=function(){return v},a.unstable_next=function(k){switch(v){case 1:case 2:case 3:var z=3;break;default:z=v}var I=v;v=z;try{return k()}finally{v=I}},a.unstable_requestPaint=function(){S=!0},a.unstable_runWithPriority=function(k,z){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var I=v;v=k;try{return z()}finally{v=I}},a.unstable_scheduleCallback=function(k,z,I){var Q=a.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?Q+I:Q):I=Q,k){case 1:var ot=-1;break;case 2:ot=250;break;case 5:ot=1073741823;break;case 4:ot=1e4;break;default:ot=5e3}return ot=I+ot,k={id:p++,callback:z,priorityLevel:k,startTime:I,expirationTime:ot,sortIndex:-1},I>Q?(k.sortIndex=I,t(d,k),e(h)===null&&k===e(d)&&(_?(T(O),O=-1):_=!0,$(R,I-Q))):(k.sortIndex=ot,t(h,k),w||m||(w=!0,P||(P=!0,rt()))),k},a.unstable_shouldYield=X,a.unstable_wrapCallback=function(k){var z=v;return function(){var I=v;v=z;try{return k.apply(this,arguments)}finally{v=I}}}})(sm)),sm}var Kw;function VR(){return Kw||(Kw=1,im.exports=GR()),im.exports}var rm={exports:{}},Hn={};var Qw;function YR(){if(Qw)return Hn;Qw=1;var a=Xy();function t(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var n={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(h,d,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:h,containerInfo:d,implementation:p}}var l=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Hn.createPortal=function(h,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return o(h,d,null,p)},Hn.flushSync=function(h){var d=l.T,p=n.p;try{if(l.T=null,n.p=2,h)return h()}finally{l.T=d,n.p=p,n.d.f()}},Hn.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,n.d.C(h,d))},Hn.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},Hn.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var p=d.as,g=c(p,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,m=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?n.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:m}):p==="script"&&n.d.X(h,{crossOrigin:g,integrity:v,fetchPriority:m,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Hn.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=c(d.as,d.crossOrigin);n.d.M(h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&n.d.M(h)},Hn.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,g=c(p,d.crossOrigin);n.d.L(h,p,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Hn.preloadModule=function(h,d){if(typeof h=="string")if(d){var p=c(d.as,d.crossOrigin);n.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else n.d.m(h)},Hn.requestFormReset=function(h){n.d.r(h)},Hn.unstable_batchedUpdates=function(h,d){return h(d)},Hn.useFormState=function(h,d,p){return l.H.useFormState(h,d,p)},Hn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Hn.version="19.2.0",Hn}var Zw;function dA(){if(Zw)return rm.exports;Zw=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),rm.exports=YR(),rm.exports}var Jw;function XR(){if(Jw)return Hc;Jw=1;var a=VR(),t=Xy(),e=dA();function n(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)r+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var r=i,u=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(u=r.return),i=r.return;while(i)}return r.tag===3?u:null}function l(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function c(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function h(i){if(o(i)!==i)throw Error(n(188))}function d(i){var r=i.alternate;if(!r){if(r=o(i),r===null)throw Error(n(188));return r!==i?null:i}for(var u=i,f=r;;){var y=u.return;if(y===null)break;var b=y.alternate;if(b===null){if(f=y.return,f!==null){u=f;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===u)return h(y),i;if(b===f)return h(y),r;b=b.sibling}throw Error(n(188))}if(u.return!==f.return)u=y,f=b;else{for(var A=!1,N=y.child;N;){if(N===u){A=!0,u=y,f=b;break}if(N===f){A=!0,f=y,u=b;break}N=N.sibling}if(!A){for(N=b.child;N;){if(N===u){A=!0,u=b,f=y;break}if(N===f){A=!0,f=b,u=y;break}N=N.sibling}if(!A)throw Error(n(189))}}if(u.alternate!==f)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:r}function p(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=p(i),r!==null)return r;i=i.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),C=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function rt(i){return i===null||typeof i!="object"?null:(i=G&&i[G]||i["@@iterator"],typeof i=="function"?i:null)}var tt=Symbol.for("react.client.reference");function W(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===tt?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case _:return"Fragment";case x:return"Profiler";case S:return"StrictMode";case R:return"Suspense";case P:return"SuspenseList";case F:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case w:return"Portal";case C:return i.displayName||"Context";case T:return(i._context.displayName||"Context")+".Consumer";case D:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case O:return r=i.displayName||null,r!==null?r:W(i.type)||"Memo";case L:r=i._payload,i=i._init;try{return W(i(r))}catch{}}return null}var $=Array.isArray,k=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},Q=[],ot=-1;function B(i){return{current:i}}function j(i){0>ot||(i.current=Q[ot],Q[ot]=null,ot--)}function K(i,r){ot++,Q[ot]=i.current,i.current=r}var nt=B(null),pt=B(null),gt=B(null),ct=B(null);function Et(i,r){switch(K(gt,r),K(pt,i),K(nt,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?dw(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=dw(r),i=fw(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}j(nt),K(nt,i)}function Tt(){j(nt),j(pt),j(gt)}function bt(i){i.memoizedState!==null&&K(ct,i);var r=nt.current,u=fw(r,i.type);r!==u&&(K(pt,i),K(nt,u))}function Ft(i){pt.current===i&&(j(nt),j(pt)),ct.current===i&&(j(ct),Ic._currentValue=I)}var zt,Ot;function kt(i){if(zt===void 0)try{throw Error()}catch(u){var r=u.stack.trim().match(/\n( *(at )?)/);zt=r&&r[1]||"",Ot=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zt+i+Ot}var Rt=!1;function me(i,r){if(!i||Rt)return"";Rt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(r){var dt=function(){throw Error()};if(Object.defineProperty(dt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(dt,[])}catch(it){var et=it}Reflect.construct(i,[],dt)}else{try{dt.call()}catch(it){et=it}i.call(dt.prototype)}}else{try{throw Error()}catch(it){et=it}(dt=i())&&typeof dt.catch=="function"&&dt.catch(function(){})}}catch(it){if(it&&et&&typeof it.stack=="string")return[it.stack,et.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=f.DetermineComponentFrameRoot(),A=b[0],N=b[1];if(A&&N){var U=A.split(`
`),J=N.split(`
`);for(y=f=0;f<U.length&&!U[f].includes("DetermineComponentFrameRoot");)f++;for(;y<J.length&&!J[y].includes("DetermineComponentFrameRoot");)y++;if(f===U.length||y===J.length)for(f=U.length-1,y=J.length-1;1<=f&&0<=y&&U[f]!==J[y];)y--;for(;1<=f&&0<=y;f--,y--)if(U[f]!==J[y]){if(f!==1||y!==1)do if(f--,y--,0>y||U[f]!==J[y]){var at=`
`+U[f].replace(" at new "," at ");return i.displayName&&at.includes("<anonymous>")&&(at=at.replace("<anonymous>",i.displayName)),at}while(1<=f&&0<=y);break}}}finally{Rt=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?kt(u):""}function Zt(i,r){switch(i.tag){case 26:case 27:case 5:return kt(i.type);case 16:return kt("Lazy");case 13:return i.child!==r&&r!==null?kt("Suspense Fallback"):kt("Suspense");case 19:return kt("SuspenseList");case 0:case 15:return me(i.type,!1);case 11:return me(i.type.render,!1);case 1:return me(i.type,!0);case 31:return kt("Activity");default:return""}}function Oe(i){try{var r="",u=null;do r+=Zt(i,u),u=i,i=i.return;while(i);return r}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var _n=Object.prototype.hasOwnProperty,wn=a.unstable_scheduleCallback,ce=a.unstable_cancelCallback,Pe=a.unstable_shouldYield,os=a.unstable_requestPaint,Ae=a.unstable_now,ls=a.unstable_getCurrentPriorityLevel,Je=a.unstable_ImmediatePriority,ke=a.unstable_UserBlockingPriority,Be=a.unstable_NormalPriority,Sn=a.unstable_LowPriority,xn=a.unstable_IdlePriority,Ss=a.log,Rr=a.unstable_setDisableYieldValue,$n=null,Ie=null;function pe(i){if(typeof Ss=="function"&&Rr(i),Ie&&typeof Ie.setStrictMode=="function")try{Ie.setStrictMode($n,i)}catch{}}var ue=Math.clz32?Math.clz32:zn,Ys=Math.log,mi=Math.LN2;function zn(i){return i>>>=0,i===0?32:31-(Ys(i)/mi|0)|0}var Fn=256,Ge=262144,jn=4194304;function Rn(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function yi(i,r,u){var f=i.pendingLanes;if(f===0)return 0;var y=0,b=i.suspendedLanes,A=i.pingedLanes;i=i.warmLanes;var N=f&134217727;return N!==0?(f=N&~b,f!==0?y=Rn(f):(A&=N,A!==0?y=Rn(A):u||(u=N&~i,u!==0&&(y=Rn(u))))):(N=f&~b,N!==0?y=Rn(N):A!==0?y=Rn(A):u||(u=f&~i,u!==0&&(y=Rn(u)))),y===0?0:r!==0&&r!==y&&(r&b)===0&&(b=y&-y,u=r&-r,b>=u||b===32&&(u&4194048)!==0)?r:y}function xt(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function H(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ut(){var i=jn;return jn<<=1,(jn&62914560)===0&&(jn=4194304),i}function Y(i){for(var r=[],u=0;31>u;u++)r.push(i);return r}function st(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function mt(i,r,u,f,y,b){var A=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var N=i.entanglements,U=i.expirationTimes,J=i.hiddenUpdates;for(u=A&~u;0<u;){var at=31-ue(u),dt=1<<at;N[at]=0,U[at]=-1;var et=J[at];if(et!==null)for(J[at]=null,at=0;at<et.length;at++){var it=et[at];it!==null&&(it.lane&=-536870913)}u&=~dt}f!==0&&vt(i,f,0),b!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=b&~(A&~r))}function vt(i,r,u){i.pendingLanes|=r,i.suspendedLanes&=~r;var f=31-ue(r);i.entangledLanes|=r,i.entanglements[f]=i.entanglements[f]|1073741824|u&261930}function ht(i,r){var u=i.entangledLanes|=r;for(i=i.entanglements;u;){var f=31-ue(u),y=1<<f;y&r|i[f]&r&&(i[f]|=r),u&=~y}}function ft(i,r){var u=r&-r;return u=(u&42)!==0?1:yt(u),(u&(i.suspendedLanes|r))!==0?0:u}function yt(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function _t(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Bt(){var i=z.p;return i!==0?i:(i=window.event,i===void 0?32:Bw(i.type))}function ie(i,r){var u=z.p;try{return z.p=i,r()}finally{z.p=u}}var Jt=Math.random().toString(36).slice(2),Gt="__reactFiber$"+Jt,qt="__reactProps$"+Jt,$t="__reactContainer$"+Jt,be="__reactEvents$"+Jt,ze="__reactListeners$"+Jt,Ta="__reactHandles$"+Jt,Dn="__reactResources$"+Jt,Dr="__reactMarker$"+Jt;function Eo(i){delete i[Gt],delete i[qt],delete i[be],delete i[ze],delete i[Ta]}function Xs(i){var r=i[Gt];if(r)return r;for(var u=i.parentNode;u;){if(r=u[$t]||u[Gt]){if(u=r.alternate,r.child!==null||u!==null&&u.child!==null)for(i=_w(i);i!==null;){if(u=i[Gt])return u;i=_w(i)}return r}i=u,u=i.parentNode}return null}function qs(i){if(i=i[Gt]||i[$t]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function se(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(n(33))}function Un(i){var r=i[Dn];return r||(r=i[Dn]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function We(i){i[Dr]=!0}var Or=new Set,eh={};function cs(i,r){To(i,r),To(i+"Capture",r)}function To(i,r){for(eh[i]=r,i=0;i<r.length;i++)Or.add(r[i])}var DC=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),n0={},i0={};function OC(i){return _n.call(i0,i)?!0:_n.call(n0,i)?!1:DC.test(i)?i0[i]=!0:(n0[i]=!0,!1)}function nh(i,r,u){if(OC(r))if(u===null)i.removeAttribute(r);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var f=r.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+u)}}function ih(i,r,u){if(u===null)i.removeAttribute(r);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+u)}}function $s(i,r,u,f){if(f===null)i.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(r,u,""+f)}}function Fi(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function s0(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function kC(i,r,u){var f=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var y=f.get,b=f.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return y.call(this)},set:function(A){u=""+A,b.call(this,A)}}),Object.defineProperty(i,r,{enumerable:f.enumerable}),{getValue:function(){return u},setValue:function(A){u=""+A},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Xf(i){if(!i._valueTracker){var r=s0(i)?"checked":"value";i._valueTracker=kC(i,r,""+i[r])}}function r0(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var u=r.getValue(),f="";return i&&(f=s0(i)?i.checked?"true":"false":i.value),i=f,i!==u?(r.setValue(i),!0):!1}function sh(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var NC=/[\n"\\]/g;function ji(i){return i.replace(NC,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function qf(i,r,u,f,y,b,A,N){i.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.type=A:i.removeAttribute("type"),r!=null?A==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Fi(r)):i.value!==""+Fi(r)&&(i.value=""+Fi(r)):A!=="submit"&&A!=="reset"||i.removeAttribute("value"),r!=null?$f(i,A,Fi(r)):u!=null?$f(i,A,Fi(u)):f!=null&&i.removeAttribute("value"),y==null&&b!=null&&(i.defaultChecked=!!b),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?i.name=""+Fi(N):i.removeAttribute("name")}function a0(i,r,u,f,y,b,A,N){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.type=b),r!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||r!=null)){Xf(i);return}u=u!=null?""+Fi(u):"",r=r!=null?""+Fi(r):u,N||r===i.value||(i.value=r),i.defaultValue=r}f=f??y,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=N?i.checked:!!f,i.defaultChecked=!!f,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.name=A),Xf(i)}function $f(i,r,u){r==="number"&&sh(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function Co(i,r,u,f){if(i=i.options,r){r={};for(var y=0;y<u.length;y++)r["$"+u[y]]=!0;for(u=0;u<i.length;u++)y=r.hasOwnProperty("$"+i[u].value),i[u].selected!==y&&(i[u].selected=y),y&&f&&(i[u].defaultSelected=!0)}else{for(u=""+Fi(u),r=null,y=0;y<i.length;y++){if(i[y].value===u){i[y].selected=!0,f&&(i[y].defaultSelected=!0);return}r!==null||i[y].disabled||(r=i[y])}r!==null&&(r.selected=!0)}}function o0(i,r,u){if(r!=null&&(r=""+Fi(r),r!==i.value&&(i.value=r),u==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=u!=null?""+Fi(u):""}function l0(i,r,u,f){if(r==null){if(f!=null){if(u!=null)throw Error(n(92));if($(f)){if(1<f.length)throw Error(n(93));f=f[0]}u=f}u==null&&(u=""),r=u}u=Fi(r),i.defaultValue=u,f=i.textContent,f===u&&f!==""&&f!==null&&(i.value=f),Xf(i)}function Mo(i,r){if(r){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=r;return}}i.textContent=r}var LC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function c0(i,r,u){var f=r.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":f?i.setProperty(r,u):typeof u!="number"||u===0||LC.has(r)?r==="float"?i.cssFloat=u:i[r]=(""+u).trim():i[r]=u+"px"}function u0(i,r,u){if(r!=null&&typeof r!="object")throw Error(n(62));if(i=i.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||r!=null&&r.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var y in r)f=r[y],r.hasOwnProperty(y)&&u[y]!==f&&c0(i,y,f)}else for(var b in r)r.hasOwnProperty(b)&&c0(i,b,r[b])}function Wf(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var PC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),BC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rh(i){return BC.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Ws(){}var Kf=null;function Qf(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ro=null,Do=null;function h0(i){var r=qs(i);if(r&&(i=r.stateNode)){var u=i[qt]||null;t:switch(i=r.stateNode,r.type){case"input":if(qf(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),r=u.name,u.type==="radio"&&r!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+ji(""+r)+'"][type="radio"]'),r=0;r<u.length;r++){var f=u[r];if(f!==i&&f.form===i.form){var y=f[qt]||null;if(!y)throw Error(n(90));qf(f,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(r=0;r<u.length;r++)f=u[r],f.form===i.form&&r0(f)}break t;case"textarea":o0(i,u.value,u.defaultValue);break t;case"select":r=u.value,r!=null&&Co(i,!!u.multiple,r,!1)}}}var Zf=!1;function d0(i,r,u){if(Zf)return i(r,u);Zf=!0;try{var f=i(r);return f}finally{if(Zf=!1,(Ro!==null||Do!==null)&&(Xh(),Ro&&(r=Ro,i=Do,Do=Ro=null,h0(r),i)))for(r=0;r<i.length;r++)h0(i[r])}}function tc(i,r){var u=i.stateNode;if(u===null)return null;var f=u[qt]||null;if(f===null)return null;u=f[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break t;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,r,typeof u));return u}var Ks=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jf=!1;if(Ks)try{var ec={};Object.defineProperty(ec,"passive",{get:function(){Jf=!0}}),window.addEventListener("test",ec,ec),window.removeEventListener("test",ec,ec)}catch{Jf=!1}var kr=null,tp=null,ah=null;function f0(){if(ah)return ah;var i,r=tp,u=r.length,f,y="value"in kr?kr.value:kr.textContent,b=y.length;for(i=0;i<u&&r[i]===y[i];i++);var A=u-i;for(f=1;f<=A&&r[u-f]===y[b-f];f++);return ah=y.slice(i,1<f?1-f:void 0)}function oh(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function lh(){return!0}function p0(){return!1}function ei(i){function r(u,f,y,b,A){this._reactName=u,this._targetInst=y,this.type=f,this.nativeEvent=b,this.target=A,this.currentTarget=null;for(var N in i)i.hasOwnProperty(N)&&(u=i[N],this[N]=u?u(b):b[N]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?lh:p0,this.isPropagationStopped=p0,this}return g(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=lh)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=lh)},persist:function(){},isPersistent:lh}),r}var Ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ch=ei(Ca),nc=g({},Ca,{view:0,detail:0}),IC=ei(nc),ep,np,ic,uh=g({},nc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sp,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ic&&(ic&&i.type==="mousemove"?(ep=i.screenX-ic.screenX,np=i.screenY-ic.screenY):np=ep=0,ic=i),ep)},movementY:function(i){return"movementY"in i?i.movementY:np}}),g0=ei(uh),zC=g({},uh,{dataTransfer:0}),FC=ei(zC),jC=g({},nc,{relatedTarget:0}),ip=ei(jC),UC=g({},Ca,{animationName:0,elapsedTime:0,pseudoElement:0}),HC=ei(UC),GC=g({},Ca,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),VC=ei(GC),YC=g({},Ca,{data:0}),m0=ei(YC),XC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$C={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WC(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=$C[i])?!!r[i]:!1}function sp(){return WC}var KC=g({},nc,{key:function(i){if(i.key){var r=XC[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=oh(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?qC[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sp,charCode:function(i){return i.type==="keypress"?oh(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?oh(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),QC=ei(KC),ZC=g({},uh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),y0=ei(ZC),JC=g({},nc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sp}),tM=ei(JC),eM=g({},Ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),nM=ei(eM),iM=g({},uh,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),sM=ei(iM),rM=g({},Ca,{newState:0,oldState:0}),aM=ei(rM),oM=[9,13,27,32],rp=Ks&&"CompositionEvent"in window,sc=null;Ks&&"documentMode"in document&&(sc=document.documentMode);var lM=Ks&&"TextEvent"in window&&!sc,v0=Ks&&(!rp||sc&&8<sc&&11>=sc),b0=" ",_0=!1;function w0(i,r){switch(i){case"keyup":return oM.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function S0(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Oo=!1;function cM(i,r){switch(i){case"compositionend":return S0(r);case"keypress":return r.which!==32?null:(_0=!0,b0);case"textInput":return i=r.data,i===b0&&_0?null:i;default:return null}}function uM(i,r){if(Oo)return i==="compositionend"||!rp&&w0(i,r)?(i=f0(),ah=tp=kr=null,Oo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v0&&r.locale!=="ko"?null:r.data;default:return null}}var hM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function x0(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!hM[i.type]:r==="textarea"}function A0(i,r,u,f){Ro?Do?Do.push(f):Do=[f]:Ro=f,r=Jh(r,"onChange"),0<r.length&&(u=new ch("onChange","change",null,u,f),i.push({event:u,listeners:r}))}var rc=null,ac=null;function dM(i){aw(i,0)}function hh(i){var r=se(i);if(r0(r))return i}function E0(i,r){if(i==="change")return r}var T0=!1;if(Ks){var ap;if(Ks){var op="oninput"in document;if(!op){var C0=document.createElement("div");C0.setAttribute("oninput","return;"),op=typeof C0.oninput=="function"}ap=op}else ap=!1;T0=ap&&(!document.documentMode||9<document.documentMode)}function M0(){rc&&(rc.detachEvent("onpropertychange",R0),ac=rc=null)}function R0(i){if(i.propertyName==="value"&&hh(ac)){var r=[];A0(r,ac,i,Qf(i)),d0(dM,r)}}function fM(i,r,u){i==="focusin"?(M0(),rc=r,ac=u,rc.attachEvent("onpropertychange",R0)):i==="focusout"&&M0()}function pM(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return hh(ac)}function gM(i,r){if(i==="click")return hh(r)}function mM(i,r){if(i==="input"||i==="change")return hh(r)}function yM(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var vi=typeof Object.is=="function"?Object.is:yM;function oc(i,r){if(vi(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var u=Object.keys(i),f=Object.keys(r);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var y=u[f];if(!_n.call(r,y)||!vi(i[y],r[y]))return!1}return!0}function D0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function O0(i,r){var u=D0(i);i=0;for(var f;u;){if(u.nodeType===3){if(f=i+u.textContent.length,i<=r&&f>=r)return{node:u,offset:r-i};i=f}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=D0(u)}}function k0(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?k0(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function N0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=sh(i.document);r instanceof i.HTMLIFrameElement;){try{var u=typeof r.contentWindow.location.href=="string"}catch{u=!1}if(u)i=r.contentWindow;else break;r=sh(i.document)}return r}function lp(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var vM=Ks&&"documentMode"in document&&11>=document.documentMode,ko=null,cp=null,lc=null,up=!1;function L0(i,r,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;up||ko==null||ko!==sh(f)||(f=ko,"selectionStart"in f&&lp(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),lc&&oc(lc,f)||(lc=f,f=Jh(cp,"onSelect"),0<f.length&&(r=new ch("onSelect","select",null,r,u),i.push({event:r,listeners:f}),r.target=ko)))}function Ma(i,r){var u={};return u[i.toLowerCase()]=r.toLowerCase(),u["Webkit"+i]="webkit"+r,u["Moz"+i]="moz"+r,u}var No={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionrun:Ma("Transition","TransitionRun"),transitionstart:Ma("Transition","TransitionStart"),transitioncancel:Ma("Transition","TransitionCancel"),transitionend:Ma("Transition","TransitionEnd")},hp={},P0={};Ks&&(P0=document.createElement("div").style,"AnimationEvent"in window||(delete No.animationend.animation,delete No.animationiteration.animation,delete No.animationstart.animation),"TransitionEvent"in window||delete No.transitionend.transition);function Ra(i){if(hp[i])return hp[i];if(!No[i])return i;var r=No[i],u;for(u in r)if(r.hasOwnProperty(u)&&u in P0)return hp[i]=r[u];return i}var B0=Ra("animationend"),I0=Ra("animationiteration"),z0=Ra("animationstart"),bM=Ra("transitionrun"),_M=Ra("transitionstart"),wM=Ra("transitioncancel"),F0=Ra("transitionend"),j0=new Map,dp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dp.push("scrollEnd");function us(i,r){j0.set(i,r),cs(r,[i])}var dh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Ui=[],Lo=0,fp=0;function fh(){for(var i=Lo,r=fp=Lo=0;r<i;){var u=Ui[r];Ui[r++]=null;var f=Ui[r];Ui[r++]=null;var y=Ui[r];Ui[r++]=null;var b=Ui[r];if(Ui[r++]=null,f!==null&&y!==null){var A=f.pending;A===null?y.next=y:(y.next=A.next,A.next=y),f.pending=y}b!==0&&U0(u,y,b)}}function ph(i,r,u,f){Ui[Lo++]=i,Ui[Lo++]=r,Ui[Lo++]=u,Ui[Lo++]=f,fp|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function pp(i,r,u,f){return ph(i,r,u,f),gh(i)}function Da(i,r){return ph(i,null,null,r),gh(i)}function U0(i,r,u){i.lanes|=u;var f=i.alternate;f!==null&&(f.lanes|=u);for(var y=!1,b=i.return;b!==null;)b.childLanes|=u,f=b.alternate,f!==null&&(f.childLanes|=u),b.tag===22&&(i=b.stateNode,i===null||i._visibility&1||(y=!0)),i=b,b=b.return;return i.tag===3?(b=i.stateNode,y&&r!==null&&(y=31-ue(u),i=b.hiddenUpdates,f=i[y],f===null?i[y]=[r]:f.push(r),r.lane=u|536870912),b):null}function gh(i){if(50<Dc)throw Dc=0,xg=null,Error(n(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var Po={};function SM(i,r,u,f){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bi(i,r,u,f){return new SM(i,r,u,f)}function gp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Qs(i,r){var u=i.alternate;return u===null?(u=bi(i.tag,r,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=r,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,r=i.dependencies,u.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function H0(i,r){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,r=u.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function mh(i,r,u,f,y,b){var A=0;if(f=i,typeof i=="function")gp(i)&&(A=1);else if(typeof i=="string")A=CR(i,u,nt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case F:return i=bi(31,u,r,y),i.elementType=F,i.lanes=b,i;case _:return Oa(u.children,y,b,r);case S:A=8,y|=24;break;case x:return i=bi(12,u,r,y|2),i.elementType=x,i.lanes=b,i;case R:return i=bi(13,u,r,y),i.elementType=R,i.lanes=b,i;case P:return i=bi(19,u,r,y),i.elementType=P,i.lanes=b,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case C:A=10;break t;case T:A=9;break t;case D:A=11;break t;case O:A=14;break t;case L:A=16,f=null;break t}A=29,u=Error(n(130,i===null?"null":typeof i,"")),f=null}return r=bi(A,u,r,y),r.elementType=i,r.type=f,r.lanes=b,r}function Oa(i,r,u,f){return i=bi(7,i,f,r),i.lanes=u,i}function mp(i,r,u){return i=bi(6,i,null,r),i.lanes=u,i}function G0(i){var r=bi(18,null,null,0);return r.stateNode=i,r}function yp(i,r,u){return r=bi(4,i.children!==null?i.children:[],i.key,r),r.lanes=u,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var V0=new WeakMap;function Hi(i,r){if(typeof i=="object"&&i!==null){var u=V0.get(i);return u!==void 0?u:(r={value:i,source:r,stack:Oe(r)},V0.set(i,r),r)}return{value:i,source:r,stack:Oe(r)}}var Bo=[],Io=0,yh=null,cc=0,Gi=[],Vi=0,Nr=null,xs=1,As="";function Zs(i,r){Bo[Io++]=cc,Bo[Io++]=yh,yh=i,cc=r}function Y0(i,r,u){Gi[Vi++]=xs,Gi[Vi++]=As,Gi[Vi++]=Nr,Nr=i;var f=xs;i=As;var y=32-ue(f)-1;f&=~(1<<y),u+=1;var b=32-ue(r)+y;if(30<b){var A=y-y%5;b=(f&(1<<A)-1).toString(32),f>>=A,y-=A,xs=1<<32-ue(r)+y|u<<y|f,As=b+i}else xs=1<<b|u<<y|f,As=i}function vp(i){i.return!==null&&(Zs(i,1),Y0(i,1,0))}function bp(i){for(;i===yh;)yh=Bo[--Io],Bo[Io]=null,cc=Bo[--Io],Bo[Io]=null;for(;i===Nr;)Nr=Gi[--Vi],Gi[Vi]=null,As=Gi[--Vi],Gi[Vi]=null,xs=Gi[--Vi],Gi[Vi]=null}function X0(i,r){Gi[Vi++]=xs,Gi[Vi++]=As,Gi[Vi++]=Nr,xs=r.id,As=r.overflow,Nr=i}var On=null,Ne=null,re=!1,Lr=null,Yi=!1,_p=Error(n(519));function Pr(i){var r=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw uc(Hi(r,i)),_p}function q0(i){var r=i.stateNode,u=i.type,f=i.memoizedProps;switch(r[Gt]=i,r[qt]=f,u){case"dialog":Qt("cancel",r),Qt("close",r);break;case"iframe":case"object":case"embed":Qt("load",r);break;case"video":case"audio":for(u=0;u<kc.length;u++)Qt(kc[u],r);break;case"source":Qt("error",r);break;case"img":case"image":case"link":Qt("error",r),Qt("load",r);break;case"details":Qt("toggle",r);break;case"input":Qt("invalid",r),a0(r,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":Qt("invalid",r);break;case"textarea":Qt("invalid",r),l0(r,f.value,f.defaultValue,f.children)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||r.textContent===""+u||f.suppressHydrationWarning===!0||uw(r.textContent,u)?(f.popover!=null&&(Qt("beforetoggle",r),Qt("toggle",r)),f.onScroll!=null&&Qt("scroll",r),f.onScrollEnd!=null&&Qt("scrollend",r),f.onClick!=null&&(r.onclick=Ws),r=!0):r=!1,r||Pr(i,!0)}function $0(i){for(On=i.return;On;)switch(On.tag){case 5:case 31:case 13:Yi=!1;return;case 27:case 3:Yi=!0;return;default:On=On.return}}function zo(i){if(i!==On)return!1;if(!re)return $0(i),re=!0,!1;var r=i.tag,u;if((u=r!==3&&r!==27)&&((u=r===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||zg(i.type,i.memoizedProps)),u=!u),u&&Ne&&Pr(i),$0(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));Ne=bw(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));Ne=bw(i)}else r===27?(r=Ne,Wr(i.type)?(i=Gg,Gg=null,Ne=i):Ne=r):Ne=On?qi(i.stateNode.nextSibling):null;return!0}function ka(){Ne=On=null,re=!1}function wp(){var i=Lr;return i!==null&&(ri===null?ri=i:ri.push.apply(ri,i),Lr=null),i}function uc(i){Lr===null?Lr=[i]:Lr.push(i)}var Sp=B(null),Na=null,Js=null;function Br(i,r,u){K(Sp,r._currentValue),r._currentValue=u}function tr(i){i._currentValue=Sp.current,j(Sp)}function xp(i,r,u){for(;i!==null;){var f=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,f!==null&&(f.childLanes|=r)):f!==null&&(f.childLanes&r)!==r&&(f.childLanes|=r),i===u)break;i=i.return}}function Ap(i,r,u,f){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var b=y.dependencies;if(b!==null){var A=y.child;b=b.firstContext;t:for(;b!==null;){var N=b;b=y;for(var U=0;U<r.length;U++)if(N.context===r[U]){b.lanes|=u,N=b.alternate,N!==null&&(N.lanes|=u),xp(b.return,u,i),f||(A=null);break t}b=N.next}}else if(y.tag===18){if(A=y.return,A===null)throw Error(n(341));A.lanes|=u,b=A.alternate,b!==null&&(b.lanes|=u),xp(A,u,i),A=null}else A=y.child;if(A!==null)A.return=y;else for(A=y;A!==null;){if(A===i){A=null;break}if(y=A.sibling,y!==null){y.return=A.return,A=y;break}A=A.return}y=A}}function Fo(i,r,u,f){i=null;for(var y=r,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var A=y.alternate;if(A===null)throw Error(n(387));if(A=A.memoizedProps,A!==null){var N=y.type;vi(y.pendingProps.value,A.value)||(i!==null?i.push(N):i=[N])}}else if(y===ct.current){if(A=y.alternate,A===null)throw Error(n(387));A.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(Ic):i=[Ic])}y=y.return}i!==null&&Ap(r,i,u,f),r.flags|=262144}function vh(i){for(i=i.firstContext;i!==null;){if(!vi(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function La(i){Na=i,Js=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function kn(i){return W0(Na,i)}function bh(i,r){return Na===null&&La(i),W0(i,r)}function W0(i,r){var u=r._currentValue;if(r={context:r,memoizedValue:u,next:null},Js===null){if(i===null)throw Error(n(308));Js=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Js=Js.next=r;return u}var xM=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(u,f){i.push(f)}};this.abort=function(){r.aborted=!0,i.forEach(function(u){return u()})}},AM=a.unstable_scheduleCallback,EM=a.unstable_NormalPriority,ln={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ep(){return{controller:new xM,data:new Map,refCount:0}}function hc(i){i.refCount--,i.refCount===0&&AM(EM,function(){i.controller.abort()})}var dc=null,Tp=0,jo=0,Uo=null;function TM(i,r){if(dc===null){var u=dc=[];Tp=0,jo=Rg(),Uo={status:"pending",value:void 0,then:function(f){u.push(f)}}}return Tp++,r.then(K0,K0),r}function K0(){if(--Tp===0&&dc!==null){Uo!==null&&(Uo.status="fulfilled");var i=dc;dc=null,jo=0,Uo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function CM(i,r){var u=[],f={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return i.then(function(){f.status="fulfilled",f.value=r;for(var y=0;y<u.length;y++)(0,u[y])(r)},function(y){for(f.status="rejected",f.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),f}var Q0=k.S;k.S=function(i,r){L_=Ae(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&TM(i,r),Q0!==null&&Q0(i,r)};var Pa=B(null);function Cp(){var i=Pa.current;return i!==null?i:Ee.pooledCache}function _h(i,r){r===null?K(Pa,Pa.current):K(Pa,r.pool)}function Z0(){var i=Cp();return i===null?null:{parent:ln._currentValue,pool:i}}var Ho=Error(n(460)),Mp=Error(n(474)),wh=Error(n(542)),Sh={then:function(){}};function J0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function tb(i,r,u){switch(u=i[u],u===void 0?i.push(r):u!==r&&(r.then(Ws,Ws),r=u),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,nb(i),i;default:if(typeof r.status=="string")r.then(Ws,Ws);else{if(i=Ee,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=r,i.status="pending",i.then(function(f){if(r.status==="pending"){var y=r;y.status="fulfilled",y.value=f}},function(f){if(r.status==="pending"){var y=r;y.status="rejected",y.reason=f}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,nb(i),i}throw Ia=r,Ho}}function Ba(i){try{var r=i._init;return r(i._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Ia=u,Ho):u}}var Ia=null;function eb(){if(Ia===null)throw Error(n(459));var i=Ia;return Ia=null,i}function nb(i){if(i===Ho||i===wh)throw Error(n(483))}var Go=null,fc=0;function xh(i){var r=fc;return fc+=1,Go===null&&(Go=[]),tb(Go,i,r)}function pc(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Ah(i,r){throw r.$$typeof===v?Error(n(525)):(i=Object.prototype.toString.call(r),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function ib(i){function r(q,V){if(i){var Z=q.deletions;Z===null?(q.deletions=[V],q.flags|=16):Z.push(V)}}function u(q,V){if(!i)return null;for(;V!==null;)r(q,V),V=V.sibling;return null}function f(q){for(var V=new Map;q!==null;)q.key!==null?V.set(q.key,q):V.set(q.index,q),q=q.sibling;return V}function y(q,V){return q=Qs(q,V),q.index=0,q.sibling=null,q}function b(q,V,Z){return q.index=Z,i?(Z=q.alternate,Z!==null?(Z=Z.index,Z<V?(q.flags|=67108866,V):Z):(q.flags|=67108866,V)):(q.flags|=1048576,V)}function A(q){return i&&q.alternate===null&&(q.flags|=67108866),q}function N(q,V,Z,lt){return V===null||V.tag!==6?(V=mp(Z,q.mode,lt),V.return=q,V):(V=y(V,Z),V.return=q,V)}function U(q,V,Z,lt){var Nt=Z.type;return Nt===_?at(q,V,Z.props.children,lt,Z.key):V!==null&&(V.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===L&&Ba(Nt)===V.type)?(V=y(V,Z.props),pc(V,Z),V.return=q,V):(V=mh(Z.type,Z.key,Z.props,null,q.mode,lt),pc(V,Z),V.return=q,V)}function J(q,V,Z,lt){return V===null||V.tag!==4||V.stateNode.containerInfo!==Z.containerInfo||V.stateNode.implementation!==Z.implementation?(V=yp(Z,q.mode,lt),V.return=q,V):(V=y(V,Z.children||[]),V.return=q,V)}function at(q,V,Z,lt,Nt){return V===null||V.tag!==7?(V=Oa(Z,q.mode,lt,Nt),V.return=q,V):(V=y(V,Z),V.return=q,V)}function dt(q,V,Z){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=mp(""+V,q.mode,Z),V.return=q,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case m:return Z=mh(V.type,V.key,V.props,null,q.mode,Z),pc(Z,V),Z.return=q,Z;case w:return V=yp(V,q.mode,Z),V.return=q,V;case L:return V=Ba(V),dt(q,V,Z)}if($(V)||rt(V))return V=Oa(V,q.mode,Z,null),V.return=q,V;if(typeof V.then=="function")return dt(q,xh(V),Z);if(V.$$typeof===C)return dt(q,bh(q,V),Z);Ah(q,V)}return null}function et(q,V,Z,lt){var Nt=V!==null?V.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Nt!==null?null:N(q,V,""+Z,lt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case m:return Z.key===Nt?U(q,V,Z,lt):null;case w:return Z.key===Nt?J(q,V,Z,lt):null;case L:return Z=Ba(Z),et(q,V,Z,lt)}if($(Z)||rt(Z))return Nt!==null?null:at(q,V,Z,lt,null);if(typeof Z.then=="function")return et(q,V,xh(Z),lt);if(Z.$$typeof===C)return et(q,V,bh(q,Z),lt);Ah(q,Z)}return null}function it(q,V,Z,lt,Nt){if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return q=q.get(Z)||null,N(V,q,""+lt,Nt);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case m:return q=q.get(lt.key===null?Z:lt.key)||null,U(V,q,lt,Nt);case w:return q=q.get(lt.key===null?Z:lt.key)||null,J(V,q,lt,Nt);case L:return lt=Ba(lt),it(q,V,Z,lt,Nt)}if($(lt)||rt(lt))return q=q.get(Z)||null,at(V,q,lt,Nt,null);if(typeof lt.then=="function")return it(q,V,Z,xh(lt),Nt);if(lt.$$typeof===C)return it(q,V,Z,bh(V,lt),Nt);Ah(V,lt)}return null}function At(q,V,Z,lt){for(var Nt=null,de=null,Dt=V,Yt=V=0,ee=null;Dt!==null&&Yt<Z.length;Yt++){Dt.index>Yt?(ee=Dt,Dt=null):ee=Dt.sibling;var fe=et(q,Dt,Z[Yt],lt);if(fe===null){Dt===null&&(Dt=ee);break}i&&Dt&&fe.alternate===null&&r(q,Dt),V=b(fe,V,Yt),de===null?Nt=fe:de.sibling=fe,de=fe,Dt=ee}if(Yt===Z.length)return u(q,Dt),re&&Zs(q,Yt),Nt;if(Dt===null){for(;Yt<Z.length;Yt++)Dt=dt(q,Z[Yt],lt),Dt!==null&&(V=b(Dt,V,Yt),de===null?Nt=Dt:de.sibling=Dt,de=Dt);return re&&Zs(q,Yt),Nt}for(Dt=f(Dt);Yt<Z.length;Yt++)ee=it(Dt,q,Yt,Z[Yt],lt),ee!==null&&(i&&ee.alternate!==null&&Dt.delete(ee.key===null?Yt:ee.key),V=b(ee,V,Yt),de===null?Nt=ee:de.sibling=ee,de=ee);return i&&Dt.forEach(function(ta){return r(q,ta)}),re&&Zs(q,Yt),Nt}function Pt(q,V,Z,lt){if(Z==null)throw Error(n(151));for(var Nt=null,de=null,Dt=V,Yt=V=0,ee=null,fe=Z.next();Dt!==null&&!fe.done;Yt++,fe=Z.next()){Dt.index>Yt?(ee=Dt,Dt=null):ee=Dt.sibling;var ta=et(q,Dt,fe.value,lt);if(ta===null){Dt===null&&(Dt=ee);break}i&&Dt&&ta.alternate===null&&r(q,Dt),V=b(ta,V,Yt),de===null?Nt=ta:de.sibling=ta,de=ta,Dt=ee}if(fe.done)return u(q,Dt),re&&Zs(q,Yt),Nt;if(Dt===null){for(;!fe.done;Yt++,fe=Z.next())fe=dt(q,fe.value,lt),fe!==null&&(V=b(fe,V,Yt),de===null?Nt=fe:de.sibling=fe,de=fe);return re&&Zs(q,Yt),Nt}for(Dt=f(Dt);!fe.done;Yt++,fe=Z.next())fe=it(Dt,q,Yt,fe.value,lt),fe!==null&&(i&&fe.alternate!==null&&Dt.delete(fe.key===null?Yt:fe.key),V=b(fe,V,Yt),de===null?Nt=fe:de.sibling=fe,de=fe);return i&&Dt.forEach(function(zR){return r(q,zR)}),re&&Zs(q,Yt),Nt}function Se(q,V,Z,lt){if(typeof Z=="object"&&Z!==null&&Z.type===_&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case m:t:{for(var Nt=Z.key;V!==null;){if(V.key===Nt){if(Nt=Z.type,Nt===_){if(V.tag===7){u(q,V.sibling),lt=y(V,Z.props.children),lt.return=q,q=lt;break t}}else if(V.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===L&&Ba(Nt)===V.type){u(q,V.sibling),lt=y(V,Z.props),pc(lt,Z),lt.return=q,q=lt;break t}u(q,V);break}else r(q,V);V=V.sibling}Z.type===_?(lt=Oa(Z.props.children,q.mode,lt,Z.key),lt.return=q,q=lt):(lt=mh(Z.type,Z.key,Z.props,null,q.mode,lt),pc(lt,Z),lt.return=q,q=lt)}return A(q);case w:t:{for(Nt=Z.key;V!==null;){if(V.key===Nt)if(V.tag===4&&V.stateNode.containerInfo===Z.containerInfo&&V.stateNode.implementation===Z.implementation){u(q,V.sibling),lt=y(V,Z.children||[]),lt.return=q,q=lt;break t}else{u(q,V);break}else r(q,V);V=V.sibling}lt=yp(Z,q.mode,lt),lt.return=q,q=lt}return A(q);case L:return Z=Ba(Z),Se(q,V,Z,lt)}if($(Z))return At(q,V,Z,lt);if(rt(Z)){if(Nt=rt(Z),typeof Nt!="function")throw Error(n(150));return Z=Nt.call(Z),Pt(q,V,Z,lt)}if(typeof Z.then=="function")return Se(q,V,xh(Z),lt);if(Z.$$typeof===C)return Se(q,V,bh(q,Z),lt);Ah(q,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,V!==null&&V.tag===6?(u(q,V.sibling),lt=y(V,Z),lt.return=q,q=lt):(u(q,V),lt=mp(Z,q.mode,lt),lt.return=q,q=lt),A(q)):u(q,V)}return function(q,V,Z,lt){try{fc=0;var Nt=Se(q,V,Z,lt);return Go=null,Nt}catch(Dt){if(Dt===Ho||Dt===wh)throw Dt;var de=bi(29,Dt,null,q.mode);return de.lanes=lt,de.return=q,de}finally{}}}var za=ib(!0),sb=ib(!1),Ir=!1;function Rp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dp(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function zr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Fr(i,r,u){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(ge&2)!==0){var y=f.pending;return y===null?r.next=r:(r.next=y.next,y.next=r),f.pending=r,r=gh(i),U0(i,null,u),r}return ph(i,f,r,u),gh(i)}function gc(i,r,u){if(r=r.updateQueue,r!==null&&(r=r.shared,(u&4194048)!==0)){var f=r.lanes;f&=i.pendingLanes,u|=f,r.lanes=u,ht(i,u)}}function Op(i,r){var u=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var y=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var A={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?y=b=A:b=b.next=A,u=u.next}while(u!==null);b===null?y=b=r:b=b.next=r}else y=b=r;u={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:f.shared,callbacks:f.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=r:i.next=r,u.lastBaseUpdate=r}var kp=!1;function mc(){if(kp){var i=Uo;if(i!==null)throw i}}function yc(i,r,u,f){kp=!1;var y=i.updateQueue;Ir=!1;var b=y.firstBaseUpdate,A=y.lastBaseUpdate,N=y.shared.pending;if(N!==null){y.shared.pending=null;var U=N,J=U.next;U.next=null,A===null?b=J:A.next=J,A=U;var at=i.alternate;at!==null&&(at=at.updateQueue,N=at.lastBaseUpdate,N!==A&&(N===null?at.firstBaseUpdate=J:N.next=J,at.lastBaseUpdate=U))}if(b!==null){var dt=y.baseState;A=0,at=J=U=null,N=b;do{var et=N.lane&-536870913,it=et!==N.lane;if(it?(te&et)===et:(f&et)===et){et!==0&&et===jo&&(kp=!0),at!==null&&(at=at.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});t:{var At=i,Pt=N;et=r;var Se=u;switch(Pt.tag){case 1:if(At=Pt.payload,typeof At=="function"){dt=At.call(Se,dt,et);break t}dt=At;break t;case 3:At.flags=At.flags&-65537|128;case 0:if(At=Pt.payload,et=typeof At=="function"?At.call(Se,dt,et):At,et==null)break t;dt=g({},dt,et);break t;case 2:Ir=!0}}et=N.callback,et!==null&&(i.flags|=64,it&&(i.flags|=8192),it=y.callbacks,it===null?y.callbacks=[et]:it.push(et))}else it={lane:et,tag:N.tag,payload:N.payload,callback:N.callback,next:null},at===null?(J=at=it,U=dt):at=at.next=it,A|=et;if(N=N.next,N===null){if(N=y.shared.pending,N===null)break;it=N,N=it.next,it.next=null,y.lastBaseUpdate=it,y.shared.pending=null}}while(!0);at===null&&(U=dt),y.baseState=U,y.firstBaseUpdate=J,y.lastBaseUpdate=at,b===null&&(y.shared.lanes=0),Vr|=A,i.lanes=A,i.memoizedState=dt}}function rb(i,r){if(typeof i!="function")throw Error(n(191,i));i.call(r)}function ab(i,r){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)rb(u[i],r)}var Vo=B(null),Eh=B(0);function ob(i,r){i=cr,K(Eh,i),K(Vo,r),cr=i|r.baseLanes}function Np(){K(Eh,cr),K(Vo,Vo.current)}function Lp(){cr=Eh.current,j(Vo),j(Eh)}var _i=B(null),Xi=null;function jr(i){var r=i.alternate;K(tn,tn.current&1),K(_i,i),Xi===null&&(r===null||Vo.current!==null||r.memoizedState!==null)&&(Xi=i)}function Pp(i){K(tn,tn.current),K(_i,i),Xi===null&&(Xi=i)}function lb(i){i.tag===22?(K(tn,tn.current),K(_i,i),Xi===null&&(Xi=i)):Ur()}function Ur(){K(tn,tn.current),K(_i,_i.current)}function wi(i){j(_i),Xi===i&&(Xi=null),j(tn)}var tn=B(0);function Th(i){for(var r=i;r!==null;){if(r.tag===13){var u=r.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Ug(u)||Hg(u)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var er=0,Vt=null,_e=null,cn=null,Ch=!1,Yo=!1,Fa=!1,Mh=0,vc=0,Xo=null,MM=0;function Ke(){throw Error(n(321))}function Bp(i,r){if(r===null)return!1;for(var u=0;u<r.length&&u<i.length;u++)if(!vi(i[u],r[u]))return!1;return!0}function Ip(i,r,u,f,y,b){return er=b,Vt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,k.H=i===null||i.memoizedState===null?Yb:Zp,Fa=!1,b=u(f,y),Fa=!1,Yo&&(b=ub(r,u,f,y)),cb(i),b}function cb(i){k.H=wc;var r=_e!==null&&_e.next!==null;if(er=0,cn=_e=Vt=null,Ch=!1,vc=0,Xo=null,r)throw Error(n(300));i===null||un||(i=i.dependencies,i!==null&&vh(i)&&(un=!0))}function ub(i,r,u,f){Vt=i;var y=0;do{if(Yo&&(Xo=null),vc=0,Yo=!1,25<=y)throw Error(n(301));if(y+=1,cn=_e=null,i.updateQueue!=null){var b=i.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}k.H=Xb,b=r(u,f)}while(Yo);return b}function RM(){var i=k.H,r=i.useState()[0];return r=typeof r.then=="function"?bc(r):r,i=i.useState()[0],(_e!==null?_e.memoizedState:null)!==i&&(Vt.flags|=1024),r}function zp(){var i=Mh!==0;return Mh=0,i}function Fp(i,r,u){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~u}function jp(i){if(Ch){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Ch=!1}er=0,cn=_e=Vt=null,Yo=!1,vc=Mh=0,Xo=null}function Wn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cn===null?Vt.memoizedState=cn=i:cn=cn.next=i,cn}function en(){if(_e===null){var i=Vt.alternate;i=i!==null?i.memoizedState:null}else i=_e.next;var r=cn===null?Vt.memoizedState:cn.next;if(r!==null)cn=r,_e=i;else{if(i===null)throw Vt.alternate===null?Error(n(467)):Error(n(310));_e=i,i={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},cn===null?Vt.memoizedState=cn=i:cn=cn.next=i}return cn}function Rh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bc(i){var r=vc;return vc+=1,Xo===null&&(Xo=[]),i=tb(Xo,i,r),r=Vt,(cn===null?r.memoizedState:cn.next)===null&&(r=r.alternate,k.H=r===null||r.memoizedState===null?Yb:Zp),i}function Dh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return bc(i);if(i.$$typeof===C)return kn(i)}throw Error(n(438,String(i)))}function Up(i){var r=null,u=Vt.updateQueue;if(u!==null&&(r=u.memoCache),r==null){var f=Vt.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(r={data:f.data.map(function(y){return y.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),u===null&&(u=Rh(),Vt.updateQueue=u),u.memoCache=r,u=r.data[r.index],u===void 0)for(u=r.data[r.index]=Array(i),f=0;f<i;f++)u[f]=X;return r.index++,u}function nr(i,r){return typeof r=="function"?r(i):r}function Oh(i){var r=en();return Hp(r,_e,i)}function Hp(i,r,u){var f=i.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=u;var y=i.baseQueue,b=f.pending;if(b!==null){if(y!==null){var A=y.next;y.next=b.next,b.next=A}r.baseQueue=y=b,f.pending=null}if(b=i.baseState,y===null)i.memoizedState=b;else{r=y.next;var N=A=null,U=null,J=r,at=!1;do{var dt=J.lane&-536870913;if(dt!==J.lane?(te&dt)===dt:(er&dt)===dt){var et=J.revertLane;if(et===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),dt===jo&&(at=!0);else if((er&et)===et){J=J.next,et===jo&&(at=!0);continue}else dt={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},U===null?(N=U=dt,A=b):U=U.next=dt,Vt.lanes|=et,Vr|=et;dt=J.action,Fa&&u(b,dt),b=J.hasEagerState?J.eagerState:u(b,dt)}else et={lane:dt,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},U===null?(N=U=et,A=b):U=U.next=et,Vt.lanes|=dt,Vr|=dt;J=J.next}while(J!==null&&J!==r);if(U===null?A=b:U.next=N,!vi(b,i.memoizedState)&&(un=!0,at&&(u=Uo,u!==null)))throw u;i.memoizedState=b,i.baseState=A,i.baseQueue=U,f.lastRenderedState=b}return y===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function Gp(i){var r=en(),u=r.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var f=u.dispatch,y=u.pending,b=r.memoizedState;if(y!==null){u.pending=null;var A=y=y.next;do b=i(b,A.action),A=A.next;while(A!==y);vi(b,r.memoizedState)||(un=!0),r.memoizedState=b,r.baseQueue===null&&(r.baseState=b),u.lastRenderedState=b}return[b,f]}function hb(i,r,u){var f=Vt,y=en(),b=re;if(b){if(u===void 0)throw Error(n(407));u=u()}else u=r();var A=!vi((_e||y).memoizedState,u);if(A&&(y.memoizedState=u,un=!0),y=y.queue,Xp(pb.bind(null,f,y,i),[i]),y.getSnapshot!==r||A||cn!==null&&cn.memoizedState.tag&1){if(f.flags|=2048,qo(9,{destroy:void 0},fb.bind(null,f,y,u,r),null),Ee===null)throw Error(n(349));b||(er&127)!==0||db(f,r,u)}return u}function db(i,r,u){i.flags|=16384,i={getSnapshot:r,value:u},r=Vt.updateQueue,r===null?(r=Rh(),Vt.updateQueue=r,r.stores=[i]):(u=r.stores,u===null?r.stores=[i]:u.push(i))}function fb(i,r,u,f){r.value=u,r.getSnapshot=f,gb(r)&&mb(i)}function pb(i,r,u){return u(function(){gb(r)&&mb(i)})}function gb(i){var r=i.getSnapshot;i=i.value;try{var u=r();return!vi(i,u)}catch{return!0}}function mb(i){var r=Da(i,2);r!==null&&ai(r,i,2)}function Vp(i){var r=Wn();if(typeof i=="function"){var u=i;if(i=u(),Fa){pe(!0);try{u()}finally{pe(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:i},r}function yb(i,r,u,f){return i.baseState=u,Hp(i,_e,typeof f=="function"?f:nr)}function DM(i,r,u,f,y){if(Lh(i))throw Error(n(485));if(i=r.action,i!==null){var b={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){b.listeners.push(A)}};k.T!==null?u(!0):b.isTransition=!1,f(b),u=r.pending,u===null?(b.next=r.pending=b,vb(r,b)):(b.next=u.next,r.pending=u.next=b)}}function vb(i,r){var u=r.action,f=r.payload,y=i.state;if(r.isTransition){var b=k.T,A={};k.T=A;try{var N=u(y,f),U=k.S;U!==null&&U(A,N),bb(i,r,N)}catch(J){Yp(i,r,J)}finally{b!==null&&A.types!==null&&(b.types=A.types),k.T=b}}else try{b=u(y,f),bb(i,r,b)}catch(J){Yp(i,r,J)}}function bb(i,r,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){_b(i,r,f)},function(f){return Yp(i,r,f)}):_b(i,r,u)}function _b(i,r,u){r.status="fulfilled",r.value=u,wb(r),i.state=u,r=i.pending,r!==null&&(u=r.next,u===r?i.pending=null:(u=u.next,r.next=u,vb(i,u)))}function Yp(i,r,u){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do r.status="rejected",r.reason=u,wb(r),r=r.next;while(r!==f)}i.action=null}function wb(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Sb(i,r){return r}function xb(i,r){if(re){var u=Ee.formState;if(u!==null){t:{var f=Vt;if(re){if(Ne){e:{for(var y=Ne,b=Yi;y.nodeType!==8;){if(!b){y=null;break e}if(y=qi(y.nextSibling),y===null){y=null;break e}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){Ne=qi(y.nextSibling),f=y.data==="F!";break t}}Pr(f)}f=!1}f&&(r=u[0])}}return u=Wn(),u.memoizedState=u.baseState=r,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sb,lastRenderedState:r},u.queue=f,u=Hb.bind(null,Vt,f),f.dispatch=u,f=Vp(!1),b=Qp.bind(null,Vt,!1,f.queue),f=Wn(),y={state:r,dispatch:null,action:i,pending:null},f.queue=y,u=DM.bind(null,Vt,y,b,u),y.dispatch=u,f.memoizedState=i,[r,u,!1]}function Ab(i){var r=en();return Eb(r,_e,i)}function Eb(i,r,u){if(r=Hp(i,r,Sb)[0],i=Oh(nr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var f=bc(r)}catch(A){throw A===Ho?wh:A}else f=r;r=en();var y=r.queue,b=y.dispatch;return u!==r.memoizedState&&(Vt.flags|=2048,qo(9,{destroy:void 0},OM.bind(null,y,u),null)),[f,b,i]}function OM(i,r){i.action=r}function Tb(i){var r=en(),u=_e;if(u!==null)return Eb(r,u,i);en(),r=r.memoizedState,u=en();var f=u.queue.dispatch;return u.memoizedState=i,[r,f,!1]}function qo(i,r,u,f){return i={tag:i,create:u,deps:f,inst:r,next:null},r=Vt.updateQueue,r===null&&(r=Rh(),Vt.updateQueue=r),u=r.lastEffect,u===null?r.lastEffect=i.next=i:(f=u.next,u.next=i,i.next=f,r.lastEffect=i),i}function Cb(){return en().memoizedState}function kh(i,r,u,f){var y=Wn();Vt.flags|=i,y.memoizedState=qo(1|r,{destroy:void 0},u,f===void 0?null:f)}function Nh(i,r,u,f){var y=en();f=f===void 0?null:f;var b=y.memoizedState.inst;_e!==null&&f!==null&&Bp(f,_e.memoizedState.deps)?y.memoizedState=qo(r,b,u,f):(Vt.flags|=i,y.memoizedState=qo(1|r,b,u,f))}function Mb(i,r){kh(8390656,8,i,r)}function Xp(i,r){Nh(2048,8,i,r)}function kM(i){Vt.flags|=4;var r=Vt.updateQueue;if(r===null)r=Rh(),Vt.updateQueue=r,r.events=[i];else{var u=r.events;u===null?r.events=[i]:u.push(i)}}function Rb(i){var r=en().memoizedState;return kM({ref:r,nextImpl:i}),function(){if((ge&2)!==0)throw Error(n(440));return r.impl.apply(void 0,arguments)}}function Db(i,r){return Nh(4,2,i,r)}function Ob(i,r){return Nh(4,4,i,r)}function kb(i,r){if(typeof r=="function"){i=i();var u=r(i);return function(){typeof u=="function"?u():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Nb(i,r,u){u=u!=null?u.concat([i]):null,Nh(4,4,kb.bind(null,r,i),u)}function qp(){}function Lb(i,r){var u=en();r=r===void 0?null:r;var f=u.memoizedState;return r!==null&&Bp(r,f[1])?f[0]:(u.memoizedState=[i,r],i)}function Pb(i,r){var u=en();r=r===void 0?null:r;var f=u.memoizedState;if(r!==null&&Bp(r,f[1]))return f[0];if(f=i(),Fa){pe(!0);try{i()}finally{pe(!1)}}return u.memoizedState=[f,r],f}function $p(i,r,u){return u===void 0||(er&1073741824)!==0&&(te&261930)===0?i.memoizedState=r:(i.memoizedState=u,i=B_(),Vt.lanes|=i,Vr|=i,u)}function Bb(i,r,u,f){return vi(u,r)?u:Vo.current!==null?(i=$p(i,u,f),vi(i,r)||(un=!0),i):(er&42)===0||(er&1073741824)!==0&&(te&261930)===0?(un=!0,i.memoizedState=u):(i=B_(),Vt.lanes|=i,Vr|=i,r)}function Ib(i,r,u,f,y){var b=z.p;z.p=b!==0&&8>b?b:8;var A=k.T,N={};k.T=N,Qp(i,!1,r,u);try{var U=y(),J=k.S;if(J!==null&&J(N,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var at=CM(U,f);_c(i,r,at,Ai(i))}else _c(i,r,f,Ai(i))}catch(dt){_c(i,r,{then:function(){},status:"rejected",reason:dt},Ai())}finally{z.p=b,A!==null&&N.types!==null&&(A.types=N.types),k.T=A}}function NM(){}function Wp(i,r,u,f){if(i.tag!==5)throw Error(n(476));var y=zb(i).queue;Ib(i,y,r,I,u===null?NM:function(){return Fb(i),u(f)})}function zb(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:I},next:null};var u={};return r.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nr,lastRenderedState:u},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Fb(i){var r=zb(i);r.next===null&&(r=i.alternate.memoizedState),_c(i,r.next.queue,{},Ai())}function Kp(){return kn(Ic)}function jb(){return en().memoizedState}function Ub(){return en().memoizedState}function LM(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var u=Ai();i=zr(u);var f=Fr(r,i,u);f!==null&&(ai(f,r,u),gc(f,r,u)),r={cache:Ep()},i.payload=r;return}r=r.return}}function PM(i,r,u){var f=Ai();u={lane:f,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Lh(i)?Gb(r,u):(u=pp(i,r,u,f),u!==null&&(ai(u,i,f),Vb(u,r,f)))}function Hb(i,r,u){var f=Ai();_c(i,r,u,f)}function _c(i,r,u,f){var y={lane:f,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Lh(i))Gb(r,y);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=r.lastRenderedReducer,b!==null))try{var A=r.lastRenderedState,N=b(A,u);if(y.hasEagerState=!0,y.eagerState=N,vi(N,A))return ph(i,r,y,0),Ee===null&&fh(),!1}catch{}finally{}if(u=pp(i,r,y,f),u!==null)return ai(u,i,f),Vb(u,r,f),!0}return!1}function Qp(i,r,u,f){if(f={lane:2,revertLane:Rg(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Lh(i)){if(r)throw Error(n(479))}else r=pp(i,u,f,2),r!==null&&ai(r,i,2)}function Lh(i){var r=i.alternate;return i===Vt||r!==null&&r===Vt}function Gb(i,r){Yo=Ch=!0;var u=i.pending;u===null?r.next=r:(r.next=u.next,u.next=r),i.pending=r}function Vb(i,r,u){if((u&4194048)!==0){var f=r.lanes;f&=i.pendingLanes,u|=f,r.lanes=u,ht(i,u)}}var wc={readContext:kn,use:Dh,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke,useHostTransitionStatus:Ke,useFormState:Ke,useActionState:Ke,useOptimistic:Ke,useMemoCache:Ke,useCacheRefresh:Ke};wc.useEffectEvent=Ke;var Yb={readContext:kn,use:Dh,useCallback:function(i,r){return Wn().memoizedState=[i,r===void 0?null:r],i},useContext:kn,useEffect:Mb,useImperativeHandle:function(i,r,u){u=u!=null?u.concat([i]):null,kh(4194308,4,kb.bind(null,r,i),u)},useLayoutEffect:function(i,r){return kh(4194308,4,i,r)},useInsertionEffect:function(i,r){kh(4,2,i,r)},useMemo:function(i,r){var u=Wn();r=r===void 0?null:r;var f=i();if(Fa){pe(!0);try{i()}finally{pe(!1)}}return u.memoizedState=[f,r],f},useReducer:function(i,r,u){var f=Wn();if(u!==void 0){var y=u(r);if(Fa){pe(!0);try{u(r)}finally{pe(!1)}}}else y=r;return f.memoizedState=f.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},f.queue=i,i=i.dispatch=PM.bind(null,Vt,i),[f.memoizedState,i]},useRef:function(i){var r=Wn();return i={current:i},r.memoizedState=i},useState:function(i){i=Vp(i);var r=i.queue,u=Hb.bind(null,Vt,r);return r.dispatch=u,[i.memoizedState,u]},useDebugValue:qp,useDeferredValue:function(i,r){var u=Wn();return $p(u,i,r)},useTransition:function(){var i=Vp(!1);return i=Ib.bind(null,Vt,i.queue,!0,!1),Wn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,u){var f=Vt,y=Wn();if(re){if(u===void 0)throw Error(n(407));u=u()}else{if(u=r(),Ee===null)throw Error(n(349));(te&127)!==0||db(f,r,u)}y.memoizedState=u;var b={value:u,getSnapshot:r};return y.queue=b,Mb(pb.bind(null,f,b,i),[i]),f.flags|=2048,qo(9,{destroy:void 0},fb.bind(null,f,b,u,r),null),u},useId:function(){var i=Wn(),r=Ee.identifierPrefix;if(re){var u=As,f=xs;u=(f&~(1<<32-ue(f)-1)).toString(32)+u,r="_"+r+"R_"+u,u=Mh++,0<u&&(r+="H"+u.toString(32)),r+="_"}else u=MM++,r="_"+r+"r_"+u.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Kp,useFormState:xb,useActionState:xb,useOptimistic:function(i){var r=Wn();r.memoizedState=r.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=u,r=Qp.bind(null,Vt,!0,u),u.dispatch=r,[i,r]},useMemoCache:Up,useCacheRefresh:function(){return Wn().memoizedState=LM.bind(null,Vt)},useEffectEvent:function(i){var r=Wn(),u={impl:i};return r.memoizedState=u,function(){if((ge&2)!==0)throw Error(n(440));return u.impl.apply(void 0,arguments)}}},Zp={readContext:kn,use:Dh,useCallback:Lb,useContext:kn,useEffect:Xp,useImperativeHandle:Nb,useInsertionEffect:Db,useLayoutEffect:Ob,useMemo:Pb,useReducer:Oh,useRef:Cb,useState:function(){return Oh(nr)},useDebugValue:qp,useDeferredValue:function(i,r){var u=en();return Bb(u,_e.memoizedState,i,r)},useTransition:function(){var i=Oh(nr)[0],r=en().memoizedState;return[typeof i=="boolean"?i:bc(i),r]},useSyncExternalStore:hb,useId:jb,useHostTransitionStatus:Kp,useFormState:Ab,useActionState:Ab,useOptimistic:function(i,r){var u=en();return yb(u,_e,i,r)},useMemoCache:Up,useCacheRefresh:Ub};Zp.useEffectEvent=Rb;var Xb={readContext:kn,use:Dh,useCallback:Lb,useContext:kn,useEffect:Xp,useImperativeHandle:Nb,useInsertionEffect:Db,useLayoutEffect:Ob,useMemo:Pb,useReducer:Gp,useRef:Cb,useState:function(){return Gp(nr)},useDebugValue:qp,useDeferredValue:function(i,r){var u=en();return _e===null?$p(u,i,r):Bb(u,_e.memoizedState,i,r)},useTransition:function(){var i=Gp(nr)[0],r=en().memoizedState;return[typeof i=="boolean"?i:bc(i),r]},useSyncExternalStore:hb,useId:jb,useHostTransitionStatus:Kp,useFormState:Tb,useActionState:Tb,useOptimistic:function(i,r){var u=en();return _e!==null?yb(u,_e,i,r):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:Up,useCacheRefresh:Ub};Xb.useEffectEvent=Rb;function Jp(i,r,u,f){r=i.memoizedState,u=u(f,r),u=u==null?r:g({},r,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var tg={enqueueSetState:function(i,r,u){i=i._reactInternals;var f=Ai(),y=zr(f);y.payload=r,u!=null&&(y.callback=u),r=Fr(i,y,f),r!==null&&(ai(r,i,f),gc(r,i,f))},enqueueReplaceState:function(i,r,u){i=i._reactInternals;var f=Ai(),y=zr(f);y.tag=1,y.payload=r,u!=null&&(y.callback=u),r=Fr(i,y,f),r!==null&&(ai(r,i,f),gc(r,i,f))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var u=Ai(),f=zr(u);f.tag=2,r!=null&&(f.callback=r),r=Fr(i,f,u),r!==null&&(ai(r,i,u),gc(r,i,u))}};function qb(i,r,u,f,y,b,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,b,A):r.prototype&&r.prototype.isPureReactComponent?!oc(u,f)||!oc(y,b):!0}function $b(i,r,u,f){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(u,f),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(u,f),r.state!==i&&tg.enqueueReplaceState(r,r.state,null)}function ja(i,r){var u=r;if("ref"in r){u={};for(var f in r)f!=="ref"&&(u[f]=r[f])}if(i=i.defaultProps){u===r&&(u=g({},u));for(var y in i)u[y]===void 0&&(u[y]=i[y])}return u}function Wb(i){dh(i)}function Kb(i){console.error(i)}function Qb(i){dh(i)}function Ph(i,r){try{var u=i.onUncaughtError;u(r.value,{componentStack:r.stack})}catch(f){setTimeout(function(){throw f})}}function Zb(i,r,u){try{var f=i.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function eg(i,r,u){return u=zr(u),u.tag=3,u.payload={element:null},u.callback=function(){Ph(i,r)},u}function Jb(i){return i=zr(i),i.tag=3,i}function t_(i,r,u,f){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var b=f.value;i.payload=function(){return y(b)},i.callback=function(){Zb(r,u,f)}}var A=u.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(i.callback=function(){Zb(r,u,f),typeof y!="function"&&(Yr===null?Yr=new Set([this]):Yr.add(this));var N=f.stack;this.componentDidCatch(f.value,{componentStack:N!==null?N:""})})}function BM(i,r,u,f,y){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(r=u.alternate,r!==null&&Fo(r,u,y,!0),u=_i.current,u!==null){switch(u.tag){case 31:case 13:return Xi===null?qh():u.alternate===null&&Qe===0&&(Qe=3),u.flags&=-257,u.flags|=65536,u.lanes=y,f===Sh?u.flags|=16384:(r=u.updateQueue,r===null?u.updateQueue=new Set([f]):r.add(f),Tg(i,f,y)),!1;case 22:return u.flags|=65536,f===Sh?u.flags|=16384:(r=u.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=r):(u=r.retryQueue,u===null?r.retryQueue=new Set([f]):u.add(f)),Tg(i,f,y)),!1}throw Error(n(435,u.tag))}return Tg(i,f,y),qh(),!1}if(re)return r=_i.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=y,f!==_p&&(i=Error(n(422),{cause:f}),uc(Hi(i,u)))):(f!==_p&&(r=Error(n(423),{cause:f}),uc(Hi(r,u))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,f=Hi(f,u),y=eg(i.stateNode,f,y),Op(i,y),Qe!==4&&(Qe=2)),!1;var b=Error(n(520),{cause:f});if(b=Hi(b,u),Rc===null?Rc=[b]:Rc.push(b),Qe!==4&&(Qe=2),r===null)return!0;f=Hi(f,u),u=r;do{switch(u.tag){case 3:return u.flags|=65536,i=y&-y,u.lanes|=i,i=eg(u.stateNode,f,i),Op(u,i),!1;case 1:if(r=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Yr===null||!Yr.has(b))))return u.flags|=65536,y&=-y,u.lanes|=y,y=Jb(y),t_(y,i,u,f),Op(u,y),!1}u=u.return}while(u!==null);return!1}var ng=Error(n(461)),un=!1;function Nn(i,r,u,f){r.child=i===null?sb(r,null,u,f):za(r,i.child,u,f)}function e_(i,r,u,f,y){u=u.render;var b=r.ref;if("ref"in f){var A={};for(var N in f)N!=="ref"&&(A[N]=f[N])}else A=f;return La(r),f=Ip(i,r,u,A,b,y),N=zp(),i!==null&&!un?(Fp(i,r,y),ir(i,r,y)):(re&&N&&vp(r),r.flags|=1,Nn(i,r,f,y),r.child)}function n_(i,r,u,f,y){if(i===null){var b=u.type;return typeof b=="function"&&!gp(b)&&b.defaultProps===void 0&&u.compare===null?(r.tag=15,r.type=b,i_(i,r,b,f,y)):(i=mh(u.type,null,f,r,r.mode,y),i.ref=r.ref,i.return=r,r.child=i)}if(b=i.child,!ug(i,y)){var A=b.memoizedProps;if(u=u.compare,u=u!==null?u:oc,u(A,f)&&i.ref===r.ref)return ir(i,r,y)}return r.flags|=1,i=Qs(b,f),i.ref=r.ref,i.return=r,r.child=i}function i_(i,r,u,f,y){if(i!==null){var b=i.memoizedProps;if(oc(b,f)&&i.ref===r.ref)if(un=!1,r.pendingProps=f=b,ug(i,y))(i.flags&131072)!==0&&(un=!0);else return r.lanes=i.lanes,ir(i,r,y)}return ig(i,r,u,f,y)}function s_(i,r,u,f){var y=f.children,b=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((r.flags&128)!==0){if(b=b!==null?b.baseLanes|u:u,i!==null){for(f=r.child=i.child,y=0;f!==null;)y=y|f.lanes|f.childLanes,f=f.sibling;f=y&~b}else f=0,r.child=null;return r_(i,r,b,u,f)}if((u&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&_h(r,b!==null?b.cachePool:null),b!==null?ob(r,b):Np(),lb(r);else return f=r.lanes=536870912,r_(i,r,b!==null?b.baseLanes|u:u,u,f)}else b!==null?(_h(r,b.cachePool),ob(r,b),Ur(),r.memoizedState=null):(i!==null&&_h(r,null),Np(),Ur());return Nn(i,r,y,u),r.child}function Sc(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function r_(i,r,u,f,y){var b=Cp();return b=b===null?null:{parent:ln._currentValue,pool:b},r.memoizedState={baseLanes:u,cachePool:b},i!==null&&_h(r,null),Np(),lb(r),i!==null&&Fo(i,r,f,!0),r.childLanes=y,null}function Bh(i,r){return r=zh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function a_(i,r,u){return za(r,i.child,null,u),i=Bh(r,r.pendingProps),i.flags|=2,wi(r),r.memoizedState=null,i}function IM(i,r,u){var f=r.pendingProps,y=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(re){if(f.mode==="hidden")return i=Bh(r,f),r.lanes=536870912,Sc(null,i);if(Pp(r),(i=Ne)?(i=vw(i,Yi),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Nr!==null?{id:xs,overflow:As}:null,retryLane:536870912,hydrationErrors:null},u=G0(i),u.return=r,r.child=u,On=r,Ne=null)):i=null,i===null)throw Pr(r);return r.lanes=536870912,null}return Bh(r,f)}var b=i.memoizedState;if(b!==null){var A=b.dehydrated;if(Pp(r),y)if(r.flags&256)r.flags&=-257,r=a_(i,r,u);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(n(558));else if(un||Fo(i,r,u,!1),y=(u&i.childLanes)!==0,un||y){if(f=Ee,f!==null&&(A=ft(f,u),A!==0&&A!==b.retryLane))throw b.retryLane=A,Da(i,A),ai(f,i,A),ng;qh(),r=a_(i,r,u)}else i=b.treeContext,Ne=qi(A.nextSibling),On=r,re=!0,Lr=null,Yi=!1,i!==null&&X0(r,i),r=Bh(r,f),r.flags|=4096;return r}return i=Qs(i.child,{mode:f.mode,children:f.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Ih(i,r){var u=r.ref;if(u===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(n(284));(i===null||i.ref!==u)&&(r.flags|=4194816)}}function ig(i,r,u,f,y){return La(r),u=Ip(i,r,u,f,void 0,y),f=zp(),i!==null&&!un?(Fp(i,r,y),ir(i,r,y)):(re&&f&&vp(r),r.flags|=1,Nn(i,r,u,y),r.child)}function o_(i,r,u,f,y,b){return La(r),r.updateQueue=null,u=ub(r,f,u,y),cb(i),f=zp(),i!==null&&!un?(Fp(i,r,b),ir(i,r,b)):(re&&f&&vp(r),r.flags|=1,Nn(i,r,u,b),r.child)}function l_(i,r,u,f,y){if(La(r),r.stateNode===null){var b=Po,A=u.contextType;typeof A=="object"&&A!==null&&(b=kn(A)),b=new u(f,b),r.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=tg,r.stateNode=b,b._reactInternals=r,b=r.stateNode,b.props=f,b.state=r.memoizedState,b.refs={},Rp(r),A=u.contextType,b.context=typeof A=="object"&&A!==null?kn(A):Po,b.state=r.memoizedState,A=u.getDerivedStateFromProps,typeof A=="function"&&(Jp(r,u,A,f),b.state=r.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(A=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),A!==b.state&&tg.enqueueReplaceState(b,b.state,null),yc(r,f,b,y),mc(),b.state=r.memoizedState),typeof b.componentDidMount=="function"&&(r.flags|=4194308),f=!0}else if(i===null){b=r.stateNode;var N=r.memoizedProps,U=ja(u,N);b.props=U;var J=b.context,at=u.contextType;A=Po,typeof at=="object"&&at!==null&&(A=kn(at));var dt=u.getDerivedStateFromProps;at=typeof dt=="function"||typeof b.getSnapshotBeforeUpdate=="function",N=r.pendingProps!==N,at||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(N||J!==A)&&$b(r,b,f,A),Ir=!1;var et=r.memoizedState;b.state=et,yc(r,f,b,y),mc(),J=r.memoizedState,N||et!==J||Ir?(typeof dt=="function"&&(Jp(r,u,dt,f),J=r.memoizedState),(U=Ir||qb(r,u,U,f,et,J,A))?(at||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(r.flags|=4194308)):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=f,r.memoizedState=J),b.props=f,b.state=J,b.context=A,f=U):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),f=!1)}else{b=r.stateNode,Dp(i,r),A=r.memoizedProps,at=ja(u,A),b.props=at,dt=r.pendingProps,et=b.context,J=u.contextType,U=Po,typeof J=="object"&&J!==null&&(U=kn(J)),N=u.getDerivedStateFromProps,(J=typeof N=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(A!==dt||et!==U)&&$b(r,b,f,U),Ir=!1,et=r.memoizedState,b.state=et,yc(r,f,b,y),mc();var it=r.memoizedState;A!==dt||et!==it||Ir||i!==null&&i.dependencies!==null&&vh(i.dependencies)?(typeof N=="function"&&(Jp(r,u,N,f),it=r.memoizedState),(at=Ir||qb(r,u,at,f,et,it,U)||i!==null&&i.dependencies!==null&&vh(i.dependencies))?(J||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,it,U),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,it,U)),typeof b.componentDidUpdate=="function"&&(r.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof b.componentDidUpdate!="function"||A===i.memoizedProps&&et===i.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&et===i.memoizedState||(r.flags|=1024),r.memoizedProps=f,r.memoizedState=it),b.props=f,b.state=it,b.context=U,f=at):(typeof b.componentDidUpdate!="function"||A===i.memoizedProps&&et===i.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&et===i.memoizedState||(r.flags|=1024),f=!1)}return b=f,Ih(i,r),f=(r.flags&128)!==0,b||f?(b=r.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:b.render(),r.flags|=1,i!==null&&f?(r.child=za(r,i.child,null,y),r.child=za(r,null,u,y)):Nn(i,r,u,y),r.memoizedState=b.state,i=r.child):i=ir(i,r,y),i}function c_(i,r,u,f){return ka(),r.flags|=256,Nn(i,r,u,f),r.child}var sg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rg(i){return{baseLanes:i,cachePool:Z0()}}function ag(i,r,u){return i=i!==null?i.childLanes&~u:0,r&&(i|=xi),i}function u_(i,r,u){var f=r.pendingProps,y=!1,b=(r.flags&128)!==0,A;if((A=b)||(A=i!==null&&i.memoizedState===null?!1:(tn.current&2)!==0),A&&(y=!0,r.flags&=-129),A=(r.flags&32)!==0,r.flags&=-33,i===null){if(re){if(y?jr(r):Ur(),(i=Ne)?(i=vw(i,Yi),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Nr!==null?{id:xs,overflow:As}:null,retryLane:536870912,hydrationErrors:null},u=G0(i),u.return=r,r.child=u,On=r,Ne=null)):i=null,i===null)throw Pr(r);return Hg(i)?r.lanes=32:r.lanes=536870912,null}var N=f.children;return f=f.fallback,y?(Ur(),y=r.mode,N=zh({mode:"hidden",children:N},y),f=Oa(f,y,u,null),N.return=r,f.return=r,N.sibling=f,r.child=N,f=r.child,f.memoizedState=rg(u),f.childLanes=ag(i,A,u),r.memoizedState=sg,Sc(null,f)):(jr(r),og(r,N))}var U=i.memoizedState;if(U!==null&&(N=U.dehydrated,N!==null)){if(b)r.flags&256?(jr(r),r.flags&=-257,r=lg(i,r,u)):r.memoizedState!==null?(Ur(),r.child=i.child,r.flags|=128,r=null):(Ur(),N=f.fallback,y=r.mode,f=zh({mode:"visible",children:f.children},y),N=Oa(N,y,u,null),N.flags|=2,f.return=r,N.return=r,f.sibling=N,r.child=f,za(r,i.child,null,u),f=r.child,f.memoizedState=rg(u),f.childLanes=ag(i,A,u),r.memoizedState=sg,r=Sc(null,f));else if(jr(r),Hg(N)){if(A=N.nextSibling&&N.nextSibling.dataset,A)var J=A.dgst;A=J,f=Error(n(419)),f.stack="",f.digest=A,uc({value:f,source:null,stack:null}),r=lg(i,r,u)}else if(un||Fo(i,r,u,!1),A=(u&i.childLanes)!==0,un||A){if(A=Ee,A!==null&&(f=ft(A,u),f!==0&&f!==U.retryLane))throw U.retryLane=f,Da(i,f),ai(A,i,f),ng;Ug(N)||qh(),r=lg(i,r,u)}else Ug(N)?(r.flags|=192,r.child=i.child,r=null):(i=U.treeContext,Ne=qi(N.nextSibling),On=r,re=!0,Lr=null,Yi=!1,i!==null&&X0(r,i),r=og(r,f.children),r.flags|=4096);return r}return y?(Ur(),N=f.fallback,y=r.mode,U=i.child,J=U.sibling,f=Qs(U,{mode:"hidden",children:f.children}),f.subtreeFlags=U.subtreeFlags&65011712,J!==null?N=Qs(J,N):(N=Oa(N,y,u,null),N.flags|=2),N.return=r,f.return=r,f.sibling=N,r.child=f,Sc(null,f),f=r.child,N=i.child.memoizedState,N===null?N=rg(u):(y=N.cachePool,y!==null?(U=ln._currentValue,y=y.parent!==U?{parent:U,pool:U}:y):y=Z0(),N={baseLanes:N.baseLanes|u,cachePool:y}),f.memoizedState=N,f.childLanes=ag(i,A,u),r.memoizedState=sg,Sc(i.child,f)):(jr(r),u=i.child,i=u.sibling,u=Qs(u,{mode:"visible",children:f.children}),u.return=r,u.sibling=null,i!==null&&(A=r.deletions,A===null?(r.deletions=[i],r.flags|=16):A.push(i)),r.child=u,r.memoizedState=null,u)}function og(i,r){return r=zh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function zh(i,r){return i=bi(22,i,null,r),i.lanes=0,i}function lg(i,r,u){return za(r,i.child,null,u),i=og(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function h_(i,r,u){i.lanes|=r;var f=i.alternate;f!==null&&(f.lanes|=r),xp(i.return,r,u)}function cg(i,r,u,f,y,b){var A=i.memoizedState;A===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:y,treeForkCount:b}:(A.isBackwards=r,A.rendering=null,A.renderingStartTime=0,A.last=f,A.tail=u,A.tailMode=y,A.treeForkCount=b)}function d_(i,r,u){var f=r.pendingProps,y=f.revealOrder,b=f.tail;f=f.children;var A=tn.current,N=(A&2)!==0;if(N?(A=A&1|2,r.flags|=128):A&=1,K(tn,A),Nn(i,r,f,u),f=re?cc:0,!N&&i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&h_(i,u,r);else if(i.tag===19)h_(i,u,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(y){case"forwards":for(u=r.child,y=null;u!==null;)i=u.alternate,i!==null&&Th(i)===null&&(y=u),u=u.sibling;u=y,u===null?(y=r.child,r.child=null):(y=u.sibling,u.sibling=null),cg(r,!1,y,u,b,f);break;case"backwards":case"unstable_legacy-backwards":for(u=null,y=r.child,r.child=null;y!==null;){if(i=y.alternate,i!==null&&Th(i)===null){r.child=y;break}i=y.sibling,y.sibling=u,u=y,y=i}cg(r,!0,u,null,b,f);break;case"together":cg(r,!1,null,null,void 0,f);break;default:r.memoizedState=null}return r.child}function ir(i,r,u){if(i!==null&&(r.dependencies=i.dependencies),Vr|=r.lanes,(u&r.childLanes)===0)if(i!==null){if(Fo(i,r,u,!1),(u&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(n(153));if(r.child!==null){for(i=r.child,u=Qs(i,i.pendingProps),r.child=u,u.return=r;i.sibling!==null;)i=i.sibling,u=u.sibling=Qs(i,i.pendingProps),u.return=r;u.sibling=null}return r.child}function ug(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&vh(i)))}function zM(i,r,u){switch(r.tag){case 3:Et(r,r.stateNode.containerInfo),Br(r,ln,i.memoizedState.cache),ka();break;case 27:case 5:bt(r);break;case 4:Et(r,r.stateNode.containerInfo);break;case 10:Br(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Pp(r),null;break;case 13:var f=r.memoizedState;if(f!==null)return f.dehydrated!==null?(jr(r),r.flags|=128,null):(u&r.child.childLanes)!==0?u_(i,r,u):(jr(r),i=ir(i,r,u),i!==null?i.sibling:null);jr(r);break;case 19:var y=(i.flags&128)!==0;if(f=(u&r.childLanes)!==0,f||(Fo(i,r,u,!1),f=(u&r.childLanes)!==0),y){if(f)return d_(i,r,u);r.flags|=128}if(y=r.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),K(tn,tn.current),f)break;return null;case 22:return r.lanes=0,s_(i,r,u,r.pendingProps);case 24:Br(r,ln,i.memoizedState.cache)}return ir(i,r,u)}function f_(i,r,u){if(i!==null)if(i.memoizedProps!==r.pendingProps)un=!0;else{if(!ug(i,u)&&(r.flags&128)===0)return un=!1,zM(i,r,u);un=(i.flags&131072)!==0}else un=!1,re&&(r.flags&1048576)!==0&&Y0(r,cc,r.index);switch(r.lanes=0,r.tag){case 16:t:{var f=r.pendingProps;if(i=Ba(r.elementType),r.type=i,typeof i=="function")gp(i)?(f=ja(i,f),r.tag=1,r=l_(null,r,i,f,u)):(r.tag=0,r=ig(null,r,i,f,u));else{if(i!=null){var y=i.$$typeof;if(y===D){r.tag=11,r=e_(null,r,i,f,u);break t}else if(y===O){r.tag=14,r=n_(null,r,i,f,u);break t}}throw r=W(i)||i,Error(n(306,r,""))}}return r;case 0:return ig(i,r,r.type,r.pendingProps,u);case 1:return f=r.type,y=ja(f,r.pendingProps),l_(i,r,f,y,u);case 3:t:{if(Et(r,r.stateNode.containerInfo),i===null)throw Error(n(387));f=r.pendingProps;var b=r.memoizedState;y=b.element,Dp(i,r),yc(r,f,null,u);var A=r.memoizedState;if(f=A.cache,Br(r,ln,f),f!==b.cache&&Ap(r,[ln],u,!0),mc(),f=A.element,b.isDehydrated)if(b={element:f,isDehydrated:!1,cache:A.cache},r.updateQueue.baseState=b,r.memoizedState=b,r.flags&256){r=c_(i,r,f,u);break t}else if(f!==y){y=Hi(Error(n(424)),r),uc(y),r=c_(i,r,f,u);break t}else{switch(i=r.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Ne=qi(i.firstChild),On=r,re=!0,Lr=null,Yi=!0,u=sb(r,null,f,u),r.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(ka(),f===y){r=ir(i,r,u);break t}Nn(i,r,f,u)}r=r.child}return r;case 26:return Ih(i,r),i===null?(u=Aw(r.type,null,r.pendingProps,null))?r.memoizedState=u:re||(u=r.type,i=r.pendingProps,f=td(gt.current).createElement(u),f[Gt]=r,f[qt]=i,Ln(f,u,i),We(f),r.stateNode=f):r.memoizedState=Aw(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return bt(r),i===null&&re&&(f=r.stateNode=ww(r.type,r.pendingProps,gt.current),On=r,Yi=!0,y=Ne,Wr(r.type)?(Gg=y,Ne=qi(f.firstChild)):Ne=y),Nn(i,r,r.pendingProps.children,u),Ih(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&re&&((y=f=Ne)&&(f=pR(f,r.type,r.pendingProps,Yi),f!==null?(r.stateNode=f,On=r,Ne=qi(f.firstChild),Yi=!1,y=!0):y=!1),y||Pr(r)),bt(r),y=r.type,b=r.pendingProps,A=i!==null?i.memoizedProps:null,f=b.children,zg(y,b)?f=null:A!==null&&zg(y,A)&&(r.flags|=32),r.memoizedState!==null&&(y=Ip(i,r,RM,null,null,u),Ic._currentValue=y),Ih(i,r),Nn(i,r,f,u),r.child;case 6:return i===null&&re&&((i=u=Ne)&&(u=gR(u,r.pendingProps,Yi),u!==null?(r.stateNode=u,On=r,Ne=null,i=!0):i=!1),i||Pr(r)),null;case 13:return u_(i,r,u);case 4:return Et(r,r.stateNode.containerInfo),f=r.pendingProps,i===null?r.child=za(r,null,f,u):Nn(i,r,f,u),r.child;case 11:return e_(i,r,r.type,r.pendingProps,u);case 7:return Nn(i,r,r.pendingProps,u),r.child;case 8:return Nn(i,r,r.pendingProps.children,u),r.child;case 12:return Nn(i,r,r.pendingProps.children,u),r.child;case 10:return f=r.pendingProps,Br(r,r.type,f.value),Nn(i,r,f.children,u),r.child;case 9:return y=r.type._context,f=r.pendingProps.children,La(r),y=kn(y),f=f(y),r.flags|=1,Nn(i,r,f,u),r.child;case 14:return n_(i,r,r.type,r.pendingProps,u);case 15:return i_(i,r,r.type,r.pendingProps,u);case 19:return d_(i,r,u);case 31:return IM(i,r,u);case 22:return s_(i,r,u,r.pendingProps);case 24:return La(r),f=kn(ln),i===null?(y=Cp(),y===null&&(y=Ee,b=Ep(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=u),y=b),r.memoizedState={parent:f,cache:y},Rp(r),Br(r,ln,y)):((i.lanes&u)!==0&&(Dp(i,r),yc(r,null,null,u),mc()),y=i.memoizedState,b=r.memoizedState,y.parent!==f?(y={parent:f,cache:f},r.memoizedState=y,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=y),Br(r,ln,f)):(f=b.cache,Br(r,ln,f),f!==y.cache&&Ap(r,[ln],u,!0))),Nn(i,r,r.pendingProps.children,u),r.child;case 29:throw r.pendingProps}throw Error(n(156,r.tag))}function sr(i){i.flags|=4}function hg(i,r,u,f,y){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(y&335544128)===y)if(i.stateNode.complete)i.flags|=8192;else if(j_())i.flags|=8192;else throw Ia=Sh,Mp}else i.flags&=-16777217}function p_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Rw(r))if(j_())i.flags|=8192;else throw Ia=Sh,Mp}function Fh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?ut():536870912,i.lanes|=r,Qo|=r)}function xc(i,r){if(!re)switch(i.tailMode){case"hidden":r=i.tail;for(var u=null;r!==null;)r.alternate!==null&&(u=r),r=r.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Le(i){var r=i.alternate!==null&&i.alternate.child===i.child,u=0,f=0;if(r)for(var y=i.child;y!==null;)u|=y.lanes|y.childLanes,f|=y.subtreeFlags&65011712,f|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)u|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=f,i.childLanes=u,r}function FM(i,r,u){var f=r.pendingProps;switch(bp(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(r),null;case 1:return Le(r),null;case 3:return u=r.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),r.memoizedState.cache!==f&&(r.flags|=2048),tr(ln),Tt(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(zo(r)?sr(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,wp())),Le(r),null;case 26:var y=r.type,b=r.memoizedState;return i===null?(sr(r),b!==null?(Le(r),p_(r,b)):(Le(r),hg(r,y,null,f,u))):b?b!==i.memoizedState?(sr(r),Le(r),p_(r,b)):(Le(r),r.flags&=-16777217):(i=i.memoizedProps,i!==f&&sr(r),Le(r),hg(r,y,i,f,u)),null;case 27:if(Ft(r),u=gt.current,y=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==f&&sr(r);else{if(!f){if(r.stateNode===null)throw Error(n(166));return Le(r),null}i=nt.current,zo(r)?q0(r):(i=ww(y,f,u),r.stateNode=i,sr(r))}return Le(r),null;case 5:if(Ft(r),y=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==f&&sr(r);else{if(!f){if(r.stateNode===null)throw Error(n(166));return Le(r),null}if(b=nt.current,zo(r))q0(r);else{var A=td(gt.current);switch(b){case 1:b=A.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:b=A.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":b=A.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":b=A.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":b=A.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof f.is=="string"?A.createElement("select",{is:f.is}):A.createElement("select"),f.multiple?b.multiple=!0:f.size&&(b.size=f.size);break;default:b=typeof f.is=="string"?A.createElement(y,{is:f.is}):A.createElement(y)}}b[Gt]=r,b[qt]=f;t:for(A=r.child;A!==null;){if(A.tag===5||A.tag===6)b.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===r)break t;for(;A.sibling===null;){if(A.return===null||A.return===r)break t;A=A.return}A.sibling.return=A.return,A=A.sibling}r.stateNode=b;t:switch(Ln(b,y,f),y){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break t;case"img":f=!0;break t;default:f=!1}f&&sr(r)}}return Le(r),hg(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,u),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==f&&sr(r);else{if(typeof f!="string"&&r.stateNode===null)throw Error(n(166));if(i=gt.current,zo(r)){if(i=r.stateNode,u=r.memoizedProps,f=null,y=On,y!==null)switch(y.tag){case 27:case 5:f=y.memoizedProps}i[Gt]=r,i=!!(i.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||uw(i.nodeValue,u)),i||Pr(r,!0)}else i=td(i).createTextNode(f),i[Gt]=r,r.stateNode=i}return Le(r),null;case 31:if(u=r.memoizedState,i===null||i.memoizedState!==null){if(f=zo(r),u!==null){if(i===null){if(!f)throw Error(n(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(557));i[Gt]=r}else ka(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Le(r),i=!1}else u=wp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=u),i=!0;if(!i)return r.flags&256?(wi(r),r):(wi(r),null);if((r.flags&128)!==0)throw Error(n(558))}return Le(r),null;case 13:if(f=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=zo(r),f!==null&&f.dehydrated!==null){if(i===null){if(!y)throw Error(n(318));if(y=r.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[Gt]=r}else ka(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Le(r),y=!1}else y=wp(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return r.flags&256?(wi(r),r):(wi(r),null)}return wi(r),(r.flags&128)!==0?(r.lanes=u,r):(u=f!==null,i=i!==null&&i.memoizedState!==null,u&&(f=r.child,y=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(y=f.alternate.memoizedState.cachePool.pool),b=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==y&&(f.flags|=2048)),u!==i&&u&&(r.child.flags|=8192),Fh(r,r.updateQueue),Le(r),null);case 4:return Tt(),i===null&&Ng(r.stateNode.containerInfo),Le(r),null;case 10:return tr(r.type),Le(r),null;case 19:if(j(tn),f=r.memoizedState,f===null)return Le(r),null;if(y=(r.flags&128)!==0,b=f.rendering,b===null)if(y)xc(f,!1);else{if(Qe!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(b=Th(i),b!==null){for(r.flags|=128,xc(f,!1),i=b.updateQueue,r.updateQueue=i,Fh(r,i),r.subtreeFlags=0,i=u,u=r.child;u!==null;)H0(u,i),u=u.sibling;return K(tn,tn.current&1|2),re&&Zs(r,f.treeForkCount),r.child}i=i.sibling}f.tail!==null&&Ae()>Vh&&(r.flags|=128,y=!0,xc(f,!1),r.lanes=4194304)}else{if(!y)if(i=Th(b),i!==null){if(r.flags|=128,y=!0,i=i.updateQueue,r.updateQueue=i,Fh(r,i),xc(f,!0),f.tail===null&&f.tailMode==="hidden"&&!b.alternate&&!re)return Le(r),null}else 2*Ae()-f.renderingStartTime>Vh&&u!==536870912&&(r.flags|=128,y=!0,xc(f,!1),r.lanes=4194304);f.isBackwards?(b.sibling=r.child,r.child=b):(i=f.last,i!==null?i.sibling=b:r.child=b,f.last=b)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=Ae(),i.sibling=null,u=tn.current,K(tn,y?u&1|2:u&1),re&&Zs(r,f.treeForkCount),i):(Le(r),null);case 22:case 23:return wi(r),Lp(),f=r.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(r.flags|=8192):f&&(r.flags|=8192),f?(u&536870912)!==0&&(r.flags&128)===0&&(Le(r),r.subtreeFlags&6&&(r.flags|=8192)):Le(r),u=r.updateQueue,u!==null&&Fh(r,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),f=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),f!==u&&(r.flags|=2048),i!==null&&j(Pa),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),tr(ln),Le(r),null;case 25:return null;case 30:return null}throw Error(n(156,r.tag))}function jM(i,r){switch(bp(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return tr(ln),Tt(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Ft(r),null;case 31:if(r.memoizedState!==null){if(wi(r),r.alternate===null)throw Error(n(340));ka()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(wi(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(n(340));ka()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return j(tn),null;case 4:return Tt(),null;case 10:return tr(r.type),null;case 22:case 23:return wi(r),Lp(),i!==null&&j(Pa),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return tr(ln),null;case 25:return null;default:return null}}function g_(i,r){switch(bp(r),r.tag){case 3:tr(ln),Tt();break;case 26:case 27:case 5:Ft(r);break;case 4:Tt();break;case 31:r.memoizedState!==null&&wi(r);break;case 13:wi(r);break;case 19:j(tn);break;case 10:tr(r.type);break;case 22:case 23:wi(r),Lp(),i!==null&&j(Pa);break;case 24:tr(ln)}}function Ac(i,r){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var y=f.next;u=y;do{if((u.tag&i)===i){f=void 0;var b=u.create,A=u.inst;f=b(),A.destroy=f}u=u.next}while(u!==y)}}catch(N){ve(r,r.return,N)}}function Hr(i,r,u){try{var f=r.updateQueue,y=f!==null?f.lastEffect:null;if(y!==null){var b=y.next;f=b;do{if((f.tag&i)===i){var A=f.inst,N=A.destroy;if(N!==void 0){A.destroy=void 0,y=r;var U=u,J=N;try{J()}catch(at){ve(y,U,at)}}}f=f.next}while(f!==b)}}catch(at){ve(r,r.return,at)}}function m_(i){var r=i.updateQueue;if(r!==null){var u=i.stateNode;try{ab(r,u)}catch(f){ve(i,i.return,f)}}}function y_(i,r,u){u.props=ja(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(f){ve(i,r,f)}}function Ec(i,r){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof u=="function"?i.refCleanup=u(f):u.current=f}}catch(y){ve(i,r,y)}}function Es(i,r){var u=i.ref,f=i.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(y){ve(i,r,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){ve(i,r,y)}else u.current=null}function v_(i){var r=i.type,u=i.memoizedProps,f=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break t;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(y){ve(i,i.return,y)}}function dg(i,r,u){try{var f=i.stateNode;lR(f,i.type,u,r),f[qt]=r}catch(y){ve(i,i.return,y)}}function b_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Wr(i.type)||i.tag===4}function fg(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||b_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Wr(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function pg(i,r,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,r?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,r):(r=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,r.appendChild(i),u=u._reactRootContainer,u!=null||r.onclick!==null||(r.onclick=Ws));else if(f!==4&&(f===27&&Wr(i.type)&&(u=i.stateNode,r=null),i=i.child,i!==null))for(pg(i,r,u),i=i.sibling;i!==null;)pg(i,r,u),i=i.sibling}function jh(i,r,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,r?u.insertBefore(i,r):u.appendChild(i);else if(f!==4&&(f===27&&Wr(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(jh(i,r,u),i=i.sibling;i!==null;)jh(i,r,u),i=i.sibling}function __(i){var r=i.stateNode,u=i.memoizedProps;try{for(var f=i.type,y=r.attributes;y.length;)r.removeAttributeNode(y[0]);Ln(r,f,u),r[Gt]=i,r[qt]=u}catch(b){ve(i,i.return,b)}}var rr=!1,hn=!1,gg=!1,w_=typeof WeakSet=="function"?WeakSet:Set,An=null;function UM(i,r){if(i=i.containerInfo,Bg=od,i=N0(i),lp(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else t:{u=(u=i.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var y=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break t}var A=0,N=-1,U=-1,J=0,at=0,dt=i,et=null;e:for(;;){for(var it;dt!==u||y!==0&&dt.nodeType!==3||(N=A+y),dt!==b||f!==0&&dt.nodeType!==3||(U=A+f),dt.nodeType===3&&(A+=dt.nodeValue.length),(it=dt.firstChild)!==null;)et=dt,dt=it;for(;;){if(dt===i)break e;if(et===u&&++J===y&&(N=A),et===b&&++at===f&&(U=A),(it=dt.nextSibling)!==null)break;dt=et,et=dt.parentNode}dt=it}u=N===-1||U===-1?null:{start:N,end:U}}else u=null}u=u||{start:0,end:0}}else u=null;for(Ig={focusedElem:i,selectionRange:u},od=!1,An=r;An!==null;)if(r=An,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,An=i;else for(;An!==null;){switch(r=An,b=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(u=0;u<i.length;u++)y=i[u],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&b!==null){i=void 0,u=r,y=b.memoizedProps,b=b.memoizedState,f=u.stateNode;try{var At=ja(u.type,y);i=f.getSnapshotBeforeUpdate(At,b),f.__reactInternalSnapshotBeforeUpdate=i}catch(Pt){ve(u,u.return,Pt)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,u=i.nodeType,u===9)jg(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":jg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=r.sibling,i!==null){i.return=r.return,An=i;break}An=r.return}}function S_(i,r,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:or(i,u),f&4&&Ac(5,u);break;case 1:if(or(i,u),f&4)if(i=u.stateNode,r===null)try{i.componentDidMount()}catch(A){ve(u,u.return,A)}else{var y=ja(u.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(y,r,i.__reactInternalSnapshotBeforeUpdate)}catch(A){ve(u,u.return,A)}}f&64&&m_(u),f&512&&Ec(u,u.return);break;case 3:if(or(i,u),f&64&&(i=u.updateQueue,i!==null)){if(r=null,u.child!==null)switch(u.child.tag){case 27:case 5:r=u.child.stateNode;break;case 1:r=u.child.stateNode}try{ab(i,r)}catch(A){ve(u,u.return,A)}}break;case 27:r===null&&f&4&&__(u);case 26:case 5:or(i,u),r===null&&f&4&&v_(u),f&512&&Ec(u,u.return);break;case 12:or(i,u);break;case 31:or(i,u),f&4&&E_(i,u);break;case 13:or(i,u),f&4&&T_(i,u),f&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=KM.bind(null,u),mR(i,u))));break;case 22:if(f=u.memoizedState!==null||rr,!f){r=r!==null&&r.memoizedState!==null||hn,y=rr;var b=hn;rr=f,(hn=r)&&!b?lr(i,u,(u.subtreeFlags&8772)!==0):or(i,u),rr=y,hn=b}break;case 30:break;default:or(i,u)}}function x_(i){var r=i.alternate;r!==null&&(i.alternate=null,x_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Eo(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Fe=null,ni=!1;function ar(i,r,u){for(u=u.child;u!==null;)A_(i,r,u),u=u.sibling}function A_(i,r,u){if(Ie&&typeof Ie.onCommitFiberUnmount=="function")try{Ie.onCommitFiberUnmount($n,u)}catch{}switch(u.tag){case 26:hn||Es(u,r),ar(i,r,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:hn||Es(u,r);var f=Fe,y=ni;Wr(u.type)&&(Fe=u.stateNode,ni=!1),ar(i,r,u),Lc(u.stateNode),Fe=f,ni=y;break;case 5:hn||Es(u,r);case 6:if(f=Fe,y=ni,Fe=null,ar(i,r,u),Fe=f,ni=y,Fe!==null)if(ni)try{(Fe.nodeType===9?Fe.body:Fe.nodeName==="HTML"?Fe.ownerDocument.body:Fe).removeChild(u.stateNode)}catch(b){ve(u,r,b)}else try{Fe.removeChild(u.stateNode)}catch(b){ve(u,r,b)}break;case 18:Fe!==null&&(ni?(i=Fe,mw(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),rl(i)):mw(Fe,u.stateNode));break;case 4:f=Fe,y=ni,Fe=u.stateNode.containerInfo,ni=!0,ar(i,r,u),Fe=f,ni=y;break;case 0:case 11:case 14:case 15:Hr(2,u,r),hn||Hr(4,u,r),ar(i,r,u);break;case 1:hn||(Es(u,r),f=u.stateNode,typeof f.componentWillUnmount=="function"&&y_(u,r,f)),ar(i,r,u);break;case 21:ar(i,r,u);break;case 22:hn=(f=hn)||u.memoizedState!==null,ar(i,r,u),hn=f;break;default:ar(i,r,u)}}function E_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{rl(i)}catch(u){ve(r,r.return,u)}}}function T_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{rl(i)}catch(u){ve(r,r.return,u)}}function HM(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new w_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new w_),r;default:throw Error(n(435,i.tag))}}function Uh(i,r){var u=HM(i);r.forEach(function(f){if(!u.has(f)){u.add(f);var y=QM.bind(null,i,f);f.then(y,y)}})}function ii(i,r){var u=r.deletions;if(u!==null)for(var f=0;f<u.length;f++){var y=u[f],b=i,A=r,N=A;t:for(;N!==null;){switch(N.tag){case 27:if(Wr(N.type)){Fe=N.stateNode,ni=!1;break t}break;case 5:Fe=N.stateNode,ni=!1;break t;case 3:case 4:Fe=N.stateNode.containerInfo,ni=!0;break t}N=N.return}if(Fe===null)throw Error(n(160));A_(b,A,y),Fe=null,ni=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)C_(r,i),r=r.sibling}var hs=null;function C_(i,r){var u=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ii(r,i),si(i),f&4&&(Hr(3,i,i.return),Ac(3,i),Hr(5,i,i.return));break;case 1:ii(r,i),si(i),f&512&&(hn||u===null||Es(u,u.return)),f&64&&rr&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var y=hs;if(ii(r,i),si(i),f&512&&(hn||u===null||Es(u,u.return)),f&4){var b=u!==null?u.memoizedState:null;if(f=i.memoizedState,u===null)if(f===null)if(i.stateNode===null){t:{f=i.type,u=i.memoizedProps,y=y.ownerDocument||y;e:switch(f){case"title":b=y.getElementsByTagName("title")[0],(!b||b[Dr]||b[Gt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(f),y.head.insertBefore(b,y.querySelector("head > title"))),Ln(b,f,u),b[Gt]=i,We(b),f=b;break t;case"link":var A=Cw("link","href",y).get(f+(u.href||""));if(A){for(var N=0;N<A.length;N++)if(b=A[N],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){A.splice(N,1);break e}}b=y.createElement(f),Ln(b,f,u),y.head.appendChild(b);break;case"meta":if(A=Cw("meta","content",y).get(f+(u.content||""))){for(N=0;N<A.length;N++)if(b=A[N],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){A.splice(N,1);break e}}b=y.createElement(f),Ln(b,f,u),y.head.appendChild(b);break;default:throw Error(n(468,f))}b[Gt]=i,We(b),f=b}i.stateNode=f}else Mw(y,i.type,i.stateNode);else i.stateNode=Tw(y,f,i.memoizedProps);else b!==f?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,f===null?Mw(y,i.type,i.stateNode):Tw(y,f,i.memoizedProps)):f===null&&i.stateNode!==null&&dg(i,i.memoizedProps,u.memoizedProps)}break;case 27:ii(r,i),si(i),f&512&&(hn||u===null||Es(u,u.return)),u!==null&&f&4&&dg(i,i.memoizedProps,u.memoizedProps);break;case 5:if(ii(r,i),si(i),f&512&&(hn||u===null||Es(u,u.return)),i.flags&32){y=i.stateNode;try{Mo(y,"")}catch(At){ve(i,i.return,At)}}f&4&&i.stateNode!=null&&(y=i.memoizedProps,dg(i,y,u!==null?u.memoizedProps:y)),f&1024&&(gg=!0);break;case 6:if(ii(r,i),si(i),f&4){if(i.stateNode===null)throw Error(n(162));f=i.memoizedProps,u=i.stateNode;try{u.nodeValue=f}catch(At){ve(i,i.return,At)}}break;case 3:if(id=null,y=hs,hs=ed(r.containerInfo),ii(r,i),hs=y,si(i),f&4&&u!==null&&u.memoizedState.isDehydrated)try{rl(r.containerInfo)}catch(At){ve(i,i.return,At)}gg&&(gg=!1,M_(i));break;case 4:f=hs,hs=ed(i.stateNode.containerInfo),ii(r,i),si(i),hs=f;break;case 12:ii(r,i),si(i);break;case 31:ii(r,i),si(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Uh(i,f)));break;case 13:ii(r,i),si(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Gh=Ae()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Uh(i,f)));break;case 22:y=i.memoizedState!==null;var U=u!==null&&u.memoizedState!==null,J=rr,at=hn;if(rr=J||y,hn=at||U,ii(r,i),hn=at,rr=J,si(i),f&8192)t:for(r=i.stateNode,r._visibility=y?r._visibility&-2:r._visibility|1,y&&(u===null||U||rr||hn||Ua(i)),u=null,r=i;;){if(r.tag===5||r.tag===26){if(u===null){U=u=r;try{if(b=U.stateNode,y)A=b.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{N=U.stateNode;var dt=U.memoizedProps.style,et=dt!=null&&dt.hasOwnProperty("display")?dt.display:null;N.style.display=et==null||typeof et=="boolean"?"":(""+et).trim()}}catch(At){ve(U,U.return,At)}}}else if(r.tag===6){if(u===null){U=r;try{U.stateNode.nodeValue=y?"":U.memoizedProps}catch(At){ve(U,U.return,At)}}}else if(r.tag===18){if(u===null){U=r;try{var it=U.stateNode;y?yw(it,!0):yw(U.stateNode,!1)}catch(At){ve(U,U.return,At)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;u===r&&(u=null),r=r.return}u===r&&(u=null),r.sibling.return=r.return,r=r.sibling}f&4&&(f=i.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,Uh(i,u))));break;case 19:ii(r,i),si(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Uh(i,f)));break;case 30:break;case 21:break;default:ii(r,i),si(i)}}function si(i){var r=i.flags;if(r&2){try{for(var u,f=i.return;f!==null;){if(b_(f)){u=f;break}f=f.return}if(u==null)throw Error(n(160));switch(u.tag){case 27:var y=u.stateNode,b=fg(i);jh(i,b,y);break;case 5:var A=u.stateNode;u.flags&32&&(Mo(A,""),u.flags&=-33);var N=fg(i);jh(i,N,A);break;case 3:case 4:var U=u.stateNode.containerInfo,J=fg(i);pg(i,J,U);break;default:throw Error(n(161))}}catch(at){ve(i,i.return,at)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function M_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;M_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function or(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)S_(i,r.alternate,r),r=r.sibling}function Ua(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Hr(4,r,r.return),Ua(r);break;case 1:Es(r,r.return);var u=r.stateNode;typeof u.componentWillUnmount=="function"&&y_(r,r.return,u),Ua(r);break;case 27:Lc(r.stateNode);case 26:case 5:Es(r,r.return),Ua(r);break;case 22:r.memoizedState===null&&Ua(r);break;case 30:Ua(r);break;default:Ua(r)}i=i.sibling}}function lr(i,r,u){for(u=u&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var f=r.alternate,y=i,b=r,A=b.flags;switch(b.tag){case 0:case 11:case 15:lr(y,b,u),Ac(4,b);break;case 1:if(lr(y,b,u),f=b,y=f.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(J){ve(f,f.return,J)}if(f=b,y=f.updateQueue,y!==null){var N=f.stateNode;try{var U=y.shared.hiddenCallbacks;if(U!==null)for(y.shared.hiddenCallbacks=null,y=0;y<U.length;y++)rb(U[y],N)}catch(J){ve(f,f.return,J)}}u&&A&64&&m_(b),Ec(b,b.return);break;case 27:__(b);case 26:case 5:lr(y,b,u),u&&f===null&&A&4&&v_(b),Ec(b,b.return);break;case 12:lr(y,b,u);break;case 31:lr(y,b,u),u&&A&4&&E_(y,b);break;case 13:lr(y,b,u),u&&A&4&&T_(y,b);break;case 22:b.memoizedState===null&&lr(y,b,u),Ec(b,b.return);break;case 30:break;default:lr(y,b,u)}r=r.sibling}}function mg(i,r){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&hc(u))}function yg(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&hc(i))}function ds(i,r,u,f){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)R_(i,r,u,f),r=r.sibling}function R_(i,r,u,f){var y=r.flags;switch(r.tag){case 0:case 11:case 15:ds(i,r,u,f),y&2048&&Ac(9,r);break;case 1:ds(i,r,u,f);break;case 3:ds(i,r,u,f),y&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&hc(i)));break;case 12:if(y&2048){ds(i,r,u,f),i=r.stateNode;try{var b=r.memoizedProps,A=b.id,N=b.onPostCommit;typeof N=="function"&&N(A,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(U){ve(r,r.return,U)}}else ds(i,r,u,f);break;case 31:ds(i,r,u,f);break;case 13:ds(i,r,u,f);break;case 23:break;case 22:b=r.stateNode,A=r.alternate,r.memoizedState!==null?b._visibility&2?ds(i,r,u,f):Tc(i,r):b._visibility&2?ds(i,r,u,f):(b._visibility|=2,$o(i,r,u,f,(r.subtreeFlags&10256)!==0||!1)),y&2048&&mg(A,r);break;case 24:ds(i,r,u,f),y&2048&&yg(r.alternate,r);break;default:ds(i,r,u,f)}}function $o(i,r,u,f,y){for(y=y&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var b=i,A=r,N=u,U=f,J=A.flags;switch(A.tag){case 0:case 11:case 15:$o(b,A,N,U,y),Ac(8,A);break;case 23:break;case 22:var at=A.stateNode;A.memoizedState!==null?at._visibility&2?$o(b,A,N,U,y):Tc(b,A):(at._visibility|=2,$o(b,A,N,U,y)),y&&J&2048&&mg(A.alternate,A);break;case 24:$o(b,A,N,U,y),y&&J&2048&&yg(A.alternate,A);break;default:$o(b,A,N,U,y)}r=r.sibling}}function Tc(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var u=i,f=r,y=f.flags;switch(f.tag){case 22:Tc(u,f),y&2048&&mg(f.alternate,f);break;case 24:Tc(u,f),y&2048&&yg(f.alternate,f);break;default:Tc(u,f)}r=r.sibling}}var Cc=8192;function Wo(i,r,u){if(i.subtreeFlags&Cc)for(i=i.child;i!==null;)D_(i,r,u),i=i.sibling}function D_(i,r,u){switch(i.tag){case 26:Wo(i,r,u),i.flags&Cc&&i.memoizedState!==null&&MR(u,hs,i.memoizedState,i.memoizedProps);break;case 5:Wo(i,r,u);break;case 3:case 4:var f=hs;hs=ed(i.stateNode.containerInfo),Wo(i,r,u),hs=f;break;case 22:i.memoizedState===null&&(f=i.alternate,f!==null&&f.memoizedState!==null?(f=Cc,Cc=16777216,Wo(i,r,u),Cc=f):Wo(i,r,u));break;default:Wo(i,r,u)}}function O_(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Mc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var u=0;u<r.length;u++){var f=r[u];An=f,N_(f,i)}O_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)k_(i),i=i.sibling}function k_(i){switch(i.tag){case 0:case 11:case 15:Mc(i),i.flags&2048&&Hr(9,i,i.return);break;case 3:Mc(i);break;case 12:Mc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Hh(i)):Mc(i);break;default:Mc(i)}}function Hh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var u=0;u<r.length;u++){var f=r[u];An=f,N_(f,i)}O_(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Hr(8,r,r.return),Hh(r);break;case 22:u=r.stateNode,u._visibility&2&&(u._visibility&=-3,Hh(r));break;default:Hh(r)}i=i.sibling}}function N_(i,r){for(;An!==null;){var u=An;switch(u.tag){case 0:case 11:case 15:Hr(8,u,r);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:hc(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,An=f;else t:for(u=i;An!==null;){f=An;var y=f.sibling,b=f.return;if(x_(f),f===u){An=null;break t}if(y!==null){y.return=b,An=y;break t}An=b}}}var GM={getCacheForType:function(i){var r=kn(ln),u=r.data.get(i);return u===void 0&&(u=i(),r.data.set(i,u)),u},cacheSignal:function(){return kn(ln).controller.signal}},VM=typeof WeakMap=="function"?WeakMap:Map,ge=0,Ee=null,Kt=null,te=0,ye=0,Si=null,Gr=!1,Ko=!1,vg=!1,cr=0,Qe=0,Vr=0,Ha=0,bg=0,xi=0,Qo=0,Rc=null,ri=null,_g=!1,Gh=0,L_=0,Vh=1/0,Yh=null,Yr=null,mn=0,Xr=null,Zo=null,ur=0,wg=0,Sg=null,P_=null,Dc=0,xg=null;function Ai(){return(ge&2)!==0&&te!==0?te&-te:k.T!==null?Rg():Bt()}function B_(){if(xi===0)if((te&536870912)===0||re){var i=Ge;Ge<<=1,(Ge&3932160)===0&&(Ge=262144),xi=i}else xi=536870912;return i=_i.current,i!==null&&(i.flags|=32),xi}function ai(i,r,u){(i===Ee&&(ye===2||ye===9)||i.cancelPendingCommit!==null)&&(Jo(i,0),qr(i,te,xi,!1)),st(i,u),((ge&2)===0||i!==Ee)&&(i===Ee&&((ge&2)===0&&(Ha|=u),Qe===4&&qr(i,te,xi,!1)),Ts(i))}function I_(i,r,u){if((ge&6)!==0)throw Error(n(327));var f=!u&&(r&127)===0&&(r&i.expiredLanes)===0||xt(i,r),y=f?qM(i,r):Eg(i,r,!0),b=f;do{if(y===0){Ko&&!f&&qr(i,r,0,!1);break}else{if(u=i.current.alternate,b&&!YM(u)){y=Eg(i,r,!1),b=!1;continue}if(y===2){if(b=r,i.errorRecoveryDisabledLanes&b)var A=0;else A=i.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){r=A;t:{var N=i;y=Rc;var U=N.current.memoizedState.isDehydrated;if(U&&(Jo(N,A).flags|=256),A=Eg(N,A,!1),A!==2){if(vg&&!U){N.errorRecoveryDisabledLanes|=b,Ha|=b,y=4;break t}b=ri,ri=y,b!==null&&(ri===null?ri=b:ri.push.apply(ri,b))}y=A}if(b=!1,y!==2)continue}}if(y===1){Jo(i,0),qr(i,r,0,!0);break}t:{switch(f=i,b=y,b){case 0:case 1:throw Error(n(345));case 4:if((r&4194048)!==r)break;case 6:qr(f,r,xi,!Gr);break t;case 2:ri=null;break;case 3:case 5:break;default:throw Error(n(329))}if((r&62914560)===r&&(y=Gh+300-Ae(),10<y)){if(qr(f,r,xi,!Gr),yi(f,0,!0)!==0)break t;ur=r,f.timeoutHandle=pw(z_.bind(null,f,u,ri,Yh,_g,r,xi,Ha,Qo,Gr,b,"Throttled",-0,0),y);break t}z_(f,u,ri,Yh,_g,r,xi,Ha,Qo,Gr,b,null,-0,0)}}break}while(!0);Ts(i)}function z_(i,r,u,f,y,b,A,N,U,J,at,dt,et,it){if(i.timeoutHandle=-1,dt=r.subtreeFlags,dt&8192||(dt&16785408)===16785408){dt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ws},D_(r,b,dt);var At=(b&62914560)===b?Gh-Ae():(b&4194048)===b?L_-Ae():0;if(At=RR(dt,At),At!==null){ur=b,i.cancelPendingCommit=At(X_.bind(null,i,r,b,u,f,y,A,N,U,at,dt,null,et,it)),qr(i,b,A,!J);return}}X_(i,r,b,u,f,y,A,N,U)}function YM(i){for(var r=i;;){var u=r.tag;if((u===0||u===11||u===15)&&r.flags&16384&&(u=r.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var y=u[f],b=y.getSnapshot;y=y.value;try{if(!vi(b(),y))return!1}catch{return!1}}if(u=r.child,r.subtreeFlags&16384&&u!==null)u.return=r,r=u;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function qr(i,r,u,f){r&=~bg,r&=~Ha,i.suspendedLanes|=r,i.pingedLanes&=~r,f&&(i.warmLanes|=r),f=i.expirationTimes;for(var y=r;0<y;){var b=31-ue(y),A=1<<b;f[b]=-1,y&=~A}u!==0&&vt(i,u,r)}function Xh(){return(ge&6)===0?(Oc(0),!1):!0}function Ag(){if(Kt!==null){if(ye===0)var i=Kt.return;else i=Kt,Js=Na=null,jp(i),Go=null,fc=0,i=Kt;for(;i!==null;)g_(i.alternate,i),i=i.return;Kt=null}}function Jo(i,r){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,hR(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),ur=0,Ag(),Ee=i,Kt=u=Qs(i.current,null),te=r,ye=0,Si=null,Gr=!1,Ko=xt(i,r),vg=!1,Qo=xi=bg=Ha=Vr=Qe=0,ri=Rc=null,_g=!1,(r&8)!==0&&(r|=r&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=r;0<f;){var y=31-ue(f),b=1<<y;r|=i[y],f&=~b}return cr=r,fh(),u}function F_(i,r){Vt=null,k.H=wc,r===Ho||r===wh?(r=eb(),ye=3):r===Mp?(r=eb(),ye=4):ye=r===ng?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Si=r,Kt===null&&(Qe=1,Ph(i,Hi(r,i.current)))}function j_(){var i=_i.current;return i===null?!0:(te&4194048)===te?Xi===null:(te&62914560)===te||(te&536870912)!==0?i===Xi:!1}function U_(){var i=k.H;return k.H=wc,i===null?wc:i}function H_(){var i=k.A;return k.A=GM,i}function qh(){Qe=4,Gr||(te&4194048)!==te&&_i.current!==null||(Ko=!0),(Vr&134217727)===0&&(Ha&134217727)===0||Ee===null||qr(Ee,te,xi,!1)}function Eg(i,r,u){var f=ge;ge|=2;var y=U_(),b=H_();(Ee!==i||te!==r)&&(Yh=null,Jo(i,r)),r=!1;var A=Qe;t:do try{if(ye!==0&&Kt!==null){var N=Kt,U=Si;switch(ye){case 8:Ag(),A=6;break t;case 3:case 2:case 9:case 6:_i.current===null&&(r=!0);var J=ye;if(ye=0,Si=null,tl(i,N,U,J),u&&Ko){A=0;break t}break;default:J=ye,ye=0,Si=null,tl(i,N,U,J)}}XM(),A=Qe;break}catch(at){F_(i,at)}while(!0);return r&&i.shellSuspendCounter++,Js=Na=null,ge=f,k.H=y,k.A=b,Kt===null&&(Ee=null,te=0,fh()),A}function XM(){for(;Kt!==null;)G_(Kt)}function qM(i,r){var u=ge;ge|=2;var f=U_(),y=H_();Ee!==i||te!==r?(Yh=null,Vh=Ae()+500,Jo(i,r)):Ko=xt(i,r);t:do try{if(ye!==0&&Kt!==null){r=Kt;var b=Si;e:switch(ye){case 1:ye=0,Si=null,tl(i,r,b,1);break;case 2:case 9:if(J0(b)){ye=0,Si=null,V_(r);break}r=function(){ye!==2&&ye!==9||Ee!==i||(ye=7),Ts(i)},b.then(r,r);break t;case 3:ye=7;break t;case 4:ye=5;break t;case 7:J0(b)?(ye=0,Si=null,V_(r)):(ye=0,Si=null,tl(i,r,b,7));break;case 5:var A=null;switch(Kt.tag){case 26:A=Kt.memoizedState;case 5:case 27:var N=Kt;if(A?Rw(A):N.stateNode.complete){ye=0,Si=null;var U=N.sibling;if(U!==null)Kt=U;else{var J=N.return;J!==null?(Kt=J,$h(J)):Kt=null}break e}}ye=0,Si=null,tl(i,r,b,5);break;case 6:ye=0,Si=null,tl(i,r,b,6);break;case 8:Ag(),Qe=6;break t;default:throw Error(n(462))}}$M();break}catch(at){F_(i,at)}while(!0);return Js=Na=null,k.H=f,k.A=y,ge=u,Kt!==null?0:(Ee=null,te=0,fh(),Qe)}function $M(){for(;Kt!==null&&!Pe();)G_(Kt)}function G_(i){var r=f_(i.alternate,i,cr);i.memoizedProps=i.pendingProps,r===null?$h(i):Kt=r}function V_(i){var r=i,u=r.alternate;switch(r.tag){case 15:case 0:r=o_(u,r,r.pendingProps,r.type,void 0,te);break;case 11:r=o_(u,r,r.pendingProps,r.type.render,r.ref,te);break;case 5:jp(r);default:g_(u,r),r=Kt=H0(r,cr),r=f_(u,r,cr)}i.memoizedProps=i.pendingProps,r===null?$h(i):Kt=r}function tl(i,r,u,f){Js=Na=null,jp(r),Go=null,fc=0;var y=r.return;try{if(BM(i,y,r,u,te)){Qe=1,Ph(i,Hi(u,i.current)),Kt=null;return}}catch(b){if(y!==null)throw Kt=y,b;Qe=1,Ph(i,Hi(u,i.current)),Kt=null;return}r.flags&32768?(re||f===1?i=!0:Ko||(te&536870912)!==0?i=!1:(Gr=i=!0,(f===2||f===9||f===3||f===6)&&(f=_i.current,f!==null&&f.tag===13&&(f.flags|=16384))),Y_(r,i)):$h(r)}function $h(i){var r=i;do{if((r.flags&32768)!==0){Y_(r,Gr);return}i=r.return;var u=FM(r.alternate,r,cr);if(u!==null){Kt=u;return}if(r=r.sibling,r!==null){Kt=r;return}Kt=r=i}while(r!==null);Qe===0&&(Qe=5)}function Y_(i,r){do{var u=jM(i.alternate,i);if(u!==null){u.flags&=32767,Kt=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!r&&(i=i.sibling,i!==null)){Kt=i;return}Kt=i=u}while(i!==null);Qe=6,Kt=null}function X_(i,r,u,f,y,b,A,N,U){i.cancelPendingCommit=null;do Wh();while(mn!==0);if((ge&6)!==0)throw Error(n(327));if(r!==null){if(r===i.current)throw Error(n(177));if(b=r.lanes|r.childLanes,b|=fp,mt(i,u,b,A,N,U),i===Ee&&(Kt=Ee=null,te=0),Zo=r,Xr=i,ur=u,wg=b,Sg=y,P_=f,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,ZM(Be,function(){return Q_(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||f){f=k.T,k.T=null,y=z.p,z.p=2,A=ge,ge|=4;try{UM(i,r,u)}finally{ge=A,z.p=y,k.T=f}}mn=1,q_(),$_(),W_()}}function q_(){if(mn===1){mn=0;var i=Xr,r=Zo,u=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||u){u=k.T,k.T=null;var f=z.p;z.p=2;var y=ge;ge|=4;try{C_(r,i);var b=Ig,A=N0(i.containerInfo),N=b.focusedElem,U=b.selectionRange;if(A!==N&&N&&N.ownerDocument&&k0(N.ownerDocument.documentElement,N)){if(U!==null&&lp(N)){var J=U.start,at=U.end;if(at===void 0&&(at=J),"selectionStart"in N)N.selectionStart=J,N.selectionEnd=Math.min(at,N.value.length);else{var dt=N.ownerDocument||document,et=dt&&dt.defaultView||window;if(et.getSelection){var it=et.getSelection(),At=N.textContent.length,Pt=Math.min(U.start,At),Se=U.end===void 0?Pt:Math.min(U.end,At);!it.extend&&Pt>Se&&(A=Se,Se=Pt,Pt=A);var q=O0(N,Pt),V=O0(N,Se);if(q&&V&&(it.rangeCount!==1||it.anchorNode!==q.node||it.anchorOffset!==q.offset||it.focusNode!==V.node||it.focusOffset!==V.offset)){var Z=dt.createRange();Z.setStart(q.node,q.offset),it.removeAllRanges(),Pt>Se?(it.addRange(Z),it.extend(V.node,V.offset)):(Z.setEnd(V.node,V.offset),it.addRange(Z))}}}}for(dt=[],it=N;it=it.parentNode;)it.nodeType===1&&dt.push({element:it,left:it.scrollLeft,top:it.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<dt.length;N++){var lt=dt[N];lt.element.scrollLeft=lt.left,lt.element.scrollTop=lt.top}}od=!!Bg,Ig=Bg=null}finally{ge=y,z.p=f,k.T=u}}i.current=r,mn=2}}function $_(){if(mn===2){mn=0;var i=Xr,r=Zo,u=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||u){u=k.T,k.T=null;var f=z.p;z.p=2;var y=ge;ge|=4;try{S_(i,r.alternate,r)}finally{ge=y,z.p=f,k.T=u}}mn=3}}function W_(){if(mn===4||mn===3){mn=0,os();var i=Xr,r=Zo,u=ur,f=P_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?mn=5:(mn=0,Zo=Xr=null,K_(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(Yr=null),_t(u),r=r.stateNode,Ie&&typeof Ie.onCommitFiberRoot=="function")try{Ie.onCommitFiberRoot($n,r,void 0,(r.current.flags&128)===128)}catch{}if(f!==null){r=k.T,y=z.p,z.p=2,k.T=null;try{for(var b=i.onRecoverableError,A=0;A<f.length;A++){var N=f[A];b(N.value,{componentStack:N.stack})}}finally{k.T=r,z.p=y}}(ur&3)!==0&&Wh(),Ts(i),y=i.pendingLanes,(u&261930)!==0&&(y&42)!==0?i===xg?Dc++:(Dc=0,xg=i):Dc=0,Oc(0)}}function K_(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,hc(r)))}function Wh(){return q_(),$_(),W_(),Q_()}function Q_(){if(mn!==5)return!1;var i=Xr,r=wg;wg=0;var u=_t(ur),f=k.T,y=z.p;try{z.p=32>u?32:u,k.T=null,u=Sg,Sg=null;var b=Xr,A=ur;if(mn=0,Zo=Xr=null,ur=0,(ge&6)!==0)throw Error(n(331));var N=ge;if(ge|=4,k_(b.current),R_(b,b.current,A,u),ge=N,Oc(0,!1),Ie&&typeof Ie.onPostCommitFiberRoot=="function")try{Ie.onPostCommitFiberRoot($n,b)}catch{}return!0}finally{z.p=y,k.T=f,K_(i,r)}}function Z_(i,r,u){r=Hi(u,r),r=eg(i.stateNode,r,2),i=Fr(i,r,2),i!==null&&(st(i,2),Ts(i))}function ve(i,r,u){if(i.tag===3)Z_(i,i,u);else for(;r!==null;){if(r.tag===3){Z_(r,i,u);break}else if(r.tag===1){var f=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Yr===null||!Yr.has(f))){i=Hi(u,i),u=Jb(2),f=Fr(r,u,2),f!==null&&(t_(u,f,r,i),st(f,2),Ts(f));break}}r=r.return}}function Tg(i,r,u){var f=i.pingCache;if(f===null){f=i.pingCache=new VM;var y=new Set;f.set(r,y)}else y=f.get(r),y===void 0&&(y=new Set,f.set(r,y));y.has(u)||(vg=!0,y.add(u),i=WM.bind(null,i,r,u),r.then(i,i))}function WM(i,r,u){var f=i.pingCache;f!==null&&f.delete(r),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,Ee===i&&(te&u)===u&&(Qe===4||Qe===3&&(te&62914560)===te&&300>Ae()-Gh?(ge&2)===0&&Jo(i,0):bg|=u,Qo===te&&(Qo=0)),Ts(i)}function J_(i,r){r===0&&(r=ut()),i=Da(i,r),i!==null&&(st(i,r),Ts(i))}function KM(i){var r=i.memoizedState,u=0;r!==null&&(u=r.retryLane),J_(i,u)}function QM(i,r){var u=0;switch(i.tag){case 31:case 13:var f=i.stateNode,y=i.memoizedState;y!==null&&(u=y.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(n(314))}f!==null&&f.delete(r),J_(i,u)}function ZM(i,r){return wn(i,r)}var Kh=null,el=null,Cg=!1,Qh=!1,Mg=!1,$r=0;function Ts(i){i!==el&&i.next===null&&(el===null?Kh=el=i:el=el.next=i),Qh=!0,Cg||(Cg=!0,tR())}function Oc(i,r){if(!Mg&&Qh){Mg=!0;do for(var u=!1,f=Kh;f!==null;){if(i!==0){var y=f.pendingLanes;if(y===0)var b=0;else{var A=f.suspendedLanes,N=f.pingedLanes;b=(1<<31-ue(42|i)+1)-1,b&=y&~(A&~N),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,iw(f,b))}else b=te,b=yi(f,f===Ee?b:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(b&3)===0||xt(f,b)||(u=!0,iw(f,b));f=f.next}while(u);Mg=!1}}function JM(){tw()}function tw(){Qh=Cg=!1;var i=0;$r!==0&&uR()&&(i=$r);for(var r=Ae(),u=null,f=Kh;f!==null;){var y=f.next,b=ew(f,r);b===0?(f.next=null,u===null?Kh=y:u.next=y,y===null&&(el=u)):(u=f,(i!==0||(b&3)!==0)&&(Qh=!0)),f=y}mn!==0&&mn!==5||Oc(i),$r!==0&&($r=0)}function ew(i,r){for(var u=i.suspendedLanes,f=i.pingedLanes,y=i.expirationTimes,b=i.pendingLanes&-62914561;0<b;){var A=31-ue(b),N=1<<A,U=y[A];U===-1?((N&u)===0||(N&f)!==0)&&(y[A]=H(N,r)):U<=r&&(i.expiredLanes|=N),b&=~N}if(r=Ee,u=te,u=yi(i,i===r?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,u===0||i===r&&(ye===2||ye===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&ce(f),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||xt(i,u)){if(r=u&-u,r===i.callbackPriority)return r;switch(f!==null&&ce(f),_t(u)){case 2:case 8:u=ke;break;case 32:u=Be;break;case 268435456:u=xn;break;default:u=Be}return f=nw.bind(null,i),u=wn(u,f),i.callbackPriority=r,i.callbackNode=u,r}return f!==null&&f!==null&&ce(f),i.callbackPriority=2,i.callbackNode=null,2}function nw(i,r){if(mn!==0&&mn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(Wh()&&i.callbackNode!==u)return null;var f=te;return f=yi(i,i===Ee?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(I_(i,f,r),ew(i,Ae()),i.callbackNode!=null&&i.callbackNode===u?nw.bind(null,i):null)}function iw(i,r){if(Wh())return null;I_(i,r,!0)}function tR(){dR(function(){(ge&6)!==0?wn(Je,JM):tw()})}function Rg(){if($r===0){var i=jo;i===0&&(i=Fn,Fn<<=1,(Fn&261888)===0&&(Fn=256)),$r=i}return $r}function sw(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:rh(""+i)}function rw(i,r){var u=r.ownerDocument.createElement("input");return u.name=r.name,u.value=r.value,i.id&&u.setAttribute("form",i.id),r.parentNode.insertBefore(u,r),i=new FormData(i),u.parentNode.removeChild(u),i}function eR(i,r,u,f,y){if(r==="submit"&&u&&u.stateNode===y){var b=sw((y[qt]||null).action),A=f.submitter;A&&(r=(r=A[qt]||null)?sw(r.formAction):A.getAttribute("formAction"),r!==null&&(b=r,A=null));var N=new ch("action","action",null,f,y);i.push({event:N,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if($r!==0){var U=A?rw(y,A):new FormData(y);Wp(u,{pending:!0,data:U,method:y.method,action:b},null,U)}}else typeof b=="function"&&(N.preventDefault(),U=A?rw(y,A):new FormData(y),Wp(u,{pending:!0,data:U,method:y.method,action:b},b,U))},currentTarget:y}]})}}for(var Dg=0;Dg<dp.length;Dg++){var Og=dp[Dg],nR=Og.toLowerCase(),iR=Og[0].toUpperCase()+Og.slice(1);us(nR,"on"+iR)}us(B0,"onAnimationEnd"),us(I0,"onAnimationIteration"),us(z0,"onAnimationStart"),us("dblclick","onDoubleClick"),us("focusin","onFocus"),us("focusout","onBlur"),us(bM,"onTransitionRun"),us(_M,"onTransitionStart"),us(wM,"onTransitionCancel"),us(F0,"onTransitionEnd"),To("onMouseEnter",["mouseout","mouseover"]),To("onMouseLeave",["mouseout","mouseover"]),To("onPointerEnter",["pointerout","pointerover"]),To("onPointerLeave",["pointerout","pointerover"]),cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cs("onBeforeInput",["compositionend","keypress","textInput","paste"]),cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kc));function aw(i,r){r=(r&4)!==0;for(var u=0;u<i.length;u++){var f=i[u],y=f.event;f=f.listeners;t:{var b=void 0;if(r)for(var A=f.length-1;0<=A;A--){var N=f[A],U=N.instance,J=N.currentTarget;if(N=N.listener,U!==b&&y.isPropagationStopped())break t;b=N,y.currentTarget=J;try{b(y)}catch(at){dh(at)}y.currentTarget=null,b=U}else for(A=0;A<f.length;A++){if(N=f[A],U=N.instance,J=N.currentTarget,N=N.listener,U!==b&&y.isPropagationStopped())break t;b=N,y.currentTarget=J;try{b(y)}catch(at){dh(at)}y.currentTarget=null,b=U}}}}function Qt(i,r){var u=r[be];u===void 0&&(u=r[be]=new Set);var f=i+"__bubble";u.has(f)||(ow(r,i,2,!1),u.add(f))}function kg(i,r,u){var f=0;r&&(f|=4),ow(u,i,f,r)}var Zh="_reactListening"+Math.random().toString(36).slice(2);function Ng(i){if(!i[Zh]){i[Zh]=!0,Or.forEach(function(u){u!=="selectionchange"&&(sR.has(u)||kg(u,!1,i),kg(u,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Zh]||(r[Zh]=!0,kg("selectionchange",!1,r))}}function ow(i,r,u,f){switch(Bw(r)){case 2:var y=kR;break;case 8:y=NR;break;default:y=$g}u=y.bind(null,r,u,i),y=void 0,!Jf||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(y=!0),f?y!==void 0?i.addEventListener(r,u,{capture:!0,passive:y}):i.addEventListener(r,u,!0):y!==void 0?i.addEventListener(r,u,{passive:y}):i.addEventListener(r,u,!1)}function Lg(i,r,u,f,y){var b=f;if((r&1)===0&&(r&2)===0&&f!==null)t:for(;;){if(f===null)return;var A=f.tag;if(A===3||A===4){var N=f.stateNode.containerInfo;if(N===y)break;if(A===4)for(A=f.return;A!==null;){var U=A.tag;if((U===3||U===4)&&A.stateNode.containerInfo===y)return;A=A.return}for(;N!==null;){if(A=Xs(N),A===null)return;if(U=A.tag,U===5||U===6||U===26||U===27){f=b=A;continue t}N=N.parentNode}}f=f.return}d0(function(){var J=b,at=Qf(u),dt=[];t:{var et=j0.get(i);if(et!==void 0){var it=ch,At=i;switch(i){case"keypress":if(oh(u)===0)break t;case"keydown":case"keyup":it=QC;break;case"focusin":At="focus",it=ip;break;case"focusout":At="blur",it=ip;break;case"beforeblur":case"afterblur":it=ip;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":it=g0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":it=FC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":it=tM;break;case B0:case I0:case z0:it=HC;break;case F0:it=nM;break;case"scroll":case"scrollend":it=IC;break;case"wheel":it=sM;break;case"copy":case"cut":case"paste":it=VC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":it=y0;break;case"toggle":case"beforetoggle":it=aM}var Pt=(r&4)!==0,Se=!Pt&&(i==="scroll"||i==="scrollend"),q=Pt?et!==null?et+"Capture":null:et;Pt=[];for(var V=J,Z;V!==null;){var lt=V;if(Z=lt.stateNode,lt=lt.tag,lt!==5&&lt!==26&&lt!==27||Z===null||q===null||(lt=tc(V,q),lt!=null&&Pt.push(Nc(V,lt,Z))),Se)break;V=V.return}0<Pt.length&&(et=new it(et,At,null,u,at),dt.push({event:et,listeners:Pt}))}}if((r&7)===0){t:{if(et=i==="mouseover"||i==="pointerover",it=i==="mouseout"||i==="pointerout",et&&u!==Kf&&(At=u.relatedTarget||u.fromElement)&&(Xs(At)||At[$t]))break t;if((it||et)&&(et=at.window===at?at:(et=at.ownerDocument)?et.defaultView||et.parentWindow:window,it?(At=u.relatedTarget||u.toElement,it=J,At=At?Xs(At):null,At!==null&&(Se=o(At),Pt=At.tag,At!==Se||Pt!==5&&Pt!==27&&Pt!==6)&&(At=null)):(it=null,At=J),it!==At)){if(Pt=g0,lt="onMouseLeave",q="onMouseEnter",V="mouse",(i==="pointerout"||i==="pointerover")&&(Pt=y0,lt="onPointerLeave",q="onPointerEnter",V="pointer"),Se=it==null?et:se(it),Z=At==null?et:se(At),et=new Pt(lt,V+"leave",it,u,at),et.target=Se,et.relatedTarget=Z,lt=null,Xs(at)===J&&(Pt=new Pt(q,V+"enter",At,u,at),Pt.target=Z,Pt.relatedTarget=Se,lt=Pt),Se=lt,it&&At)e:{for(Pt=rR,q=it,V=At,Z=0,lt=q;lt;lt=Pt(lt))Z++;lt=0;for(var Nt=V;Nt;Nt=Pt(Nt))lt++;for(;0<Z-lt;)q=Pt(q),Z--;for(;0<lt-Z;)V=Pt(V),lt--;for(;Z--;){if(q===V||V!==null&&q===V.alternate){Pt=q;break e}q=Pt(q),V=Pt(V)}Pt=null}else Pt=null;it!==null&&lw(dt,et,it,Pt,!1),At!==null&&Se!==null&&lw(dt,Se,At,Pt,!0)}}t:{if(et=J?se(J):window,it=et.nodeName&&et.nodeName.toLowerCase(),it==="select"||it==="input"&&et.type==="file")var de=E0;else if(x0(et))if(T0)de=mM;else{de=pM;var Dt=fM}else it=et.nodeName,!it||it.toLowerCase()!=="input"||et.type!=="checkbox"&&et.type!=="radio"?J&&Wf(J.elementType)&&(de=E0):de=gM;if(de&&(de=de(i,J))){A0(dt,de,u,at);break t}Dt&&Dt(i,et,J),i==="focusout"&&J&&et.type==="number"&&J.memoizedProps.value!=null&&$f(et,"number",et.value)}switch(Dt=J?se(J):window,i){case"focusin":(x0(Dt)||Dt.contentEditable==="true")&&(ko=Dt,cp=J,lc=null);break;case"focusout":lc=cp=ko=null;break;case"mousedown":up=!0;break;case"contextmenu":case"mouseup":case"dragend":up=!1,L0(dt,u,at);break;case"selectionchange":if(vM)break;case"keydown":case"keyup":L0(dt,u,at)}var Yt;if(rp)t:{switch(i){case"compositionstart":var ee="onCompositionStart";break t;case"compositionend":ee="onCompositionEnd";break t;case"compositionupdate":ee="onCompositionUpdate";break t}ee=void 0}else Oo?w0(i,u)&&(ee="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(ee="onCompositionStart");ee&&(v0&&u.locale!=="ko"&&(Oo||ee!=="onCompositionStart"?ee==="onCompositionEnd"&&Oo&&(Yt=f0()):(kr=at,tp="value"in kr?kr.value:kr.textContent,Oo=!0)),Dt=Jh(J,ee),0<Dt.length&&(ee=new m0(ee,i,null,u,at),dt.push({event:ee,listeners:Dt}),Yt?ee.data=Yt:(Yt=S0(u),Yt!==null&&(ee.data=Yt)))),(Yt=lM?cM(i,u):uM(i,u))&&(ee=Jh(J,"onBeforeInput"),0<ee.length&&(Dt=new m0("onBeforeInput","beforeinput",null,u,at),dt.push({event:Dt,listeners:ee}),Dt.data=Yt)),eR(dt,i,J,u,at)}aw(dt,r)})}function Nc(i,r,u){return{instance:i,listener:r,currentTarget:u}}function Jh(i,r){for(var u=r+"Capture",f=[];i!==null;){var y=i,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=tc(i,u),y!=null&&f.unshift(Nc(i,y,b)),y=tc(i,r),y!=null&&f.push(Nc(i,y,b))),i.tag===3)return f;i=i.return}return[]}function rR(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function lw(i,r,u,f,y){for(var b=r._reactName,A=[];u!==null&&u!==f;){var N=u,U=N.alternate,J=N.stateNode;if(N=N.tag,U!==null&&U===f)break;N!==5&&N!==26&&N!==27||J===null||(U=J,y?(J=tc(u,b),J!=null&&A.unshift(Nc(u,J,U))):y||(J=tc(u,b),J!=null&&A.push(Nc(u,J,U)))),u=u.return}A.length!==0&&i.push({event:r,listeners:A})}var aR=/\r\n?/g,oR=/\u0000|\uFFFD/g;function cw(i){return(typeof i=="string"?i:""+i).replace(aR,`
`).replace(oR,"")}function uw(i,r){return r=cw(r),cw(i)===r}function we(i,r,u,f,y,b){switch(u){case"children":typeof f=="string"?r==="body"||r==="textarea"&&f===""||Mo(i,f):(typeof f=="number"||typeof f=="bigint")&&r!=="body"&&Mo(i,""+f);break;case"className":ih(i,"class",f);break;case"tabIndex":ih(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":ih(i,u,f);break;case"style":u0(i,f,b);break;case"data":if(r!=="object"){ih(i,"data",f);break}case"src":case"href":if(f===""&&(r!=="a"||u!=="href")){i.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(u);break}f=rh(""+f),i.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(r!=="input"&&we(i,r,"name",y.name,y,null),we(i,r,"formEncType",y.formEncType,y,null),we(i,r,"formMethod",y.formMethod,y,null),we(i,r,"formTarget",y.formTarget,y,null)):(we(i,r,"encType",y.encType,y,null),we(i,r,"method",y.method,y,null),we(i,r,"target",y.target,y,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(u);break}f=rh(""+f),i.setAttribute(u,f);break;case"onClick":f!=null&&(i.onclick=Ws);break;case"onScroll":f!=null&&Qt("scroll",i);break;case"onScrollEnd":f!=null&&Qt("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(u=f.__html,u!=null){if(y.children!=null)throw Error(n(60));i.innerHTML=u}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}u=rh(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,""+f):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":f===!0?i.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(u,f):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(u,f):i.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(u):i.setAttribute(u,f);break;case"popover":Qt("beforetoggle",i),Qt("toggle",i),nh(i,"popover",f);break;case"xlinkActuate":$s(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":$s(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":$s(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":$s(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":$s(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":$s(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":$s(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":$s(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":$s(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":nh(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=PC.get(u)||u,nh(i,u,f))}}function Pg(i,r,u,f,y,b){switch(u){case"style":u0(i,f,b);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(u=f.__html,u!=null){if(y.children!=null)throw Error(n(60));i.innerHTML=u}}break;case"children":typeof f=="string"?Mo(i,f):(typeof f=="number"||typeof f=="bigint")&&Mo(i,""+f);break;case"onScroll":f!=null&&Qt("scroll",i);break;case"onScrollEnd":f!=null&&Qt("scrollend",i);break;case"onClick":f!=null&&(i.onclick=Ws);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!eh.hasOwnProperty(u))t:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),r=u.slice(2,y?u.length-7:void 0),b=i[qt]||null,b=b!=null?b[u]:null,typeof b=="function"&&i.removeEventListener(r,b,y),typeof f=="function")){typeof b!="function"&&b!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(r,f,y);break t}u in i?i[u]=f:f===!0?i.setAttribute(u,""):nh(i,u,f)}}}function Ln(i,r,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qt("error",i),Qt("load",i);var f=!1,y=!1,b;for(b in u)if(u.hasOwnProperty(b)){var A=u[b];if(A!=null)switch(b){case"src":f=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,r));default:we(i,r,b,A,u,null)}}y&&we(i,r,"srcSet",u.srcSet,u,null),f&&we(i,r,"src",u.src,u,null);return;case"input":Qt("invalid",i);var N=b=A=y=null,U=null,J=null;for(f in u)if(u.hasOwnProperty(f)){var at=u[f];if(at!=null)switch(f){case"name":y=at;break;case"type":A=at;break;case"checked":U=at;break;case"defaultChecked":J=at;break;case"value":b=at;break;case"defaultValue":N=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(n(137,r));break;default:we(i,r,f,at,u,null)}}a0(i,b,N,U,J,A,y,!1);return;case"select":Qt("invalid",i),f=A=b=null;for(y in u)if(u.hasOwnProperty(y)&&(N=u[y],N!=null))switch(y){case"value":b=N;break;case"defaultValue":A=N;break;case"multiple":f=N;default:we(i,r,y,N,u,null)}r=b,u=A,i.multiple=!!f,r!=null?Co(i,!!f,r,!1):u!=null&&Co(i,!!f,u,!0);return;case"textarea":Qt("invalid",i),b=y=f=null;for(A in u)if(u.hasOwnProperty(A)&&(N=u[A],N!=null))switch(A){case"value":f=N;break;case"defaultValue":y=N;break;case"children":b=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(n(91));break;default:we(i,r,A,N,u,null)}l0(i,f,y,b);return;case"option":for(U in u)if(u.hasOwnProperty(U)&&(f=u[U],f!=null))switch(U){case"selected":i.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:we(i,r,U,f,u,null)}return;case"dialog":Qt("beforetoggle",i),Qt("toggle",i),Qt("cancel",i),Qt("close",i);break;case"iframe":case"object":Qt("load",i);break;case"video":case"audio":for(f=0;f<kc.length;f++)Qt(kc[f],i);break;case"image":Qt("error",i),Qt("load",i);break;case"details":Qt("toggle",i);break;case"embed":case"source":case"link":Qt("error",i),Qt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in u)if(u.hasOwnProperty(J)&&(f=u[J],f!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,r));default:we(i,r,J,f,u,null)}return;default:if(Wf(r)){for(at in u)u.hasOwnProperty(at)&&(f=u[at],f!==void 0&&Pg(i,r,at,f,u,void 0));return}}for(N in u)u.hasOwnProperty(N)&&(f=u[N],f!=null&&we(i,r,N,f,u,null))}function lR(i,r,u,f){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,A=null,N=null,U=null,J=null,at=null;for(it in u){var dt=u[it];if(u.hasOwnProperty(it)&&dt!=null)switch(it){case"checked":break;case"value":break;case"defaultValue":U=dt;default:f.hasOwnProperty(it)||we(i,r,it,null,f,dt)}}for(var et in f){var it=f[et];if(dt=u[et],f.hasOwnProperty(et)&&(it!=null||dt!=null))switch(et){case"type":b=it;break;case"name":y=it;break;case"checked":J=it;break;case"defaultChecked":at=it;break;case"value":A=it;break;case"defaultValue":N=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(n(137,r));break;default:it!==dt&&we(i,r,et,it,f,dt)}}qf(i,A,N,U,J,at,b,y);return;case"select":it=A=N=et=null;for(b in u)if(U=u[b],u.hasOwnProperty(b)&&U!=null)switch(b){case"value":break;case"multiple":it=U;default:f.hasOwnProperty(b)||we(i,r,b,null,f,U)}for(y in f)if(b=f[y],U=u[y],f.hasOwnProperty(y)&&(b!=null||U!=null))switch(y){case"value":et=b;break;case"defaultValue":N=b;break;case"multiple":A=b;default:b!==U&&we(i,r,y,b,f,U)}r=N,u=A,f=it,et!=null?Co(i,!!u,et,!1):!!f!=!!u&&(r!=null?Co(i,!!u,r,!0):Co(i,!!u,u?[]:"",!1));return;case"textarea":it=et=null;for(N in u)if(y=u[N],u.hasOwnProperty(N)&&y!=null&&!f.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:we(i,r,N,null,f,y)}for(A in f)if(y=f[A],b=u[A],f.hasOwnProperty(A)&&(y!=null||b!=null))switch(A){case"value":et=y;break;case"defaultValue":it=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(n(91));break;default:y!==b&&we(i,r,A,y,f,b)}o0(i,et,it);return;case"option":for(var At in u)if(et=u[At],u.hasOwnProperty(At)&&et!=null&&!f.hasOwnProperty(At))switch(At){case"selected":i.selected=!1;break;default:we(i,r,At,null,f,et)}for(U in f)if(et=f[U],it=u[U],f.hasOwnProperty(U)&&et!==it&&(et!=null||it!=null))switch(U){case"selected":i.selected=et&&typeof et!="function"&&typeof et!="symbol";break;default:we(i,r,U,et,f,it)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pt in u)et=u[Pt],u.hasOwnProperty(Pt)&&et!=null&&!f.hasOwnProperty(Pt)&&we(i,r,Pt,null,f,et);for(J in f)if(et=f[J],it=u[J],f.hasOwnProperty(J)&&et!==it&&(et!=null||it!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(n(137,r));break;default:we(i,r,J,et,f,it)}return;default:if(Wf(r)){for(var Se in u)et=u[Se],u.hasOwnProperty(Se)&&et!==void 0&&!f.hasOwnProperty(Se)&&Pg(i,r,Se,void 0,f,et);for(at in f)et=f[at],it=u[at],!f.hasOwnProperty(at)||et===it||et===void 0&&it===void 0||Pg(i,r,at,et,f,it);return}}for(var q in u)et=u[q],u.hasOwnProperty(q)&&et!=null&&!f.hasOwnProperty(q)&&we(i,r,q,null,f,et);for(dt in f)et=f[dt],it=u[dt],!f.hasOwnProperty(dt)||et===it||et==null&&it==null||we(i,r,dt,et,f,it)}function hw(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cR(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,u=performance.getEntriesByType("resource"),f=0;f<u.length;f++){var y=u[f],b=y.transferSize,A=y.initiatorType,N=y.duration;if(b&&N&&hw(A)){for(A=0,N=y.responseEnd,f+=1;f<u.length;f++){var U=u[f],J=U.startTime;if(J>N)break;var at=U.transferSize,dt=U.initiatorType;at&&hw(dt)&&(U=U.responseEnd,A+=at*(U<N?1:(N-J)/(U-J)))}if(--f,r+=8*(b+A)/(y.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Bg=null,Ig=null;function td(i){return i.nodeType===9?i:i.ownerDocument}function dw(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fw(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function zg(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Fg=null;function uR(){var i=window.event;return i&&i.type==="popstate"?i===Fg?!1:(Fg=i,!0):(Fg=null,!1)}var pw=typeof setTimeout=="function"?setTimeout:void 0,hR=typeof clearTimeout=="function"?clearTimeout:void 0,gw=typeof Promise=="function"?Promise:void 0,dR=typeof queueMicrotask=="function"?queueMicrotask:typeof gw<"u"?function(i){return gw.resolve(null).then(i).catch(fR)}:pw;function fR(i){setTimeout(function(){throw i})}function Wr(i){return i==="head"}function mw(i,r){var u=r,f=0;do{var y=u.nextSibling;if(i.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"||u==="/&"){if(f===0){i.removeChild(y),rl(r);return}f--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")f++;else if(u==="html")Lc(i.ownerDocument.documentElement);else if(u==="head"){u=i.ownerDocument.head,Lc(u);for(var b=u.firstChild;b;){var A=b.nextSibling,N=b.nodeName;b[Dr]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&b.rel.toLowerCase()==="stylesheet"||u.removeChild(b),b=A}}else u==="body"&&Lc(i.ownerDocument.body);u=y}while(u);rl(r)}function yw(i,r){var u=i;i=0;do{var f=u.nextSibling;if(u.nodeType===1?r?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(r?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),f&&f.nodeType===8)if(u=f.data,u==="/$"){if(i===0)break;i--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||i++;u=f}while(u)}function jg(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var u=r;switch(r=r.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":jg(u),Eo(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function pR(i,r,u,f){for(;i.nodeType===1;){var y=u;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[Dr])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(b=i.getAttribute("rel"),b==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(b!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(b=i.getAttribute("src"),(b!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===b)return i}else return i;if(i=qi(i.nextSibling),i===null)break}return null}function gR(i,r,u){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=qi(i.nextSibling),i===null))return null;return i}function vw(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=qi(i.nextSibling),i===null))return null;return i}function Ug(i){return i.data==="$?"||i.data==="$~"}function Hg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function mR(i,r){var u=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||u.readyState!=="loading")r();else{var f=function(){r(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function qi(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Gg=null;function bw(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"||u==="/&"){if(r===0)return qi(i.nextSibling);r--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||r++}i=i.nextSibling}return null}function _w(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(r===0)return i;r--}else u!=="/$"&&u!=="/&"||r++}i=i.previousSibling}return null}function ww(i,r,u){switch(r=td(u),i){case"html":if(i=r.documentElement,!i)throw Error(n(452));return i;case"head":if(i=r.head,!i)throw Error(n(453));return i;case"body":if(i=r.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function Lc(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Eo(i)}var $i=new Map,Sw=new Set;function ed(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var hr=z.d;z.d={f:yR,r:vR,D:bR,C:_R,L:wR,m:SR,X:AR,S:xR,M:ER};function yR(){var i=hr.f(),r=Xh();return i||r}function vR(i){var r=qs(i);r!==null&&r.tag===5&&r.type==="form"?Fb(r):hr.r(i)}var nl=typeof document>"u"?null:document;function xw(i,r,u){var f=nl;if(f&&typeof r=="string"&&r){var y=ji(r);y='link[rel="'+i+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),Sw.has(y)||(Sw.add(y),i={rel:i,crossOrigin:u,href:r},f.querySelector(y)===null&&(r=f.createElement("link"),Ln(r,"link",i),We(r),f.head.appendChild(r)))}}function bR(i){hr.D(i),xw("dns-prefetch",i,null)}function _R(i,r){hr.C(i,r),xw("preconnect",i,r)}function wR(i,r,u){hr.L(i,r,u);var f=nl;if(f&&i&&r){var y='link[rel="preload"][as="'+ji(r)+'"]';r==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+ji(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+ji(u.imageSizes)+'"]')):y+='[href="'+ji(i)+'"]';var b=y;switch(r){case"style":b=il(i);break;case"script":b=sl(i)}$i.has(b)||(i=g({rel:"preload",href:r==="image"&&u&&u.imageSrcSet?void 0:i,as:r},u),$i.set(b,i),f.querySelector(y)!==null||r==="style"&&f.querySelector(Pc(b))||r==="script"&&f.querySelector(Bc(b))||(r=f.createElement("link"),Ln(r,"link",i),We(r),f.head.appendChild(r)))}}function SR(i,r){hr.m(i,r);var u=nl;if(u&&i){var f=r&&typeof r.as=="string"?r.as:"script",y='link[rel="modulepreload"][as="'+ji(f)+'"][href="'+ji(i)+'"]',b=y;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=sl(i)}if(!$i.has(b)&&(i=g({rel:"modulepreload",href:i},r),$i.set(b,i),u.querySelector(y)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Bc(b)))return}f=u.createElement("link"),Ln(f,"link",i),We(f),u.head.appendChild(f)}}}function xR(i,r,u){hr.S(i,r,u);var f=nl;if(f&&i){var y=Un(f).hoistableStyles,b=il(i);r=r||"default";var A=y.get(b);if(!A){var N={loading:0,preload:null};if(A=f.querySelector(Pc(b)))N.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":r},u),(u=$i.get(b))&&Vg(i,u);var U=A=f.createElement("link");We(U),Ln(U,"link",i),U._p=new Promise(function(J,at){U.onload=J,U.onerror=at}),U.addEventListener("load",function(){N.loading|=1}),U.addEventListener("error",function(){N.loading|=2}),N.loading|=4,nd(A,r,f)}A={type:"stylesheet",instance:A,count:1,state:N},y.set(b,A)}}}function AR(i,r){hr.X(i,r);var u=nl;if(u&&i){var f=Un(u).hoistableScripts,y=sl(i),b=f.get(y);b||(b=u.querySelector(Bc(y)),b||(i=g({src:i,async:!0},r),(r=$i.get(y))&&Yg(i,r),b=u.createElement("script"),We(b),Ln(b,"link",i),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(y,b))}}function ER(i,r){hr.M(i,r);var u=nl;if(u&&i){var f=Un(u).hoistableScripts,y=sl(i),b=f.get(y);b||(b=u.querySelector(Bc(y)),b||(i=g({src:i,async:!0,type:"module"},r),(r=$i.get(y))&&Yg(i,r),b=u.createElement("script"),We(b),Ln(b,"link",i),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(y,b))}}function Aw(i,r,u,f){var y=(y=gt.current)?ed(y):null;if(!y)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(r=il(u.href),u=Un(y).hoistableStyles,f=u.get(r),f||(f={type:"style",instance:null,count:0,state:null},u.set(r,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=il(u.href);var b=Un(y).hoistableStyles,A=b.get(i);if(A||(y=y.ownerDocument||y,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(i,A),(b=y.querySelector(Pc(i)))&&!b._p&&(A.instance=b,A.state.loading=5),$i.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},$i.set(i,u),b||TR(y,i,u,A.state))),r&&f===null)throw Error(n(528,""));return A}if(r&&f!==null)throw Error(n(529,""));return null;case"script":return r=u.async,u=u.src,typeof u=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=sl(u),u=Un(y).hoistableScripts,f=u.get(r),f||(f={type:"script",instance:null,count:0,state:null},u.set(r,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function il(i){return'href="'+ji(i)+'"'}function Pc(i){return'link[rel="stylesheet"]['+i+"]"}function Ew(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function TR(i,r,u,f){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?f.loading=1:(r=i.createElement("link"),f.preload=r,r.addEventListener("load",function(){return f.loading|=1}),r.addEventListener("error",function(){return f.loading|=2}),Ln(r,"link",u),We(r),i.head.appendChild(r))}function sl(i){return'[src="'+ji(i)+'"]'}function Bc(i){return"script[async]"+i}function Tw(i,r,u){if(r.count++,r.instance===null)switch(r.type){case"style":var f=i.querySelector('style[data-href~="'+ji(u.href)+'"]');if(f)return r.instance=f,We(f),f;var y=g({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),We(f),Ln(f,"style",y),nd(f,u.precedence,i),r.instance=f;case"stylesheet":y=il(u.href);var b=i.querySelector(Pc(y));if(b)return r.state.loading|=4,r.instance=b,We(b),b;f=Ew(u),(y=$i.get(y))&&Vg(f,y),b=(i.ownerDocument||i).createElement("link"),We(b);var A=b;return A._p=new Promise(function(N,U){A.onload=N,A.onerror=U}),Ln(b,"link",f),r.state.loading|=4,nd(b,u.precedence,i),r.instance=b;case"script":return b=sl(u.src),(y=i.querySelector(Bc(b)))?(r.instance=y,We(y),y):(f=u,(y=$i.get(b))&&(f=g({},u),Yg(f,y)),i=i.ownerDocument||i,y=i.createElement("script"),We(y),Ln(y,"link",f),i.head.appendChild(y),r.instance=y);case"void":return null;default:throw Error(n(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(f=r.instance,r.state.loading|=4,nd(f,u.precedence,i));return r.instance}function nd(i,r,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=f.length?f[f.length-1]:null,b=y,A=0;A<f.length;A++){var N=f[A];if(N.dataset.precedence===r)b=N;else if(b!==y)break}b?b.parentNode.insertBefore(i,b.nextSibling):(r=u.nodeType===9?u.head:u,r.insertBefore(i,r.firstChild))}function Vg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Yg(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var id=null;function Cw(i,r,u){if(id===null){var f=new Map,y=id=new Map;y.set(u,f)}else y=id,f=y.get(u),f||(f=new Map,y.set(u,f));if(f.has(i))return f;for(f.set(i,null),u=u.getElementsByTagName(i),y=0;y<u.length;y++){var b=u[y];if(!(b[Dr]||b[Gt]||i==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var A=b.getAttribute(r)||"";A=i+A;var N=f.get(A);N?N.push(b):f.set(A,[b])}}return f}function Mw(i,r,u){i=i.ownerDocument||i,i.head.insertBefore(u,r==="title"?i.querySelector("head > title"):null)}function CR(i,r,u){if(u===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return i=r.disabled,typeof r.precedence=="string"&&i==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Rw(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function MR(i,r,u,f){if(u.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var y=il(f.href),b=r.querySelector(Pc(y));if(b){r=b._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=sd.bind(i),r.then(i,i)),u.state.loading|=4,u.instance=b,We(b);return}b=r.ownerDocument||r,f=Ew(f),(y=$i.get(y))&&Vg(f,y),b=b.createElement("link"),We(b);var A=b;A._p=new Promise(function(N,U){A.onload=N,A.onerror=U}),Ln(b,"link",f),u.instance=b}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(u,r),(r=u.state.preload)&&(u.state.loading&3)===0&&(i.count++,u=sd.bind(i),r.addEventListener("load",u),r.addEventListener("error",u))}}var Xg=0;function RR(i,r){return i.stylesheets&&i.count===0&&ad(i,i.stylesheets),0<i.count||0<i.imgCount?function(u){var f=setTimeout(function(){if(i.stylesheets&&ad(i,i.stylesheets),i.unsuspend){var b=i.unsuspend;i.unsuspend=null,b()}},6e4+r);0<i.imgBytes&&Xg===0&&(Xg=62500*cR());var y=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&ad(i,i.stylesheets),i.unsuspend)){var b=i.unsuspend;i.unsuspend=null,b()}},(i.imgBytes>Xg?50:800)+r);return i.unsuspend=u,function(){i.unsuspend=null,clearTimeout(f),clearTimeout(y)}}:null}function sd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ad(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var rd=null;function ad(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,rd=new Map,r.forEach(DR,i),rd=null,sd.call(i))}function DR(i,r){if(!(r.state.loading&4)){var u=rd.get(i);if(u)var f=u.get(null);else{u=new Map,rd.set(i,u);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var A=y[b];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(u.set(A.dataset.precedence,A),f=A)}f&&u.set(null,f)}y=r.instance,A=y.getAttribute("data-precedence"),b=u.get(A)||f,b===f&&u.set(null,y),u.set(A,y),this.count++,f=sd.bind(this),y.addEventListener("load",f),y.addEventListener("error",f),b?b.parentNode.insertBefore(y,b.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),r.state.loading|=4}}var Ic={$$typeof:C,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function OR(i,r,u,f,y,b,A,N,U){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Y(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Y(0),this.hiddenUpdates=Y(null),this.identifierPrefix=f,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function Dw(i,r,u,f,y,b,A,N,U,J,at,dt){return i=new OR(i,r,u,A,U,J,at,dt,N),r=1,b===!0&&(r|=24),b=bi(3,null,null,r),i.current=b,b.stateNode=i,r=Ep(),r.refCount++,i.pooledCache=r,r.refCount++,b.memoizedState={element:f,isDehydrated:u,cache:r},Rp(b),i}function Ow(i){return i?(i=Po,i):Po}function kw(i,r,u,f,y,b){y=Ow(y),f.context===null?f.context=y:f.pendingContext=y,f=zr(r),f.payload={element:u},b=b===void 0?null:b,b!==null&&(f.callback=b),u=Fr(i,f,r),u!==null&&(ai(u,i,r),gc(u,i,r))}function Nw(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<r?u:r}}function qg(i,r){Nw(i,r),(i=i.alternate)&&Nw(i,r)}function Lw(i){if(i.tag===13||i.tag===31){var r=Da(i,67108864);r!==null&&ai(r,i,67108864),qg(i,67108864)}}function Pw(i){if(i.tag===13||i.tag===31){var r=Ai();r=yt(r);var u=Da(i,r);u!==null&&ai(u,i,r),qg(i,r)}}var od=!0;function kR(i,r,u,f){var y=k.T;k.T=null;var b=z.p;try{z.p=2,$g(i,r,u,f)}finally{z.p=b,k.T=y}}function NR(i,r,u,f){var y=k.T;k.T=null;var b=z.p;try{z.p=8,$g(i,r,u,f)}finally{z.p=b,k.T=y}}function $g(i,r,u,f){if(od){var y=Wg(f);if(y===null)Lg(i,r,f,ld,u),Iw(i,f);else if(PR(y,i,r,u,f))f.stopPropagation();else if(Iw(i,f),r&4&&-1<LR.indexOf(i)){for(;y!==null;){var b=qs(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var A=Rn(b.pendingLanes);if(A!==0){var N=b;for(N.pendingLanes|=2,N.entangledLanes|=2;A;){var U=1<<31-ue(A);N.entanglements[1]|=U,A&=~U}Ts(b),(ge&6)===0&&(Vh=Ae()+500,Oc(0))}}break;case 31:case 13:N=Da(b,2),N!==null&&ai(N,b,2),Xh(),qg(b,2)}if(b=Wg(f),b===null&&Lg(i,r,f,ld,u),b===y)break;y=b}y!==null&&f.stopPropagation()}else Lg(i,r,f,null,u)}}function Wg(i){return i=Qf(i),Kg(i)}var ld=null;function Kg(i){if(ld=null,i=Xs(i),i!==null){var r=o(i);if(r===null)i=null;else{var u=r.tag;if(u===13){if(i=l(r),i!==null)return i;i=null}else if(u===31){if(i=c(r),i!==null)return i;i=null}else if(u===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return ld=i,null}function Bw(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ls()){case Je:return 2;case ke:return 8;case Be:case Sn:return 32;case xn:return 268435456;default:return 32}default:return 32}}var Qg=!1,Kr=null,Qr=null,Zr=null,zc=new Map,Fc=new Map,Jr=[],LR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Iw(i,r){switch(i){case"focusin":case"focusout":Kr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":zc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fc.delete(r.pointerId)}}function jc(i,r,u,f,y,b){return i===null||i.nativeEvent!==b?(i={blockedOn:r,domEventName:u,eventSystemFlags:f,nativeEvent:b,targetContainers:[y]},r!==null&&(r=qs(r),r!==null&&Lw(r)),i):(i.eventSystemFlags|=f,r=i.targetContainers,y!==null&&r.indexOf(y)===-1&&r.push(y),i)}function PR(i,r,u,f,y){switch(r){case"focusin":return Kr=jc(Kr,i,r,u,f,y),!0;case"dragenter":return Qr=jc(Qr,i,r,u,f,y),!0;case"mouseover":return Zr=jc(Zr,i,r,u,f,y),!0;case"pointerover":var b=y.pointerId;return zc.set(b,jc(zc.get(b)||null,i,r,u,f,y)),!0;case"gotpointercapture":return b=y.pointerId,Fc.set(b,jc(Fc.get(b)||null,i,r,u,f,y)),!0}return!1}function zw(i){var r=Xs(i.target);if(r!==null){var u=o(r);if(u!==null){if(r=u.tag,r===13){if(r=l(u),r!==null){i.blockedOn=r,ie(i.priority,function(){Pw(u)});return}}else if(r===31){if(r=c(u),r!==null){i.blockedOn=r,ie(i.priority,function(){Pw(u)});return}}else if(r===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function cd(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var u=Wg(i.nativeEvent);if(u===null){u=i.nativeEvent;var f=new u.constructor(u.type,u);Kf=f,u.target.dispatchEvent(f),Kf=null}else return r=qs(u),r!==null&&Lw(r),i.blockedOn=u,!1;r.shift()}return!0}function Fw(i,r,u){cd(i)&&u.delete(r)}function BR(){Qg=!1,Kr!==null&&cd(Kr)&&(Kr=null),Qr!==null&&cd(Qr)&&(Qr=null),Zr!==null&&cd(Zr)&&(Zr=null),zc.forEach(Fw),Fc.forEach(Fw)}function ud(i,r){i.blockedOn===r&&(i.blockedOn=null,Qg||(Qg=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,BR)))}var hd=null;function jw(i){hd!==i&&(hd=i,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){hd===i&&(hd=null);for(var r=0;r<i.length;r+=3){var u=i[r],f=i[r+1],y=i[r+2];if(typeof f!="function"){if(Kg(f||u)===null)continue;break}var b=qs(u);b!==null&&(i.splice(r,3),r-=3,Wp(b,{pending:!0,data:y,method:u.method,action:f},f,y))}}))}function rl(i){function r(U){return ud(U,i)}Kr!==null&&ud(Kr,i),Qr!==null&&ud(Qr,i),Zr!==null&&ud(Zr,i),zc.forEach(r),Fc.forEach(r);for(var u=0;u<Jr.length;u++){var f=Jr[u];f.blockedOn===i&&(f.blockedOn=null)}for(;0<Jr.length&&(u=Jr[0],u.blockedOn===null);)zw(u),u.blockedOn===null&&Jr.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var y=u[f],b=u[f+1],A=y[qt]||null;if(typeof b=="function")A||jw(u);else if(A){var N=null;if(b&&b.hasAttribute("formAction")){if(y=b,A=b[qt]||null)N=A.formAction;else if(Kg(y)!==null)continue}else N=A.action;typeof N=="function"?u[f+1]=N:(u.splice(f,3),f-=3),jw(u)}}}function Uw(){function i(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(A){return y=A})},focusReset:"manual",scroll:"manual"})}function r(){y!==null&&(y(),y=null),f||setTimeout(u,20)}function u(){if(!f&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,y=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(u,100),function(){f=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),y!==null&&(y(),y=null)}}}function Zg(i){this._internalRoot=i}dd.prototype.render=Zg.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(n(409));var u=r.current,f=Ai();kw(u,f,i,r,null,null)},dd.prototype.unmount=Zg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;kw(i.current,2,null,i,null,null),Xh(),r[$t]=null}};function dd(i){this._internalRoot=i}dd.prototype.unstable_scheduleHydration=function(i){if(i){var r=Bt();i={blockedOn:null,target:i,priority:r};for(var u=0;u<Jr.length&&r!==0&&r<Jr[u].priority;u++);Jr.splice(u,0,i),u===0&&zw(i)}};var Hw=t.version;if(Hw!=="19.2.0")throw Error(n(527,Hw,"19.2.0"));z.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=d(r),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var IR={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fd.isDisabled&&fd.supportsFiber)try{$n=fd.inject(IR),Ie=fd}catch{}}return Hc.createRoot=function(i,r){if(!s(i))throw Error(n(299));var u=!1,f="",y=Wb,b=Kb,A=Qb;return r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(y=r.onUncaughtError),r.onCaughtError!==void 0&&(b=r.onCaughtError),r.onRecoverableError!==void 0&&(A=r.onRecoverableError)),r=Dw(i,1,!1,null,null,u,f,null,y,b,A,Uw),i[$t]=r.current,Ng(i),new Zg(r)},Hc.hydrateRoot=function(i,r,u){if(!s(i))throw Error(n(299));var f=!1,y="",b=Wb,A=Kb,N=Qb,U=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(A=u.onCaughtError),u.onRecoverableError!==void 0&&(N=u.onRecoverableError),u.formState!==void 0&&(U=u.formState)),r=Dw(i,1,!0,r,u??null,f,y,U,b,A,N,Uw),r.context=Ow(null),u=r.current,f=Ai(),f=yt(f),y=zr(f),y.callback=null,Fr(u,y,f),u=f,r.current.lanes=u,st(r,u),Ts(r),i[$t]=r.current,Ng(i),new dd(r)},Hc.version="19.2.0",Hc}var tS;function qR(){if(tS)return nm.exports;tS=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),nm.exports=XR(),nm.exports}var $R=qR();function gr(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function fA(a,t){a.prototype=Object.create(t.prototype),a.prototype.constructor=a,a.__proto__=t}var Ni={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Pl={duration:.5,overwrite:!1,delay:0},qy,In,He,ns=1e8,Re=1/ns,qm=Math.PI*2,WR=qm/4,KR=0,pA=Math.sqrt,QR=Math.cos,ZR=Math.sin,Mn=function(t){return typeof t=="string"},Ze=function(t){return typeof t=="function"},Sr=function(t){return typeof t=="number"},$y=function(t){return typeof t>"u"},Hs=function(t){return typeof t=="object"},ui=function(t){return t!==!1},Wy=function(){return typeof window<"u"},pd=function(t){return Ze(t)||Mn(t)},gA=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Xn=Array.isArray,$m=/(?:-?\.?\d|\.)+/gi,mA=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,yl=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,am=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,yA=/[+-]=-?[.\d]+/,vA=/[^,'"\[\]\s]+/gi,JR=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Ye,Ns,Wm,Ky,Pi={},Wd={},bA,_A=function(t){return(Wd=Bl(t,Pi))&&pi},Qy=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},pu=function(t,e){return!e&&console.warn(t)},wA=function(t,e){return t&&(Pi[t]=e)&&Wd&&(Wd[t]=e)||Pi},gu=function(){return 0},tD={suppressEvents:!0,isStart:!0,kill:!1},Id={suppressEvents:!0,kill:!1},eD={suppressEvents:!0},Zy={},ha=[],Km={},SA,Ci={},om={},eS=30,zd=[],Jy="",tv=function(t){var e=t[0],n,s;if(Hs(e)||Ze(e)||(t=[t]),!(n=(e._gsap||{}).harness)){for(s=zd.length;s--&&!zd[s].targetTest(e););n=zd[s]}for(s=t.length;s--;)t[s]&&(t[s]._gsap||(t[s]._gsap=new XA(t[s],n)))||t.splice(s,1);return t},so=function(t){return t._gsap||tv(is(t))[0]._gsap},xA=function(t,e,n){return(n=t[e])&&Ze(n)?t[e]():$y(n)&&t.getAttribute&&t.getAttribute(e)||n},hi=function(t,e){return(t=t.split(",")).forEach(e)||t},an=function(t){return Math.round(t*1e5)/1e5||0},gn=function(t){return Math.round(t*1e7)/1e7||0},wl=function(t,e){var n=e.charAt(0),s=parseFloat(e.substr(2));return t=parseFloat(t),n==="+"?t+s:n==="-"?t-s:n==="*"?t*s:t/s},nD=function(t,e){for(var n=e.length,s=0;t.indexOf(e[s])<0&&++s<n;);return s<n},Kd=function(){var t=ha.length,e=ha.slice(0),n,s;for(Km={},ha.length=0,n=0;n<t;n++)s=e[n],s&&s._lazy&&(s.render(s._lazy[0],s._lazy[1],!0)._lazy=0)},ev=function(t){return!!(t._initted||t._startAt||t.add)},AA=function(t,e,n,s){ha.length&&!In&&Kd(),t.render(e,n,!!(In&&e<0&&ev(t))),ha.length&&!In&&Kd()},EA=function(t){var e=parseFloat(t);return(e||e===0)&&(t+"").match(vA).length<2?e:Mn(t)?t.trim():t},TA=function(t){return t},Bi=function(t,e){for(var n in e)n in t||(t[n]=e[n]);return t},iD=function(t){return function(e,n){for(var s in n)s in e||s==="duration"&&t||s==="ease"||(e[s]=n[s])}},Bl=function(t,e){for(var n in e)t[n]=e[n];return t},nS=function a(t,e){for(var n in e)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(t[n]=Hs(e[n])?a(t[n]||(t[n]={}),e[n]):e[n]);return t},Qd=function(t,e){var n={},s;for(s in t)s in e||(n[s]=t[s]);return n},au=function(t){var e=t.parent||Ye,n=t.keyframes?iD(Xn(t.keyframes)):Bi;if(ui(t.inherit))for(;e;)n(t,e.vars.defaults),e=e.parent||e._dp;return t},sD=function(t,e){for(var n=t.length,s=n===e.length;s&&n--&&t[n]===e[n];);return n<0},CA=function(t,e,n,s,o){var l=t[s],c;if(o)for(c=e[o];l&&l[o]>c;)l=l._prev;return l?(e._next=l._next,l._next=e):(e._next=t[n],t[n]=e),e._next?e._next._prev=e:t[s]=e,e._prev=l,e.parent=e._dp=t,e},_f=function(t,e,n,s){n===void 0&&(n="_first"),s===void 0&&(s="_last");var o=e._prev,l=e._next;o?o._next=l:t[n]===e&&(t[n]=l),l?l._prev=o:t[s]===e&&(t[s]=o),e._next=e._prev=e.parent=null},fa=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},ro=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var n=t;n;)n._dirty=1,n=n.parent;return t},rD=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},Qm=function(t,e,n,s){return t._startAt&&(In?t._startAt.revert(Id):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(e,!0,s))},aD=function a(t){return!t||t._ts&&a(t.parent)},iS=function(t){return t._repeat?Il(t._tTime,t=t.duration()+t._rDelay)*t:0},Il=function(t,e){var n=Math.floor(t=gn(t/e));return t&&n===t?n-1:n},Zd=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},wf=function(t){return t._end=gn(t._start+(t._tDur/Math.abs(t._ts||t._rts||Re)||0))},Sf=function(t,e){var n=t._dp;return n&&n.smoothChildTiming&&t._ts&&(t._start=gn(n._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),wf(t),n._dirty||ro(n,t)),t},MA=function(t,e){var n;if((e._time||!e._dur&&e._initted||e._start<t._time&&(e._dur||!e.add))&&(n=Zd(t.rawTime(),e),(!e._dur||zu(0,e.totalDuration(),n)-e._tTime>Re)&&e.render(n,!0)),ro(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(n=t;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;t._zTime=-Re}},Bs=function(t,e,n,s){return e.parent&&fa(e),e._start=gn((Sr(n)?n:n||t!==Ye?es(t,n,e):t._time)+e._delay),e._end=gn(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),CA(t,e,"_first","_last",t._sort?"_start":0),Zm(e)||(t._recent=e),s||MA(t,e),t._ts<0&&Sf(t,t._tTime),t},RA=function(t,e){return(Pi.ScrollTrigger||Qy("scrollTrigger",e))&&Pi.ScrollTrigger.create(e,t)},DA=function(t,e,n,s,o){if(iv(t,e,o),!t._initted)return 1;if(!n&&t._pt&&!In&&(t._dur&&t.vars.lazy!==!1||!t._dur&&t.vars.lazy)&&SA!==Di.frame)return ha.push(t),t._lazy=[o,s],1},oD=function a(t){var e=t.parent;return e&&e._ts&&e._initted&&!e._lock&&(e.rawTime()<0||a(e))},Zm=function(t){var e=t.data;return e==="isFromStart"||e==="isStart"},lD=function(t,e,n,s){var o=t.ratio,l=e<0||!e&&(!t._start&&oD(t)&&!(!t._initted&&Zm(t))||(t._ts<0||t._dp._ts<0)&&!Zm(t))?0:1,c=t._rDelay,h=0,d,p,g;if(c&&t._repeat&&(h=zu(0,t._tDur,e),p=Il(h,c),t._yoyo&&p&1&&(l=1-l),p!==Il(t._tTime,c)&&(o=1-l,t.vars.repeatRefresh&&t._initted&&t.invalidate())),l!==o||In||s||t._zTime===Re||!e&&t._zTime){if(!t._initted&&DA(t,e,s,n,h))return;for(g=t._zTime,t._zTime=e||(n?Re:0),n||(n=e&&!g),t.ratio=l,t._from&&(l=1-l),t._time=0,t._tTime=h,d=t._pt;d;)d.r(l,d.d),d=d._next;e<0&&Qm(t,e,n,!0),t._onUpdate&&!n&&ki(t,"onUpdate"),h&&t._repeat&&!n&&t.parent&&ki(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===l&&(l&&fa(t,1),!n&&!In&&(ki(t,l?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)},cD=function(t,e,n){var s;if(n>e)for(s=t._first;s&&s._start<=n;){if(s.data==="isPause"&&s._start>e)return s;s=s._next}else for(s=t._last;s&&s._start>=n;){if(s.data==="isPause"&&s._start<e)return s;s=s._prev}},zl=function(t,e,n,s){var o=t._repeat,l=gn(e)||0,c=t._tTime/t._tDur;return c&&!s&&(t._time*=l/t._dur),t._dur=l,t._tDur=o?o<0?1e10:gn(l*(o+1)+t._rDelay*o):l,c>0&&!s&&Sf(t,t._tTime=t._tDur*c),t.parent&&wf(t),n||ro(t.parent,t),t},sS=function(t){return t instanceof Qn?ro(t):zl(t,t._dur)},uD={_start:0,endTime:gu,totalDuration:gu},es=function a(t,e,n){var s=t.labels,o=t._recent||uD,l=t.duration()>=ns?o.endTime(!1):t._dur,c,h,d;return Mn(e)&&(isNaN(e)||e in s)?(h=e.charAt(0),d=e.substr(-1)==="%",c=e.indexOf("="),h==="<"||h===">"?(c>=0&&(e=e.replace(/=/,"")),(h==="<"?o._start:o.endTime(o._repeat>=0))+(parseFloat(e.substr(1))||0)*(d?(c<0?o:n).totalDuration()/100:1)):c<0?(e in s||(s[e]=l),s[e]):(h=parseFloat(e.charAt(c-1)+e.substr(c+1)),d&&n&&(h=h/100*(Xn(n)?n[0]:n).totalDuration()),c>1?a(t,e.substr(0,c-1),n)+h:l+h)):e==null?l:+e},ou=function(t,e,n){var s=Sr(e[1]),o=(s?2:1)+(t<2?0:1),l=e[o],c,h;if(s&&(l.duration=e[1]),l.parent=n,t){for(c=l,h=n;h&&!("immediateRender"in c);)c=h.vars.defaults||{},h=ui(h.vars.inherit)&&h.parent;l.immediateRender=ui(c.immediateRender),t<2?l.runBackwards=1:l.startAt=e[o-1]}return new pn(e[0],l,e[o+1])},_a=function(t,e){return t||t===0?e(t):e},zu=function(t,e,n){return n<t?t:n>e?e:n},Vn=function(t,e){return!Mn(t)||!(e=JR.exec(t))?"":e[1]},hD=function(t,e,n){return _a(n,function(s){return zu(t,e,s)})},Jm=[].slice,OA=function(t,e){return t&&Hs(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&Hs(t[0]))&&!t.nodeType&&t!==Ns},dD=function(t,e,n){return n===void 0&&(n=[]),t.forEach(function(s){var o;return Mn(s)&&!e||OA(s,1)?(o=n).push.apply(o,is(s)):n.push(s)})||n},is=function(t,e,n){return He&&!e&&He.selector?He.selector(t):Mn(t)&&!n&&(Wm||!Fl())?Jm.call((e||Ky).querySelectorAll(t),0):Xn(t)?dD(t,n):OA(t)?Jm.call(t,0):t?[t]:[]},ty=function(t){return t=is(t)[0]||pu("Invalid scope")||{},function(e){var n=t.current||t.nativeElement||t;return is(e,n.querySelectorAll?n:n===t?pu("Invalid scope")||Ky.createElement("div"):t)}},kA=function(t){return t.sort(function(){return .5-Math.random()})},NA=function(t){if(Ze(t))return t;var e=Hs(t)?t:{each:t},n=ao(e.ease),s=e.from||0,o=parseFloat(e.base)||0,l={},c=s>0&&s<1,h=isNaN(s)||c,d=e.axis,p=s,g=s;return Mn(s)?p=g={center:.5,edges:.5,end:1}[s]||0:!c&&h&&(p=s[0],g=s[1]),function(v,m,w){var _=(w||e).length,S=l[_],x,T,C,D,R,P,O,L,F;if(!S){if(F=e.grid==="auto"?0:(e.grid||[1,ns])[1],!F){for(O=-ns;O<(O=w[F++].getBoundingClientRect().left)&&F<_;);F<_&&F--}for(S=l[_]=[],x=h?Math.min(F,_)*p-.5:s%F,T=F===ns?0:h?_*g/F-.5:s/F|0,O=0,L=ns,P=0;P<_;P++)C=P%F-x,D=T-(P/F|0),S[P]=R=d?Math.abs(d==="y"?D:C):pA(C*C+D*D),R>O&&(O=R),R<L&&(L=R);s==="random"&&kA(S),S.max=O-L,S.min=L,S.v=_=(parseFloat(e.amount)||parseFloat(e.each)*(F>_?_-1:d?d==="y"?_/F:F:Math.max(F,_/F))||0)*(s==="edges"?-1:1),S.b=_<0?o-_:o,S.u=Vn(e.amount||e.each)||0,n=n&&_<0?GA(n):n}return _=(S[v]-S.min)/S.max||0,gn(S.b+(n?n(_):_)*S.v)+S.u}},ey=function(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(n){var s=gn(Math.round(parseFloat(n)/t)*t*e);return(s-s%1)/e+(Sr(n)?0:Vn(n))}},LA=function(t,e){var n=Xn(t),s,o;return!n&&Hs(t)&&(s=n=t.radius||ns,t.values?(t=is(t.values),(o=!Sr(t[0]))&&(s*=s)):t=ey(t.increment)),_a(e,n?Ze(t)?function(l){return o=t(l),Math.abs(o-l)<=s?o:l}:function(l){for(var c=parseFloat(o?l.x:l),h=parseFloat(o?l.y:0),d=ns,p=0,g=t.length,v,m;g--;)o?(v=t[g].x-c,m=t[g].y-h,v=v*v+m*m):v=Math.abs(t[g]-c),v<d&&(d=v,p=g);return p=!s||d<=s?t[p]:l,o||p===l||Sr(l)?p:p+Vn(l)}:ey(t))},PA=function(t,e,n,s){return _a(Xn(t)?!e:n===!0?!!(n=0):!s,function(){return Xn(t)?t[~~(Math.random()*t.length)]:(n=n||1e-5)&&(s=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((t-n/2+Math.random()*(e-t+n*.99))/n)*n*s)/s})},fD=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(s){return e.reduce(function(o,l){return l(o)},s)}},pD=function(t,e){return function(n){return t(parseFloat(n))+(e||Vn(n))}},gD=function(t,e,n){return IA(t,e,0,1,n)},BA=function(t,e,n){return _a(n,function(s){return t[~~e(s)]})},mD=function a(t,e,n){var s=e-t;return Xn(t)?BA(t,a(0,t.length),e):_a(n,function(o){return(s+(o-t)%s)%s+t})},yD=function a(t,e,n){var s=e-t,o=s*2;return Xn(t)?BA(t,a(0,t.length-1),e):_a(n,function(l){return l=(o+(l-t)%o)%o||0,t+(l>s?o-l:l)})},mu=function(t){for(var e=0,n="",s,o,l,c;~(s=t.indexOf("random(",e));)l=t.indexOf(")",s),c=t.charAt(s+7)==="[",o=t.substr(s+7,l-s-7).match(c?vA:$m),n+=t.substr(e,s-e)+PA(c?o:+o[0],c?0:+o[1],+o[2]||1e-5),e=l+1;return n+t.substr(e,t.length-e)},IA=function(t,e,n,s,o){var l=e-t,c=s-n;return _a(o,function(h){return n+((h-t)/l*c||0)})},vD=function a(t,e,n,s){var o=isNaN(t+e)?0:function(m){return(1-m)*t+m*e};if(!o){var l=Mn(t),c={},h,d,p,g,v;if(n===!0&&(s=1)&&(n=null),l)t={p:t},e={p:e};else if(Xn(t)&&!Xn(e)){for(p=[],g=t.length,v=g-2,d=1;d<g;d++)p.push(a(t[d-1],t[d]));g--,o=function(w){w*=g;var _=Math.min(v,~~w);return p[_](w-_)},n=e}else s||(t=Bl(Xn(t)?[]:{},t));if(!p){for(h in e)nv.call(c,t,h,"get",e[h]);o=function(w){return av(w,c)||(l?t.p:t)}}}return _a(n,o)},rS=function(t,e,n){var s=t.labels,o=ns,l,c,h;for(l in s)c=s[l]-e,c<0==!!n&&c&&o>(c=Math.abs(c))&&(h=l,o=c);return h},ki=function(t,e,n){var s=t.vars,o=s[e],l=He,c=t._ctx,h,d,p;if(o)return h=s[e+"Params"],d=s.callbackScope||t,n&&ha.length&&Kd(),c&&(He=c),p=h?o.apply(d,h):o.call(d),He=l,p},Kc=function(t){return fa(t),t.scrollTrigger&&t.scrollTrigger.kill(!!In),t.progress()<1&&ki(t,"onInterrupt"),t},vl,zA=[],FA=function(t){if(t)if(t=!t.name&&t.default||t,Wy()||t.headless){var e=t.name,n=Ze(t),s=e&&!n&&t.init?function(){this._props=[]}:t,o={init:gu,render:av,add:nv,kill:LD,modifier:ND,rawVars:0},l={targetTest:0,get:0,getSetter:rv,aliases:{},register:0};if(Fl(),t!==s){if(Ci[e])return;Bi(s,Bi(Qd(t,o),l)),Bl(s.prototype,Bl(o,Qd(t,l))),Ci[s.prop=e]=s,t.targetTest&&(zd.push(s),Zy[e]=1),e=(e==="css"?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}wA(e,s),t.register&&t.register(pi,s,di)}else zA.push(t)},Te=255,Qc={aqua:[0,Te,Te],lime:[0,Te,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Te],navy:[0,0,128],white:[Te,Te,Te],olive:[128,128,0],yellow:[Te,Te,0],orange:[Te,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Te,0,0],pink:[Te,192,203],cyan:[0,Te,Te],transparent:[Te,Te,Te,0]},lm=function(t,e,n){return t+=t<0?1:t>1?-1:0,(t*6<1?e+(n-e)*t*6:t<.5?n:t*3<2?e+(n-e)*(2/3-t)*6:e)*Te+.5|0},jA=function(t,e,n){var s=t?Sr(t)?[t>>16,t>>8&Te,t&Te]:0:Qc.black,o,l,c,h,d,p,g,v,m,w;if(!s){if(t.substr(-1)===","&&(t=t.substr(0,t.length-1)),Qc[t])s=Qc[t];else if(t.charAt(0)==="#"){if(t.length<6&&(o=t.charAt(1),l=t.charAt(2),c=t.charAt(3),t="#"+o+o+l+l+c+c+(t.length===5?t.charAt(4)+t.charAt(4):"")),t.length===9)return s=parseInt(t.substr(1,6),16),[s>>16,s>>8&Te,s&Te,parseInt(t.substr(7),16)/255];t=parseInt(t.substr(1),16),s=[t>>16,t>>8&Te,t&Te]}else if(t.substr(0,3)==="hsl"){if(s=w=t.match($m),!e)h=+s[0]%360/360,d=+s[1]/100,p=+s[2]/100,l=p<=.5?p*(d+1):p+d-p*d,o=p*2-l,s.length>3&&(s[3]*=1),s[0]=lm(h+1/3,o,l),s[1]=lm(h,o,l),s[2]=lm(h-1/3,o,l);else if(~t.indexOf("="))return s=t.match(mA),n&&s.length<4&&(s[3]=1),s}else s=t.match($m)||Qc.transparent;s=s.map(Number)}return e&&!w&&(o=s[0]/Te,l=s[1]/Te,c=s[2]/Te,g=Math.max(o,l,c),v=Math.min(o,l,c),p=(g+v)/2,g===v?h=d=0:(m=g-v,d=p>.5?m/(2-g-v):m/(g+v),h=g===o?(l-c)/m+(l<c?6:0):g===l?(c-o)/m+2:(o-l)/m+4,h*=60),s[0]=~~(h+.5),s[1]=~~(d*100+.5),s[2]=~~(p*100+.5)),n&&s.length<4&&(s[3]=1),s},UA=function(t){var e=[],n=[],s=-1;return t.split(da).forEach(function(o){var l=o.match(yl)||[];e.push.apply(e,l),n.push(s+=l.length+1)}),e.c=n,e},aS=function(t,e,n){var s="",o=(t+s).match(da),l=e?"hsla(":"rgba(",c=0,h,d,p,g;if(!o)return t;if(o=o.map(function(v){return(v=jA(v,e,1))&&l+(e?v[0]+","+v[1]+"%,"+v[2]+"%,"+v[3]:v.join(","))+")"}),n&&(p=UA(t),h=n.c,h.join(s)!==p.c.join(s)))for(d=t.replace(da,"1").split(yl),g=d.length-1;c<g;c++)s+=d[c]+(~h.indexOf(c)?o.shift()||l+"0,0,0,0)":(p.length?p:o.length?o:n).shift());if(!d)for(d=t.split(da),g=d.length-1;c<g;c++)s+=d[c]+o[c];return s+d[g]},da=(function(){var a="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",t;for(t in Qc)a+="|"+t+"\\b";return new RegExp(a+")","gi")})(),bD=/hsl[a]?\(/,HA=function(t){var e=t.join(" "),n;if(da.lastIndex=0,da.test(e))return n=bD.test(e),t[1]=aS(t[1],n),t[0]=aS(t[0],n,UA(t[1])),!0},yu,Di=(function(){var a=Date.now,t=500,e=33,n=a(),s=n,o=1e3/240,l=o,c=[],h,d,p,g,v,m,w=function _(S){var x=a()-s,T=S===!0,C,D,R,P;if((x>t||x<0)&&(n+=x-e),s+=x,R=s-n,C=R-l,(C>0||T)&&(P=++g.frame,v=R-g.time*1e3,g.time=R=R/1e3,l+=C+(C>=o?4:o-C),D=1),T||(h=d(_)),D)for(m=0;m<c.length;m++)c[m](R,v,P,S)};return g={time:0,frame:0,tick:function(){w(!0)},deltaRatio:function(S){return v/(1e3/(S||60))},wake:function(){bA&&(!Wm&&Wy()&&(Ns=Wm=window,Ky=Ns.document||{},Pi.gsap=pi,(Ns.gsapVersions||(Ns.gsapVersions=[])).push(pi.version),_A(Wd||Ns.GreenSockGlobals||!Ns.gsap&&Ns||{}),zA.forEach(FA)),p=typeof requestAnimationFrame<"u"&&requestAnimationFrame,h&&g.sleep(),d=p||function(S){return setTimeout(S,l-g.time*1e3+1|0)},yu=1,w(2))},sleep:function(){(p?cancelAnimationFrame:clearTimeout)(h),yu=0,d=gu},lagSmoothing:function(S,x){t=S||1/0,e=Math.min(x||33,t)},fps:function(S){o=1e3/(S||240),l=g.time*1e3+o},add:function(S,x,T){var C=x?function(D,R,P,O){S(D,R,P,O),g.remove(C)}:S;return g.remove(S),c[T?"unshift":"push"](C),Fl(),C},remove:function(S,x){~(x=c.indexOf(S))&&c.splice(x,1)&&m>=x&&m--},_listeners:c},g})(),Fl=function(){return!yu&&Di.wake()},le={},_D=/^[\d.\-M][\d.\-,\s]/,wD=/["']/g,SD=function(t){for(var e={},n=t.substr(1,t.length-3).split(":"),s=n[0],o=1,l=n.length,c,h,d;o<l;o++)h=n[o],c=o!==l-1?h.lastIndexOf(","):h.length,d=h.substr(0,c),e[s]=isNaN(d)?d.replace(wD,"").trim():+d,s=h.substr(c+1).trim();return e},xD=function(t){var e=t.indexOf("(")+1,n=t.indexOf(")"),s=t.indexOf("(",e);return t.substring(e,~s&&s<n?t.indexOf(")",n+1):n)},AD=function(t){var e=(t+"").split("("),n=le[e[0]];return n&&e.length>1&&n.config?n.config.apply(null,~t.indexOf("{")?[SD(e[1])]:xD(t).split(",").map(EA)):le._CE&&_D.test(t)?le._CE("",t):n},GA=function(t){return function(e){return 1-t(1-e)}},VA=function a(t,e){for(var n=t._first,s;n;)n instanceof Qn?a(n,e):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==e&&(n.timeline?a(n.timeline,e):(s=n._ease,n._ease=n._yEase,n._yEase=s,n._yoyo=e)),n=n._next},ao=function(t,e){return t&&(Ze(t)?t:le[t]||AD(t))||e},_o=function(t,e,n,s){n===void 0&&(n=function(h){return 1-e(1-h)}),s===void 0&&(s=function(h){return h<.5?e(h*2)/2:1-e((1-h)*2)/2});var o={easeIn:e,easeOut:n,easeInOut:s},l;return hi(t,function(c){le[c]=Pi[c]=o,le[l=c.toLowerCase()]=n;for(var h in o)le[l+(h==="easeIn"?".in":h==="easeOut"?".out":".inOut")]=le[c+"."+h]=o[h]}),o},YA=function(t){return function(e){return e<.5?(1-t(1-e*2))/2:.5+t((e-.5)*2)/2}},cm=function a(t,e,n){var s=e>=1?e:1,o=(n||(t?.3:.45))/(e<1?e:1),l=o/qm*(Math.asin(1/s)||0),c=function(p){return p===1?1:s*Math.pow(2,-10*p)*ZR((p-l)*o)+1},h=t==="out"?c:t==="in"?function(d){return 1-c(1-d)}:YA(c);return o=qm/o,h.config=function(d,p){return a(t,d,p)},h},um=function a(t,e){e===void 0&&(e=1.70158);var n=function(l){return l?--l*l*((e+1)*l+e)+1:0},s=t==="out"?n:t==="in"?function(o){return 1-n(1-o)}:YA(n);return s.config=function(o){return a(t,o)},s};hi("Linear,Quad,Cubic,Quart,Quint,Strong",function(a,t){var e=t<5?t+1:t;_o(a+",Power"+(e-1),t?function(n){return Math.pow(n,e)}:function(n){return n},function(n){return 1-Math.pow(1-n,e)},function(n){return n<.5?Math.pow(n*2,e)/2:1-Math.pow((1-n)*2,e)/2})});le.Linear.easeNone=le.none=le.Linear.easeIn;_o("Elastic",cm("in"),cm("out"),cm());(function(a,t){var e=1/t,n=2*e,s=2.5*e,o=function(c){return c<e?a*c*c:c<n?a*Math.pow(c-1.5/t,2)+.75:c<s?a*(c-=2.25/t)*c+.9375:a*Math.pow(c-2.625/t,2)+.984375};_o("Bounce",function(l){return 1-o(1-l)},o)})(7.5625,2.75);_o("Expo",function(a){return Math.pow(2,10*(a-1))*a+a*a*a*a*a*a*(1-a)});_o("Circ",function(a){return-(pA(1-a*a)-1)});_o("Sine",function(a){return a===1?1:-QR(a*WR)+1});_o("Back",um("in"),um("out"),um());le.SteppedEase=le.steps=Pi.SteppedEase={config:function(t,e){t===void 0&&(t=1);var n=1/t,s=t+(e?0:1),o=e?1:0,l=1-Re;return function(c){return((s*zu(0,l,c)|0)+o)*n}}};Pl.ease=le["quad.out"];hi("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(a){return Jy+=a+","+a+"Params,"});var XA=function(t,e){this.id=KR++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:xA,this.set=e?e.getSetter:rv},vu=(function(){function a(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,zl(this,+e.duration,1,1),this.data=e.data,He&&(this._ctx=He,He.data.push(this)),yu||Di.wake()}var t=a.prototype;return t.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},t.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},t.totalDuration=function(n){return arguments.length?(this._dirty=0,zl(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(n,s){if(Fl(),!arguments.length)return this._tTime;var o=this._dp;if(o&&o.smoothChildTiming&&this._ts){for(Sf(this,n),!o._dp||o.parent||MA(o,this);o&&o.parent;)o.parent._time!==o._start+(o._ts>=0?o._tTime/o._ts:(o.totalDuration()-o._tTime)/-o._ts)&&o.totalTime(o._tTime,!0),o=o.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&Bs(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!s||this._initted&&Math.abs(this._zTime)===Re||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),AA(this,n,s)),this},t.time=function(n,s){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+iS(this))%(this._dur+this._rDelay)||(n?this._dur:0),s):this._time},t.totalProgress=function(n,s){return arguments.length?this.totalTime(this.totalDuration()*n,s):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},t.progress=function(n,s){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+iS(this),s):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(n,s){var o=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*o,s):this._repeat?Il(this._tTime,o)+1:1},t.timeScale=function(n,s){if(!arguments.length)return this._rts===-Re?0:this._rts;if(this._rts===n)return this;var o=this.parent&&this._ts?Zd(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-Re?0:this._rts,this.totalTime(zu(-Math.abs(this._delay),this.totalDuration(),o),s!==!1),wf(this),rD(this)},t.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Fl(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Re&&(this._tTime-=Re)))),this):this._ps},t.startTime=function(n){if(arguments.length){this._start=n;var s=this.parent||this._dp;return s&&(s._sort||!this.parent)&&Bs(s,this,n-this._delay),this}return this._start},t.endTime=function(n){return this._start+(ui(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(n){var s=this.parent||this._dp;return s?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Zd(s.rawTime(n),this):this._tTime:this._tTime},t.revert=function(n){n===void 0&&(n=eD);var s=In;return In=n,ev(this)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),In=s,this},t.globalTime=function(n){for(var s=this,o=arguments.length?n:s.rawTime();s;)o=s._start+o/(Math.abs(s._ts)||1),s=s._dp;return!this.parent&&this._sat?this._sat.globalTime(n):o},t.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,sS(this)):this._repeat===-2?1/0:this._repeat},t.repeatDelay=function(n){if(arguments.length){var s=this._time;return this._rDelay=n,sS(this),s?this.time(s):this}return this._rDelay},t.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},t.seek=function(n,s){return this.totalTime(es(this,n),ui(s))},t.restart=function(n,s){return this.play().totalTime(n?-this._delay:0,ui(s)),this._dur||(this._zTime=-Re),this},t.play=function(n,s){return n!=null&&this.seek(n,s),this.reversed(!1).paused(!1)},t.reverse=function(n,s){return n!=null&&this.seek(n||this.totalDuration(),s),this.reversed(!0).paused(!1)},t.pause=function(n,s){return n!=null&&this.seek(n,s),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-Re:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-Re,this},t.isActive=function(){var n=this.parent||this._dp,s=this._start,o;return!!(!n||this._ts&&this._initted&&n.isActive()&&(o=n.rawTime(!0))>=s&&o<this.endTime(!0)-Re)},t.eventCallback=function(n,s,o){var l=this.vars;return arguments.length>1?(s?(l[n]=s,o&&(l[n+"Params"]=o),n==="onUpdate"&&(this._onUpdate=s)):delete l[n],this):l[n]},t.then=function(n){var s=this;return new Promise(function(o){var l=Ze(n)?n:TA,c=function(){var d=s.then;s.then=null,Ze(l)&&(l=l(s))&&(l.then||l===s)&&(s.then=d),o(l),s.then=d};s._initted&&s.totalProgress()===1&&s._ts>=0||!s._tTime&&s._ts<0?c():s._prom=c})},t.kill=function(){Kc(this)},a})();Bi(vu.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Re,_prom:0,_ps:!1,_rts:1});var Qn=(function(a){fA(t,a);function t(n,s){var o;return n===void 0&&(n={}),o=a.call(this,n)||this,o.labels={},o.smoothChildTiming=!!n.smoothChildTiming,o.autoRemoveChildren=!!n.autoRemoveChildren,o._sort=ui(n.sortChildren),Ye&&Bs(n.parent||Ye,gr(o),s),n.reversed&&o.reverse(),n.paused&&o.paused(!0),n.scrollTrigger&&RA(gr(o),n.scrollTrigger),o}var e=t.prototype;return e.to=function(s,o,l){return ou(0,arguments,this),this},e.from=function(s,o,l){return ou(1,arguments,this),this},e.fromTo=function(s,o,l,c){return ou(2,arguments,this),this},e.set=function(s,o,l){return o.duration=0,o.parent=this,au(o).repeatDelay||(o.repeat=0),o.immediateRender=!!o.immediateRender,new pn(s,o,es(this,l),1),this},e.call=function(s,o,l){return Bs(this,pn.delayedCall(0,s,o),l)},e.staggerTo=function(s,o,l,c,h,d,p){return l.duration=o,l.stagger=l.stagger||c,l.onComplete=d,l.onCompleteParams=p,l.parent=this,new pn(s,l,es(this,h)),this},e.staggerFrom=function(s,o,l,c,h,d,p){return l.runBackwards=1,au(l).immediateRender=ui(l.immediateRender),this.staggerTo(s,o,l,c,h,d,p)},e.staggerFromTo=function(s,o,l,c,h,d,p,g){return c.startAt=l,au(c).immediateRender=ui(c.immediateRender),this.staggerTo(s,o,c,h,d,p,g)},e.render=function(s,o,l){var c=this._time,h=this._dirty?this.totalDuration():this._tDur,d=this._dur,p=s<=0?0:gn(s),g=this._zTime<0!=s<0&&(this._initted||!d),v,m,w,_,S,x,T,C,D,R,P,O;if(this!==Ye&&p>h&&s>=0&&(p=h),p!==this._tTime||l||g){if(c!==this._time&&d&&(p+=this._time-c,s+=this._time-c),v=p,D=this._start,C=this._ts,x=!C,g&&(d||(c=this._zTime),(s||!o)&&(this._zTime=s)),this._repeat){if(P=this._yoyo,S=d+this._rDelay,this._repeat<-1&&s<0)return this.totalTime(S*100+s,o,l);if(v=gn(p%S),p===h?(_=this._repeat,v=d):(R=gn(p/S),_=~~R,_&&_===R&&(v=d,_--),v>d&&(v=d)),R=Il(this._tTime,S),!c&&this._tTime&&R!==_&&this._tTime-R*S-this._dur<=0&&(R=_),P&&_&1&&(v=d-v,O=1),_!==R&&!this._lock){var L=P&&R&1,F=L===(P&&_&1);if(_<R&&(L=!L),c=L?0:p%d?d:p,this._lock=1,this.render(c||(O?0:gn(_*S)),o,!d)._lock=0,this._tTime=p,!o&&this.parent&&ki(this,"onRepeat"),this.vars.repeatRefresh&&!O&&(this.invalidate()._lock=1),c&&c!==this._time||x!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(d=this._dur,h=this._tDur,F&&(this._lock=2,c=L?d:-1e-4,this.render(c,!0),this.vars.repeatRefresh&&!O&&this.invalidate()),this._lock=0,!this._ts&&!x)return this;VA(this,O)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(T=cD(this,gn(c),gn(v)),T&&(p-=v-(v=T._start))),this._tTime=p,this._time=v,this._act=!C,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=s,c=0),!c&&p&&!o&&!R&&(ki(this,"onStart"),this._tTime!==p))return this;if(v>=c&&s>=0)for(m=this._first;m;){if(w=m._next,(m._act||v>=m._start)&&m._ts&&T!==m){if(m.parent!==this)return this.render(s,o,l);if(m.render(m._ts>0?(v-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(v-m._start)*m._ts,o,l),v!==this._time||!this._ts&&!x){T=0,w&&(p+=this._zTime=-Re);break}}m=w}else{m=this._last;for(var X=s<0?s:v;m;){if(w=m._prev,(m._act||X<=m._end)&&m._ts&&T!==m){if(m.parent!==this)return this.render(s,o,l);if(m.render(m._ts>0?(X-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(X-m._start)*m._ts,o,l||In&&ev(m)),v!==this._time||!this._ts&&!x){T=0,w&&(p+=this._zTime=X?-Re:Re);break}}m=w}}if(T&&!o&&(this.pause(),T.render(v>=c?0:-Re)._zTime=v>=c?1:-1,this._ts))return this._start=D,wf(this),this.render(s,o,l);this._onUpdate&&!o&&ki(this,"onUpdate",!0),(p===h&&this._tTime>=this.totalDuration()||!p&&c)&&(D===this._start||Math.abs(C)!==Math.abs(this._ts))&&(this._lock||((s||!d)&&(p===h&&this._ts>0||!p&&this._ts<0)&&fa(this,1),!o&&!(s<0&&!c)&&(p||c||!h)&&(ki(this,p===h&&s>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(p<h&&this.timeScale()>0)&&this._prom())))}return this},e.add=function(s,o){var l=this;if(Sr(o)||(o=es(this,o,s)),!(s instanceof vu)){if(Xn(s))return s.forEach(function(c){return l.add(c,o)}),this;if(Mn(s))return this.addLabel(s,o);if(Ze(s))s=pn.delayedCall(0,s);else return this}return this!==s?Bs(this,s,o):this},e.getChildren=function(s,o,l,c){s===void 0&&(s=!0),o===void 0&&(o=!0),l===void 0&&(l=!0),c===void 0&&(c=-ns);for(var h=[],d=this._first;d;)d._start>=c&&(d instanceof pn?o&&h.push(d):(l&&h.push(d),s&&h.push.apply(h,d.getChildren(!0,o,l)))),d=d._next;return h},e.getById=function(s){for(var o=this.getChildren(1,1,1),l=o.length;l--;)if(o[l].vars.id===s)return o[l]},e.remove=function(s){return Mn(s)?this.removeLabel(s):Ze(s)?this.killTweensOf(s):(s.parent===this&&_f(this,s),s===this._recent&&(this._recent=this._last),ro(this))},e.totalTime=function(s,o){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=gn(Di.time-(this._ts>0?s/this._ts:(this.totalDuration()-s)/-this._ts))),a.prototype.totalTime.call(this,s,o),this._forcing=0,this):this._tTime},e.addLabel=function(s,o){return this.labels[s]=es(this,o),this},e.removeLabel=function(s){return delete this.labels[s],this},e.addPause=function(s,o,l){var c=pn.delayedCall(0,o||gu,l);return c.data="isPause",this._hasPause=1,Bs(this,c,es(this,s))},e.removePause=function(s){var o=this._first;for(s=es(this,s);o;)o._start===s&&o.data==="isPause"&&fa(o),o=o._next},e.killTweensOf=function(s,o,l){for(var c=this.getTweensOf(s,l),h=c.length;h--;)oa!==c[h]&&c[h].kill(s,o);return this},e.getTweensOf=function(s,o){for(var l=[],c=is(s),h=this._first,d=Sr(o),p;h;)h instanceof pn?nD(h._targets,c)&&(d?(!oa||h._initted&&h._ts)&&h.globalTime(0)<=o&&h.globalTime(h.totalDuration())>o:!o||h.isActive())&&l.push(h):(p=h.getTweensOf(c,o)).length&&l.push.apply(l,p),h=h._next;return l},e.tweenTo=function(s,o){o=o||{};var l=this,c=es(l,s),h=o,d=h.startAt,p=h.onStart,g=h.onStartParams,v=h.immediateRender,m,w=pn.to(l,Bi({ease:o.ease||"none",lazy:!1,immediateRender:!1,time:c,overwrite:"auto",duration:o.duration||Math.abs((c-(d&&"time"in d?d.time:l._time))/l.timeScale())||Re,onStart:function(){if(l.pause(),!m){var S=o.duration||Math.abs((c-(d&&"time"in d?d.time:l._time))/l.timeScale());w._dur!==S&&zl(w,S,0,1).render(w._time,!0,!0),m=1}p&&p.apply(w,g||[])}},o));return v?w.render(0):w},e.tweenFromTo=function(s,o,l){return this.tweenTo(o,Bi({startAt:{time:es(this,s)}},l))},e.recent=function(){return this._recent},e.nextLabel=function(s){return s===void 0&&(s=this._time),rS(this,es(this,s))},e.previousLabel=function(s){return s===void 0&&(s=this._time),rS(this,es(this,s),1)},e.currentLabel=function(s){return arguments.length?this.seek(s,!0):this.previousLabel(this._time+Re)},e.shiftChildren=function(s,o,l){l===void 0&&(l=0);for(var c=this._first,h=this.labels,d;c;)c._start>=l&&(c._start+=s,c._end+=s),c=c._next;if(o)for(d in h)h[d]>=l&&(h[d]+=s);return ro(this)},e.invalidate=function(s){var o=this._first;for(this._lock=0;o;)o.invalidate(s),o=o._next;return a.prototype.invalidate.call(this,s)},e.clear=function(s){s===void 0&&(s=!0);for(var o=this._first,l;o;)l=o._next,this.remove(o),o=l;return this._dp&&(this._time=this._tTime=this._pTime=0),s&&(this.labels={}),ro(this)},e.totalDuration=function(s){var o=0,l=this,c=l._last,h=ns,d,p,g;if(arguments.length)return l.timeScale((l._repeat<0?l.duration():l.totalDuration())/(l.reversed()?-s:s));if(l._dirty){for(g=l.parent;c;)d=c._prev,c._dirty&&c.totalDuration(),p=c._start,p>h&&l._sort&&c._ts&&!l._lock?(l._lock=1,Bs(l,c,p-c._delay,1)._lock=0):h=p,p<0&&c._ts&&(o-=p,(!g&&!l._dp||g&&g.smoothChildTiming)&&(l._start+=p/l._ts,l._time-=p,l._tTime-=p),l.shiftChildren(-p,!1,-1/0),h=0),c._end>o&&c._ts&&(o=c._end),c=d;zl(l,l===Ye&&l._time>o?l._time:o,1,1),l._dirty=0}return l._tDur},t.updateRoot=function(s){if(Ye._ts&&(AA(Ye,Zd(s,Ye)),SA=Di.frame),Di.frame>=eS){eS+=Ni.autoSleep||120;var o=Ye._first;if((!o||!o._ts)&&Ni.autoSleep&&Di._listeners.length<2){for(;o&&!o._ts;)o=o._next;o||Di.sleep()}}},t})(vu);Bi(Qn.prototype,{_lock:0,_hasPause:0,_forcing:0});var ED=function(t,e,n,s,o,l,c){var h=new di(this._pt,t,e,0,1,ZA,null,o),d=0,p=0,g,v,m,w,_,S,x,T;for(h.b=n,h.e=s,n+="",s+="",(x=~s.indexOf("random("))&&(s=mu(s)),l&&(T=[n,s],l(T,t,e),n=T[0],s=T[1]),v=n.match(am)||[];g=am.exec(s);)w=g[0],_=s.substring(d,g.index),m?m=(m+1)%5:_.substr(-5)==="rgba("&&(m=1),w!==v[p++]&&(S=parseFloat(v[p-1])||0,h._pt={_next:h._pt,p:_||p===1?_:",",s:S,c:w.charAt(1)==="="?wl(S,w)-S:parseFloat(w)-S,m:m&&m<4?Math.round:0},d=am.lastIndex);return h.c=d<s.length?s.substring(d,s.length):"",h.fp=c,(yA.test(s)||x)&&(h.e=0),this._pt=h,h},nv=function(t,e,n,s,o,l,c,h,d,p){Ze(s)&&(s=s(o||0,t,l));var g=t[e],v=n!=="get"?n:Ze(g)?d?t[e.indexOf("set")||!Ze(t["get"+e.substr(3)])?e:"get"+e.substr(3)](d):t[e]():g,m=Ze(g)?d?DD:KA:sv,w;if(Mn(s)&&(~s.indexOf("random(")&&(s=mu(s)),s.charAt(1)==="="&&(w=wl(v,s)+(Vn(v)||0),(w||w===0)&&(s=w))),!p||v!==s||ny)return!isNaN(v*s)&&s!==""?(w=new di(this._pt,t,e,+v||0,s-(v||0),typeof g=="boolean"?kD:QA,0,m),d&&(w.fp=d),c&&w.modifier(c,this,t),this._pt=w):(!g&&!(e in t)&&Qy(e,s),ED.call(this,t,e,v,s,m,h||Ni.stringFilter,d))},TD=function(t,e,n,s,o){if(Ze(t)&&(t=lu(t,o,e,n,s)),!Hs(t)||t.style&&t.nodeType||Xn(t)||gA(t))return Mn(t)?lu(t,o,e,n,s):t;var l={},c;for(c in t)l[c]=lu(t[c],o,e,n,s);return l},qA=function(t,e,n,s,o,l){var c,h,d,p;if(Ci[t]&&(c=new Ci[t]).init(o,c.rawVars?e[t]:TD(e[t],s,o,l,n),n,s,l)!==!1&&(n._pt=h=new di(n._pt,o,t,0,1,c.render,c,0,c.priority),n!==vl))for(d=n._ptLookup[n._targets.indexOf(o)],p=c._props.length;p--;)d[c._props[p]]=h;return c},oa,ny,iv=function a(t,e,n){var s=t.vars,o=s.ease,l=s.startAt,c=s.immediateRender,h=s.lazy,d=s.onUpdate,p=s.runBackwards,g=s.yoyoEase,v=s.keyframes,m=s.autoRevert,w=t._dur,_=t._startAt,S=t._targets,x=t.parent,T=x&&x.data==="nested"?x.vars.targets:S,C=t._overwrite==="auto"&&!qy,D=t.timeline,R,P,O,L,F,X,G,rt,tt,W,$,k,z;if(D&&(!v||!o)&&(o="none"),t._ease=ao(o,Pl.ease),t._yEase=g?GA(ao(g===!0?o:g,Pl.ease)):0,g&&t._yoyo&&!t._repeat&&(g=t._yEase,t._yEase=t._ease,t._ease=g),t._from=!D&&!!s.runBackwards,!D||v&&!s.stagger){if(rt=S[0]?so(S[0]).harness:0,k=rt&&s[rt.prop],R=Qd(s,Zy),_&&(_._zTime<0&&_.progress(1),e<0&&p&&c&&!m?_.render(-1,!0):_.revert(p&&w?Id:tD),_._lazy=0),l){if(fa(t._startAt=pn.set(S,Bi({data:"isStart",overwrite:!1,parent:x,immediateRender:!0,lazy:!_&&ui(h),startAt:null,delay:0,onUpdate:d&&function(){return ki(t,"onUpdate")},stagger:0},l))),t._startAt._dp=0,t._startAt._sat=t,e<0&&(In||!c&&!m)&&t._startAt.revert(Id),c&&w&&e<=0&&n<=0){e&&(t._zTime=e);return}}else if(p&&w&&!_){if(e&&(c=!1),O=Bi({overwrite:!1,data:"isFromStart",lazy:c&&!_&&ui(h),immediateRender:c,stagger:0,parent:x},R),k&&(O[rt.prop]=k),fa(t._startAt=pn.set(S,O)),t._startAt._dp=0,t._startAt._sat=t,e<0&&(In?t._startAt.revert(Id):t._startAt.render(-1,!0)),t._zTime=e,!c)a(t._startAt,Re,Re);else if(!e)return}for(t._pt=t._ptCache=0,h=w&&ui(h)||h&&!w,P=0;P<S.length;P++){if(F=S[P],G=F._gsap||tv(S)[P]._gsap,t._ptLookup[P]=W={},Km[G.id]&&ha.length&&Kd(),$=T===S?P:T.indexOf(F),rt&&(tt=new rt).init(F,k||R,t,$,T)!==!1&&(t._pt=L=new di(t._pt,F,tt.name,0,1,tt.render,tt,0,tt.priority),tt._props.forEach(function(I){W[I]=L}),tt.priority&&(X=1)),!rt||k)for(O in R)Ci[O]&&(tt=qA(O,R,t,$,F,T))?tt.priority&&(X=1):W[O]=L=nv.call(t,F,O,"get",R[O],$,T,0,s.stringFilter);t._op&&t._op[P]&&t.kill(F,t._op[P]),C&&t._pt&&(oa=t,Ye.killTweensOf(F,W,t.globalTime(e)),z=!t.parent,oa=0),t._pt&&h&&(Km[G.id]=1)}X&&JA(t),t._onInit&&t._onInit(t)}t._onUpdate=d,t._initted=(!t._op||t._pt)&&!z,v&&e<=0&&D.render(ns,!0,!0)},CD=function(t,e,n,s,o,l,c,h){var d=(t._pt&&t._ptCache||(t._ptCache={}))[e],p,g,v,m;if(!d)for(d=t._ptCache[e]=[],v=t._ptLookup,m=t._targets.length;m--;){if(p=v[m][e],p&&p.d&&p.d._pt)for(p=p.d._pt;p&&p.p!==e&&p.fp!==e;)p=p._next;if(!p)return ny=1,t.vars[e]="+=0",iv(t,c),ny=0,h?pu(e+" not eligible for reset"):1;d.push(p)}for(m=d.length;m--;)g=d[m],p=g._pt||g,p.s=(s||s===0)&&!o?s:p.s+(s||0)+l*p.c,p.c=n-p.s,g.e&&(g.e=an(n)+Vn(g.e)),g.b&&(g.b=p.s+Vn(g.b))},MD=function(t,e){var n=t[0]?so(t[0]).harness:0,s=n&&n.aliases,o,l,c,h;if(!s)return e;o=Bl({},e);for(l in s)if(l in o)for(h=s[l].split(","),c=h.length;c--;)o[h[c]]=o[l];return o},RD=function(t,e,n,s){var o=e.ease||s||"power1.inOut",l,c;if(Xn(e))c=n[t]||(n[t]=[]),e.forEach(function(h,d){return c.push({t:d/(e.length-1)*100,v:h,e:o})});else for(l in e)c=n[l]||(n[l]=[]),l==="ease"||c.push({t:parseFloat(t),v:e[l],e:o})},lu=function(t,e,n,s,o){return Ze(t)?t.call(e,n,s,o):Mn(t)&&~t.indexOf("random(")?mu(t):t},$A=Jy+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",WA={};hi($A+",id,stagger,delay,duration,paused,scrollTrigger",function(a){return WA[a]=1});var pn=(function(a){fA(t,a);function t(n,s,o,l){var c;typeof s=="number"&&(o.duration=s,s=o,o=null),c=a.call(this,l?s:au(s))||this;var h=c.vars,d=h.duration,p=h.delay,g=h.immediateRender,v=h.stagger,m=h.overwrite,w=h.keyframes,_=h.defaults,S=h.scrollTrigger,x=h.yoyoEase,T=s.parent||Ye,C=(Xn(n)||gA(n)?Sr(n[0]):"length"in s)?[n]:is(n),D,R,P,O,L,F,X,G;if(c._targets=C.length?tv(C):pu("GSAP target "+n+" not found. https://gsap.com",!Ni.nullTargetWarn)||[],c._ptLookup=[],c._overwrite=m,w||v||pd(d)||pd(p)){if(s=c.vars,D=c.timeline=new Qn({data:"nested",defaults:_||{},targets:T&&T.data==="nested"?T.vars.targets:C}),D.kill(),D.parent=D._dp=gr(c),D._start=0,v||pd(d)||pd(p)){if(O=C.length,X=v&&NA(v),Hs(v))for(L in v)~$A.indexOf(L)&&(G||(G={}),G[L]=v[L]);for(R=0;R<O;R++)P=Qd(s,WA),P.stagger=0,x&&(P.yoyoEase=x),G&&Bl(P,G),F=C[R],P.duration=+lu(d,gr(c),R,F,C),P.delay=(+lu(p,gr(c),R,F,C)||0)-c._delay,!v&&O===1&&P.delay&&(c._delay=p=P.delay,c._start+=p,P.delay=0),D.to(F,P,X?X(R,F,C):0),D._ease=le.none;D.duration()?d=p=0:c.timeline=0}else if(w){au(Bi(D.vars.defaults,{ease:"none"})),D._ease=ao(w.ease||s.ease||"none");var rt=0,tt,W,$;if(Xn(w))w.forEach(function(k){return D.to(C,k,">")}),D.duration();else{P={};for(L in w)L==="ease"||L==="easeEach"||RD(L,w[L],P,w.easeEach);for(L in P)for(tt=P[L].sort(function(k,z){return k.t-z.t}),rt=0,R=0;R<tt.length;R++)W=tt[R],$={ease:W.e,duration:(W.t-(R?tt[R-1].t:0))/100*d},$[L]=W.v,D.to(C,$,rt),rt+=$.duration;D.duration()<d&&D.to({},{duration:d-D.duration()})}}d||c.duration(d=D.duration())}else c.timeline=0;return m===!0&&!qy&&(oa=gr(c),Ye.killTweensOf(C),oa=0),Bs(T,gr(c),o),s.reversed&&c.reverse(),s.paused&&c.paused(!0),(g||!d&&!w&&c._start===gn(T._time)&&ui(g)&&aD(gr(c))&&T.data!=="nested")&&(c._tTime=-Re,c.render(Math.max(0,-p)||0)),S&&RA(gr(c),S),c}var e=t.prototype;return e.render=function(s,o,l){var c=this._time,h=this._tDur,d=this._dur,p=s<0,g=s>h-Re&&!p?h:s<Re?0:s,v,m,w,_,S,x,T,C,D;if(!d)lD(this,s,o,l);else if(g!==this._tTime||!s||l||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==p||this._lazy){if(v=g,C=this.timeline,this._repeat){if(_=d+this._rDelay,this._repeat<-1&&p)return this.totalTime(_*100+s,o,l);if(v=gn(g%_),g===h?(w=this._repeat,v=d):(S=gn(g/_),w=~~S,w&&w===S?(v=d,w--):v>d&&(v=d)),x=this._yoyo&&w&1,x&&(D=this._yEase,v=d-v),S=Il(this._tTime,_),v===c&&!l&&this._initted&&w===S)return this._tTime=g,this;w!==S&&(C&&this._yEase&&VA(C,x),this.vars.repeatRefresh&&!x&&!this._lock&&v!==_&&this._initted&&(this._lock=l=1,this.render(gn(_*w),!0).invalidate()._lock=0))}if(!this._initted){if(DA(this,p?s:v,l,o,g))return this._tTime=0,this;if(c!==this._time&&!(l&&this.vars.repeatRefresh&&w!==S))return this;if(d!==this._dur)return this.render(s,o,l)}if(this._tTime=g,this._time=v,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=T=(D||this._ease)(v/d),this._from&&(this.ratio=T=1-T),!c&&g&&!o&&!S&&(ki(this,"onStart"),this._tTime!==g))return this;for(m=this._pt;m;)m.r(T,m.d),m=m._next;C&&C.render(s<0?s:C._dur*C._ease(v/this._dur),o,l)||this._startAt&&(this._zTime=s),this._onUpdate&&!o&&(p&&Qm(this,s,o,l),ki(this,"onUpdate")),this._repeat&&w!==S&&this.vars.onRepeat&&!o&&this.parent&&ki(this,"onRepeat"),(g===this._tDur||!g)&&this._tTime===g&&(p&&!this._onUpdate&&Qm(this,s,!0,!0),(s||!d)&&(g===this._tDur&&this._ts>0||!g&&this._ts<0)&&fa(this,1),!o&&!(p&&!c)&&(g||c||x)&&(ki(this,g===h?"onComplete":"onReverseComplete",!0),this._prom&&!(g<h&&this.timeScale()>0)&&this._prom()))}return this},e.targets=function(){return this._targets},e.invalidate=function(s){return(!s||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(s),a.prototype.invalidate.call(this,s)},e.resetTo=function(s,o,l,c,h){yu||Di.wake(),this._ts||this.play();var d=Math.min(this._dur,(this._dp._time-this._start)*this._ts),p;return this._initted||iv(this,d),p=this._ease(d/this._dur),CD(this,s,o,l,c,p,d,h)?this.resetTo(s,o,l,c,1):(Sf(this,0),this.parent||CA(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},e.kill=function(s,o){if(o===void 0&&(o="all"),!s&&(!o||o==="all"))return this._lazy=this._pt=0,this.parent?Kc(this):this.scrollTrigger&&this.scrollTrigger.kill(!!In),this;if(this.timeline){var l=this.timeline.totalDuration();return this.timeline.killTweensOf(s,o,oa&&oa.vars.overwrite!==!0)._first||Kc(this),this.parent&&l!==this.timeline.totalDuration()&&zl(this,this._dur*this.timeline._tDur/l,0,1),this}var c=this._targets,h=s?is(s):c,d=this._ptLookup,p=this._pt,g,v,m,w,_,S,x;if((!o||o==="all")&&sD(c,h))return o==="all"&&(this._pt=0),Kc(this);for(g=this._op=this._op||[],o!=="all"&&(Mn(o)&&(_={},hi(o,function(T){return _[T]=1}),o=_),o=MD(c,o)),x=c.length;x--;)if(~h.indexOf(c[x])){v=d[x],o==="all"?(g[x]=o,w=v,m={}):(m=g[x]=g[x]||{},w=o);for(_ in w)S=v&&v[_],S&&((!("kill"in S.d)||S.d.kill(_)===!0)&&_f(this,S,"_pt"),delete v[_]),m!=="all"&&(m[_]=1)}return this._initted&&!this._pt&&p&&Kc(this),this},t.to=function(s,o){return new t(s,o,arguments[2])},t.from=function(s,o){return ou(1,arguments)},t.delayedCall=function(s,o,l,c){return new t(o,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:s,onComplete:o,onReverseComplete:o,onCompleteParams:l,onReverseCompleteParams:l,callbackScope:c})},t.fromTo=function(s,o,l){return ou(2,arguments)},t.set=function(s,o){return o.duration=0,o.repeatDelay||(o.repeat=0),new t(s,o)},t.killTweensOf=function(s,o,l){return Ye.killTweensOf(s,o,l)},t})(vu);Bi(pn.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});hi("staggerTo,staggerFrom,staggerFromTo",function(a){pn[a]=function(){var t=new Qn,e=Jm.call(arguments,0);return e.splice(a==="staggerFromTo"?5:4,0,0),t[a].apply(t,e)}});var sv=function(t,e,n){return t[e]=n},KA=function(t,e,n){return t[e](n)},DD=function(t,e,n,s){return t[e](s.fp,n)},OD=function(t,e,n){return t.setAttribute(e,n)},rv=function(t,e){return Ze(t[e])?KA:$y(t[e])&&t.setAttribute?OD:sv},QA=function(t,e){return e.set(e.t,e.p,Math.round((e.s+e.c*t)*1e6)/1e6,e)},kD=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},ZA=function(t,e){var n=e._pt,s="";if(!t&&e.b)s=e.b;else if(t===1&&e.e)s=e.e;else{for(;n;)s=n.p+(n.m?n.m(n.s+n.c*t):Math.round((n.s+n.c*t)*1e4)/1e4)+s,n=n._next;s+=e.c}e.set(e.t,e.p,s,e)},av=function(t,e){for(var n=e._pt;n;)n.r(t,n.d),n=n._next},ND=function(t,e,n,s){for(var o=this._pt,l;o;)l=o._next,o.p===s&&o.modifier(t,e,n),o=l},LD=function(t){for(var e=this._pt,n,s;e;)s=e._next,e.p===t&&!e.op||e.op===t?_f(this,e,"_pt"):e.dep||(n=1),e=s;return!n},PD=function(t,e,n,s){s.mSet(t,e,s.m.call(s.tween,n,s.mt),s)},JA=function(t){for(var e=t._pt,n,s,o,l;e;){for(n=e._next,s=o;s&&s.pr>e.pr;)s=s._next;(e._prev=s?s._prev:l)?e._prev._next=e:o=e,(e._next=s)?s._prev=e:l=e,e=n}t._pt=o},di=(function(){function a(e,n,s,o,l,c,h,d,p){this.t=n,this.s=o,this.c=l,this.p=s,this.r=c||QA,this.d=h||this,this.set=d||sv,this.pr=p||0,this._next=e,e&&(e._prev=this)}var t=a.prototype;return t.modifier=function(n,s,o){this.mSet=this.mSet||this.set,this.set=PD,this.m=n,this.mt=o,this.tween=s},a})();hi(Jy+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(a){return Zy[a]=1});Pi.TweenMax=Pi.TweenLite=pn;Pi.TimelineLite=Pi.TimelineMax=Qn;Ye=new Qn({sortChildren:!1,defaults:Pl,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Ni.stringFilter=HA;var oo=[],Fd={},BD=[],oS=0,ID=0,hm=function(t){return(Fd[t]||BD).map(function(e){return e()})},iy=function(){var t=Date.now(),e=[];t-oS>2&&(hm("matchMediaInit"),oo.forEach(function(n){var s=n.queries,o=n.conditions,l,c,h,d;for(c in s)l=Ns.matchMedia(s[c]).matches,l&&(h=1),l!==o[c]&&(o[c]=l,d=1);d&&(n.revert(),h&&e.push(n))}),hm("matchMediaRevert"),e.forEach(function(n){return n.onMatch(n,function(s){return n.add(null,s)})}),oS=t,hm("matchMedia"))},t1=(function(){function a(e,n){this.selector=n&&ty(n),this.data=[],this._r=[],this.isReverted=!1,this.id=ID++,e&&this.add(e)}var t=a.prototype;return t.add=function(n,s,o){Ze(n)&&(o=s,s=n,n=Ze);var l=this,c=function(){var d=He,p=l.selector,g;return d&&d!==l&&d.data.push(l),o&&(l.selector=ty(o)),He=l,g=s.apply(l,arguments),Ze(g)&&l._r.push(g),He=d,l.selector=p,l.isReverted=!1,g};return l.last=c,n===Ze?c(l,function(h){return l.add(null,h)}):n?l[n]=c:c},t.ignore=function(n){var s=He;He=null,n(this),He=s},t.getTweens=function(){var n=[];return this.data.forEach(function(s){return s instanceof a?n.push.apply(n,s.getTweens()):s instanceof pn&&!(s.parent&&s.parent.data==="nested")&&n.push(s)}),n},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(n,s){var o=this;if(n?(function(){for(var c=o.getTweens(),h=o.data.length,d;h--;)d=o.data[h],d.data==="isFlip"&&(d.revert(),d.getChildren(!0,!0,!1).forEach(function(p){return c.splice(c.indexOf(p),1)}));for(c.map(function(p){return{g:p._dur||p._delay||p._sat&&!p._sat.vars.immediateRender?p.globalTime(0):-1/0,t:p}}).sort(function(p,g){return g.g-p.g||-1/0}).forEach(function(p){return p.t.revert(n)}),h=o.data.length;h--;)d=o.data[h],d instanceof Qn?d.data!=="nested"&&(d.scrollTrigger&&d.scrollTrigger.revert(),d.kill()):!(d instanceof pn)&&d.revert&&d.revert(n);o._r.forEach(function(p){return p(n,o)}),o.isReverted=!0})():this.data.forEach(function(c){return c.kill&&c.kill()}),this.clear(),s)for(var l=oo.length;l--;)oo[l].id===this.id&&oo.splice(l,1)},t.revert=function(n){this.kill(n||{})},a})(),zD=(function(){function a(e){this.contexts=[],this.scope=e,He&&He.data.push(this)}var t=a.prototype;return t.add=function(n,s,o){Hs(n)||(n={matches:n});var l=new t1(0,o||this.scope),c=l.conditions={},h,d,p;He&&!l.selector&&(l.selector=He.selector),this.contexts.push(l),s=l.add("onMatch",s),l.queries=n;for(d in n)d==="all"?p=1:(h=Ns.matchMedia(n[d]),h&&(oo.indexOf(l)<0&&oo.push(l),(c[d]=h.matches)&&(p=1),h.addListener?h.addListener(iy):h.addEventListener("change",iy)));return p&&s(l,function(g){return l.add(null,g)}),this},t.revert=function(n){this.kill(n||{})},t.kill=function(n){this.contexts.forEach(function(s){return s.kill(n,!0)})},a})(),Jd={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach(function(s){return FA(s)})},timeline:function(t){return new Qn(t)},getTweensOf:function(t,e){return Ye.getTweensOf(t,e)},getProperty:function(t,e,n,s){Mn(t)&&(t=is(t)[0]);var o=so(t||{}).get,l=n?TA:EA;return n==="native"&&(n=""),t&&(e?l((Ci[e]&&Ci[e].get||o)(t,e,n,s)):function(c,h,d){return l((Ci[c]&&Ci[c].get||o)(t,c,h,d))})},quickSetter:function(t,e,n){if(t=is(t),t.length>1){var s=t.map(function(p){return pi.quickSetter(p,e,n)}),o=s.length;return function(p){for(var g=o;g--;)s[g](p)}}t=t[0]||{};var l=Ci[e],c=so(t),h=c.harness&&(c.harness.aliases||{})[e]||e,d=l?function(p){var g=new l;vl._pt=0,g.init(t,n?p+n:p,vl,0,[t]),g.render(1,g),vl._pt&&av(1,vl)}:c.set(t,h);return l?d:function(p){return d(t,h,n?p+n:p,c,1)}},quickTo:function(t,e,n){var s,o=pi.to(t,Bi((s={},s[e]="+=0.1",s.paused=!0,s.stagger=0,s),n||{})),l=function(h,d,p){return o.resetTo(e,h,d,p)};return l.tween=o,l},isTweening:function(t){return Ye.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=ao(t.ease,Pl.ease)),nS(Pl,t||{})},config:function(t){return nS(Ni,t||{})},registerEffect:function(t){var e=t.name,n=t.effect,s=t.plugins,o=t.defaults,l=t.extendTimeline;(s||"").split(",").forEach(function(c){return c&&!Ci[c]&&!Pi[c]&&pu(e+" effect requires "+c+" plugin.")}),om[e]=function(c,h,d){return n(is(c),Bi(h||{},o),d)},l&&(Qn.prototype[e]=function(c,h,d){return this.add(om[e](c,Hs(h)?h:(d=h)&&{},this),d)})},registerEase:function(t,e){le[t]=ao(e)},parseEase:function(t,e){return arguments.length?ao(t,e):le},getById:function(t){return Ye.getById(t)},exportRoot:function(t,e){t===void 0&&(t={});var n=new Qn(t),s,o;for(n.smoothChildTiming=ui(t.smoothChildTiming),Ye.remove(n),n._dp=0,n._time=n._tTime=Ye._time,s=Ye._first;s;)o=s._next,(e||!(!s._dur&&s instanceof pn&&s.vars.onComplete===s._targets[0]))&&Bs(n,s,s._start-s._delay),s=o;return Bs(Ye,n,0),n},context:function(t,e){return t?new t1(t,e):He},matchMedia:function(t){return new zD(t)},matchMediaRefresh:function(){return oo.forEach(function(t){var e=t.conditions,n,s;for(s in e)e[s]&&(e[s]=!1,n=1);n&&t.revert()})||iy()},addEventListener:function(t,e){var n=Fd[t]||(Fd[t]=[]);~n.indexOf(e)||n.push(e)},removeEventListener:function(t,e){var n=Fd[t],s=n&&n.indexOf(e);s>=0&&n.splice(s,1)},utils:{wrap:mD,wrapYoyo:yD,distribute:NA,random:PA,snap:LA,normalize:gD,getUnit:Vn,clamp:hD,splitColor:jA,toArray:is,selector:ty,mapRange:IA,pipe:fD,unitize:pD,interpolate:vD,shuffle:kA},install:_A,effects:om,ticker:Di,updateRoot:Qn.updateRoot,plugins:Ci,globalTimeline:Ye,core:{PropTween:di,globals:wA,Tween:pn,Timeline:Qn,Animation:vu,getCache:so,_removeLinkedListItem:_f,reverting:function(){return In},context:function(t){return t&&He&&(He.data.push(t),t._ctx=He),He},suppressOverwrites:function(t){return qy=t}}};hi("to,from,fromTo,delayedCall,set,killTweensOf",function(a){return Jd[a]=pn[a]});Di.add(Qn.updateRoot);vl=Jd.to({},{duration:0});var FD=function(t,e){for(var n=t._pt;n&&n.p!==e&&n.op!==e&&n.fp!==e;)n=n._next;return n},jD=function(t,e){var n=t._targets,s,o,l;for(s in e)for(o=n.length;o--;)l=t._ptLookup[o][s],l&&(l=l.d)&&(l._pt&&(l=FD(l,s)),l&&l.modifier&&l.modifier(e[s],t,n[o],s))},dm=function(t,e){return{name:t,headless:1,rawVars:1,init:function(s,o,l){l._onInit=function(c){var h,d;if(Mn(o)&&(h={},hi(o,function(p){return h[p]=1}),o=h),e){h={};for(d in o)h[d]=e(o[d]);o=h}jD(c,o)}}}},pi=Jd.registerPlugin({name:"attr",init:function(t,e,n,s,o){var l,c,h;this.tween=n;for(l in e)h=t.getAttribute(l)||"",c=this.add(t,"setAttribute",(h||0)+"",e[l],s,o,0,0,l),c.op=l,c.b=h,this._props.push(l)},render:function(t,e){for(var n=e._pt;n;)In?n.set(n.t,n.p,n.b,n):n.r(t,n.d),n=n._next}},{name:"endArray",headless:1,init:function(t,e){for(var n=e.length;n--;)this.add(t,n,t[n]||0,e[n],0,0,0,0,0,1)}},dm("roundProps",ey),dm("modifiers"),dm("snap",LA))||Jd;pn.version=Qn.version=pi.version="3.13.0";bA=1;Wy()&&Fl();le.Power0;le.Power1;le.Power2;le.Power3;le.Power4;le.Linear;le.Quad;le.Cubic;le.Quart;le.Quint;le.Strong;le.Elastic;le.Back;le.SteppedEase;le.Bounce;le.Sine;le.Expo;le.Circ;var lS,la,Sl,ov,Ja,cS,lv,UD=function(){return typeof window<"u"},xr={},Wa=180/Math.PI,xl=Math.PI/180,al=Math.atan2,uS=1e8,cv=/([A-Z])/g,HD=/(left|right|width|margin|padding|x)/i,GD=/[\s,\(]\S/,Fs={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},sy=function(t,e){return e.set(e.t,e.p,Math.round((e.s+e.c*t)*1e4)/1e4+e.u,e)},VD=function(t,e){return e.set(e.t,e.p,t===1?e.e:Math.round((e.s+e.c*t)*1e4)/1e4+e.u,e)},YD=function(t,e){return e.set(e.t,e.p,t?Math.round((e.s+e.c*t)*1e4)/1e4+e.u:e.b,e)},XD=function(t,e){var n=e.s+e.c*t;e.set(e.t,e.p,~~(n+(n<0?-.5:.5))+e.u,e)},e1=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},n1=function(t,e){return e.set(e.t,e.p,t!==1?e.b:e.e,e)},qD=function(t,e,n){return t.style[e]=n},$D=function(t,e,n){return t.style.setProperty(e,n)},WD=function(t,e,n){return t._gsap[e]=n},KD=function(t,e,n){return t._gsap.scaleX=t._gsap.scaleY=n},QD=function(t,e,n,s,o){var l=t._gsap;l.scaleX=l.scaleY=n,l.renderTransform(o,l)},ZD=function(t,e,n,s,o){var l=t._gsap;l[e]=n,l.renderTransform(o,l)},qe="transform",fi=qe+"Origin",JD=function a(t,e){var n=this,s=this.target,o=s.style,l=s._gsap;if(t in xr&&o){if(this.tfm=this.tfm||{},t!=="transform")t=Fs[t]||t,~t.indexOf(",")?t.split(",").forEach(function(c){return n.tfm[c]=mr(s,c)}):this.tfm[t]=l.x?l[t]:mr(s,t),t===fi&&(this.tfm.zOrigin=l.zOrigin);else return Fs.transform.split(",").forEach(function(c){return a.call(n,c,e)});if(this.props.indexOf(qe)>=0)return;l.svg&&(this.svgo=s.getAttribute("data-svg-origin"),this.props.push(fi,e,"")),t=qe}(o||e)&&this.props.push(t,e,o[t])},i1=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},t2=function(){var t=this.props,e=this.target,n=e.style,s=e._gsap,o,l;for(o=0;o<t.length;o+=3)t[o+1]?t[o+1]===2?e[t[o]](t[o+2]):e[t[o]]=t[o+2]:t[o+2]?n[t[o]]=t[o+2]:n.removeProperty(t[o].substr(0,2)==="--"?t[o]:t[o].replace(cv,"-$1").toLowerCase());if(this.tfm){for(l in this.tfm)s[l]=this.tfm[l];s.svg&&(s.renderTransform(),e.setAttribute("data-svg-origin",this.svgo||"")),o=lv(),(!o||!o.isStart)&&!n[qe]&&(i1(n),s.zOrigin&&n[fi]&&(n[fi]+=" "+s.zOrigin+"px",s.zOrigin=0,s.renderTransform()),s.uncache=1)}},s1=function(t,e){var n={target:t,props:[],revert:t2,save:JD};return t._gsap||pi.core.getCache(t),e&&t.style&&t.nodeType&&e.split(",").forEach(function(s){return n.save(s)}),n},r1,ry=function(t,e){var n=la.createElementNS?la.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):la.createElement(t);return n&&n.style?n:la.createElement(t)},ss=function a(t,e,n){var s=getComputedStyle(t);return s[e]||s.getPropertyValue(e.replace(cv,"-$1").toLowerCase())||s.getPropertyValue(e)||!n&&a(t,jl(e)||e,1)||""},hS="O,Moz,ms,Ms,Webkit".split(","),jl=function(t,e,n){var s=e||Ja,o=s.style,l=5;if(t in o&&!n)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);l--&&!(hS[l]+t in o););return l<0?null:(l===3?"ms":l>=0?hS[l]:"")+t},ay=function(){UD()&&window.document&&(lS=window,la=lS.document,Sl=la.documentElement,Ja=ry("div")||{style:{}},ry("div"),qe=jl(qe),fi=qe+"Origin",Ja.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",r1=!!jl("perspective"),lv=pi.core.reverting,ov=1)},dS=function(t){var e=t.ownerSVGElement,n=ry("svg",e&&e.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),s=t.cloneNode(!0),o;s.style.display="block",n.appendChild(s),Sl.appendChild(n);try{o=s.getBBox()}catch{}return n.removeChild(s),Sl.removeChild(n),o},fS=function(t,e){for(var n=e.length;n--;)if(t.hasAttribute(e[n]))return t.getAttribute(e[n])},a1=function(t){var e,n;try{e=t.getBBox()}catch{e=dS(t),n=1}return e&&(e.width||e.height)||n||(e=dS(t)),e&&!e.width&&!e.x&&!e.y?{x:+fS(t,["x","cx","x1"])||0,y:+fS(t,["y","cy","y1"])||0,width:0,height:0}:e},o1=function(t){return!!(t.getCTM&&(!t.parentNode||t.ownerSVGElement)&&a1(t))},uo=function(t,e){if(e){var n=t.style,s;e in xr&&e!==fi&&(e=qe),n.removeProperty?(s=e.substr(0,2),(s==="ms"||e.substr(0,6)==="webkit")&&(e="-"+e),n.removeProperty(s==="--"?e:e.replace(cv,"-$1").toLowerCase())):n.removeAttribute(e)}},ca=function(t,e,n,s,o,l){var c=new di(t._pt,e,n,0,1,l?n1:e1);return t._pt=c,c.b=s,c.e=o,t._props.push(n),c},pS={deg:1,rad:1,turn:1},e2={grid:1,flex:1},pa=function a(t,e,n,s){var o=parseFloat(n)||0,l=(n+"").trim().substr((o+"").length)||"px",c=Ja.style,h=HD.test(e),d=t.tagName.toLowerCase()==="svg",p=(d?"client":"offset")+(h?"Width":"Height"),g=100,v=s==="px",m=s==="%",w,_,S,x;if(s===l||!o||pS[s]||pS[l])return o;if(l!=="px"&&!v&&(o=a(t,e,n,"px")),x=t.getCTM&&o1(t),(m||l==="%")&&(xr[e]||~e.indexOf("adius")))return w=x?t.getBBox()[h?"width":"height"]:t[p],an(m?o/w*g:o/100*w);if(c[h?"width":"height"]=g+(v?l:s),_=s!=="rem"&&~e.indexOf("adius")||s==="em"&&t.appendChild&&!d?t:t.parentNode,x&&(_=(t.ownerSVGElement||{}).parentNode),(!_||_===la||!_.appendChild)&&(_=la.body),S=_._gsap,S&&m&&S.width&&h&&S.time===Di.time&&!S.uncache)return an(o/S.width*g);if(m&&(e==="height"||e==="width")){var T=t.style[e];t.style[e]=g+s,w=t[p],T?t.style[e]=T:uo(t,e)}else(m||l==="%")&&!e2[ss(_,"display")]&&(c.position=ss(t,"position")),_===t&&(c.position="static"),_.appendChild(Ja),w=Ja[p],_.removeChild(Ja),c.position="absolute";return h&&m&&(S=so(_),S.time=Di.time,S.width=_[p]),an(v?w*o/g:w&&o?g/w*o:0)},mr=function(t,e,n,s){var o;return ov||ay(),e in Fs&&e!=="transform"&&(e=Fs[e],~e.indexOf(",")&&(e=e.split(",")[0])),xr[e]&&e!=="transform"?(o=_u(t,s),o=e!=="transformOrigin"?o[e]:o.svg?o.origin:ef(ss(t,fi))+" "+o.zOrigin+"px"):(o=t.style[e],(!o||o==="auto"||s||~(o+"").indexOf("calc("))&&(o=tf[e]&&tf[e](t,e,n)||ss(t,e)||xA(t,e)||(e==="opacity"?1:0))),n&&!~(o+"").trim().indexOf(" ")?pa(t,e,o,n)+n:o},n2=function(t,e,n,s){if(!n||n==="none"){var o=jl(e,t,1),l=o&&ss(t,o,1);l&&l!==n?(e=o,n=l):e==="borderColor"&&(n=ss(t,"borderTopColor"))}var c=new di(this._pt,t.style,e,0,1,ZA),h=0,d=0,p,g,v,m,w,_,S,x,T,C,D,R;if(c.b=n,c.e=s,n+="",s+="",s.substring(0,6)==="var(--"&&(s=ss(t,s.substring(4,s.indexOf(")")))),s==="auto"&&(_=t.style[e],t.style[e]=s,s=ss(t,e)||s,_?t.style[e]=_:uo(t,e)),p=[n,s],HA(p),n=p[0],s=p[1],v=n.match(yl)||[],R=s.match(yl)||[],R.length){for(;g=yl.exec(s);)S=g[0],T=s.substring(h,g.index),w?w=(w+1)%5:(T.substr(-5)==="rgba("||T.substr(-5)==="hsla(")&&(w=1),S!==(_=v[d++]||"")&&(m=parseFloat(_)||0,D=_.substr((m+"").length),S.charAt(1)==="="&&(S=wl(m,S)+D),x=parseFloat(S),C=S.substr((x+"").length),h=yl.lastIndex-C.length,C||(C=C||Ni.units[e]||D,h===s.length&&(s+=C,c.e+=C)),D!==C&&(m=pa(t,e,_,C)||0),c._pt={_next:c._pt,p:T||d===1?T:",",s:m,c:x-m,m:w&&w<4||e==="zIndex"?Math.round:0});c.c=h<s.length?s.substring(h,s.length):""}else c.r=e==="display"&&s==="none"?n1:e1;return yA.test(s)&&(c.e=0),this._pt=c,c},gS={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},i2=function(t){var e=t.split(" "),n=e[0],s=e[1]||"50%";return(n==="top"||n==="bottom"||s==="left"||s==="right")&&(t=n,n=s,s=t),e[0]=gS[n]||n,e[1]=gS[s]||s,e.join(" ")},s2=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var n=e.t,s=n.style,o=e.u,l=n._gsap,c,h,d;if(o==="all"||o===!0)s.cssText="",h=1;else for(o=o.split(","),d=o.length;--d>-1;)c=o[d],xr[c]&&(h=1,c=c==="transformOrigin"?fi:qe),uo(n,c);h&&(uo(n,qe),l&&(l.svg&&n.removeAttribute("transform"),s.scale=s.rotate=s.translate="none",_u(n,1),l.uncache=1,i1(s)))}},tf={clearProps:function(t,e,n,s,o){if(o.data!=="isFromStart"){var l=t._pt=new di(t._pt,e,n,0,0,s2);return l.u=s,l.pr=-10,l.tween=o,t._props.push(n),1}}},bu=[1,0,0,1,0,0],l1={},c1=function(t){return t==="matrix(1, 0, 0, 1, 0, 0)"||t==="none"||!t},mS=function(t){var e=ss(t,qe);return c1(e)?bu:e.substr(7).match(mA).map(an)},uv=function(t,e){var n=t._gsap||so(t),s=t.style,o=mS(t),l,c,h,d;return n.svg&&t.getAttribute("transform")?(h=t.transform.baseVal.consolidate().matrix,o=[h.a,h.b,h.c,h.d,h.e,h.f],o.join(",")==="1,0,0,1,0,0"?bu:o):(o===bu&&!t.offsetParent&&t!==Sl&&!n.svg&&(h=s.display,s.display="block",l=t.parentNode,(!l||!t.offsetParent&&!t.getBoundingClientRect().width)&&(d=1,c=t.nextElementSibling,Sl.appendChild(t)),o=mS(t),h?s.display=h:uo(t,"display"),d&&(c?l.insertBefore(t,c):l?l.appendChild(t):Sl.removeChild(t))),e&&o.length>6?[o[0],o[1],o[4],o[5],o[12],o[13]]:o)},oy=function(t,e,n,s,o,l){var c=t._gsap,h=o||uv(t,!0),d=c.xOrigin||0,p=c.yOrigin||0,g=c.xOffset||0,v=c.yOffset||0,m=h[0],w=h[1],_=h[2],S=h[3],x=h[4],T=h[5],C=e.split(" "),D=parseFloat(C[0])||0,R=parseFloat(C[1])||0,P,O,L,F;n?h!==bu&&(O=m*S-w*_)&&(L=D*(S/O)+R*(-_/O)+(_*T-S*x)/O,F=D*(-w/O)+R*(m/O)-(m*T-w*x)/O,D=L,R=F):(P=a1(t),D=P.x+(~C[0].indexOf("%")?D/100*P.width:D),R=P.y+(~(C[1]||C[0]).indexOf("%")?R/100*P.height:R)),s||s!==!1&&c.smooth?(x=D-d,T=R-p,c.xOffset=g+(x*m+T*_)-x,c.yOffset=v+(x*w+T*S)-T):c.xOffset=c.yOffset=0,c.xOrigin=D,c.yOrigin=R,c.smooth=!!s,c.origin=e,c.originIsAbsolute=!!n,t.style[fi]="0px 0px",l&&(ca(l,c,"xOrigin",d,D),ca(l,c,"yOrigin",p,R),ca(l,c,"xOffset",g,c.xOffset),ca(l,c,"yOffset",v,c.yOffset)),t.setAttribute("data-svg-origin",D+" "+R)},_u=function(t,e){var n=t._gsap||new XA(t);if("x"in n&&!e&&!n.uncache)return n;var s=t.style,o=n.scaleX<0,l="px",c="deg",h=getComputedStyle(t),d=ss(t,fi)||"0",p,g,v,m,w,_,S,x,T,C,D,R,P,O,L,F,X,G,rt,tt,W,$,k,z,I,Q,ot,B,j,K,nt,pt;return p=g=v=_=S=x=T=C=D=0,m=w=1,n.svg=!!(t.getCTM&&o1(t)),h.translate&&((h.translate!=="none"||h.scale!=="none"||h.rotate!=="none")&&(s[qe]=(h.translate!=="none"?"translate3d("+(h.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(h.rotate!=="none"?"rotate("+h.rotate+") ":"")+(h.scale!=="none"?"scale("+h.scale.split(" ").join(",")+") ":"")+(h[qe]!=="none"?h[qe]:"")),s.scale=s.rotate=s.translate="none"),O=uv(t,n.svg),n.svg&&(n.uncache?(I=t.getBBox(),d=n.xOrigin-I.x+"px "+(n.yOrigin-I.y)+"px",z=""):z=!e&&t.getAttribute("data-svg-origin"),oy(t,z||d,!!z||n.originIsAbsolute,n.smooth!==!1,O)),R=n.xOrigin||0,P=n.yOrigin||0,O!==bu&&(G=O[0],rt=O[1],tt=O[2],W=O[3],p=$=O[4],g=k=O[5],O.length===6?(m=Math.sqrt(G*G+rt*rt),w=Math.sqrt(W*W+tt*tt),_=G||rt?al(rt,G)*Wa:0,T=tt||W?al(tt,W)*Wa+_:0,T&&(w*=Math.abs(Math.cos(T*xl))),n.svg&&(p-=R-(R*G+P*tt),g-=P-(R*rt+P*W))):(pt=O[6],K=O[7],ot=O[8],B=O[9],j=O[10],nt=O[11],p=O[12],g=O[13],v=O[14],L=al(pt,j),S=L*Wa,L&&(F=Math.cos(-L),X=Math.sin(-L),z=$*F+ot*X,I=k*F+B*X,Q=pt*F+j*X,ot=$*-X+ot*F,B=k*-X+B*F,j=pt*-X+j*F,nt=K*-X+nt*F,$=z,k=I,pt=Q),L=al(-tt,j),x=L*Wa,L&&(F=Math.cos(-L),X=Math.sin(-L),z=G*F-ot*X,I=rt*F-B*X,Q=tt*F-j*X,nt=W*X+nt*F,G=z,rt=I,tt=Q),L=al(rt,G),_=L*Wa,L&&(F=Math.cos(L),X=Math.sin(L),z=G*F+rt*X,I=$*F+k*X,rt=rt*F-G*X,k=k*F-$*X,G=z,$=I),S&&Math.abs(S)+Math.abs(_)>359.9&&(S=_=0,x=180-x),m=an(Math.sqrt(G*G+rt*rt+tt*tt)),w=an(Math.sqrt(k*k+pt*pt)),L=al($,k),T=Math.abs(L)>2e-4?L*Wa:0,D=nt?1/(nt<0?-nt:nt):0),n.svg&&(z=t.getAttribute("transform"),n.forceCSS=t.setAttribute("transform","")||!c1(ss(t,qe)),z&&t.setAttribute("transform",z))),Math.abs(T)>90&&Math.abs(T)<270&&(o?(m*=-1,T+=_<=0?180:-180,_+=_<=0?180:-180):(w*=-1,T+=T<=0?180:-180)),e=e||n.uncache,n.x=p-((n.xPercent=p&&(!e&&n.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-p)?-50:0)))?t.offsetWidth*n.xPercent/100:0)+l,n.y=g-((n.yPercent=g&&(!e&&n.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-g)?-50:0)))?t.offsetHeight*n.yPercent/100:0)+l,n.z=v+l,n.scaleX=an(m),n.scaleY=an(w),n.rotation=an(_)+c,n.rotationX=an(S)+c,n.rotationY=an(x)+c,n.skewX=T+c,n.skewY=C+c,n.transformPerspective=D+l,(n.zOrigin=parseFloat(d.split(" ")[2])||!e&&n.zOrigin||0)&&(s[fi]=ef(d)),n.xOffset=n.yOffset=0,n.force3D=Ni.force3D,n.renderTransform=n.svg?a2:r1?u1:r2,n.uncache=0,n},ef=function(t){return(t=t.split(" "))[0]+" "+t[1]},fm=function(t,e,n){var s=Vn(e);return an(parseFloat(e)+parseFloat(pa(t,"x",n+"px",s)))+s},r2=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,u1(t,e)},Ga="0deg",Gc="0px",Va=") ",u1=function(t,e){var n=e||this,s=n.xPercent,o=n.yPercent,l=n.x,c=n.y,h=n.z,d=n.rotation,p=n.rotationY,g=n.rotationX,v=n.skewX,m=n.skewY,w=n.scaleX,_=n.scaleY,S=n.transformPerspective,x=n.force3D,T=n.target,C=n.zOrigin,D="",R=x==="auto"&&t&&t!==1||x===!0;if(C&&(g!==Ga||p!==Ga)){var P=parseFloat(p)*xl,O=Math.sin(P),L=Math.cos(P),F;P=parseFloat(g)*xl,F=Math.cos(P),l=fm(T,l,O*F*-C),c=fm(T,c,-Math.sin(P)*-C),h=fm(T,h,L*F*-C+C)}S!==Gc&&(D+="perspective("+S+Va),(s||o)&&(D+="translate("+s+"%, "+o+"%) "),(R||l!==Gc||c!==Gc||h!==Gc)&&(D+=h!==Gc||R?"translate3d("+l+", "+c+", "+h+") ":"translate("+l+", "+c+Va),d!==Ga&&(D+="rotate("+d+Va),p!==Ga&&(D+="rotateY("+p+Va),g!==Ga&&(D+="rotateX("+g+Va),(v!==Ga||m!==Ga)&&(D+="skew("+v+", "+m+Va),(w!==1||_!==1)&&(D+="scale("+w+", "+_+Va),T.style[qe]=D||"translate(0, 0)"},a2=function(t,e){var n=e||this,s=n.xPercent,o=n.yPercent,l=n.x,c=n.y,h=n.rotation,d=n.skewX,p=n.skewY,g=n.scaleX,v=n.scaleY,m=n.target,w=n.xOrigin,_=n.yOrigin,S=n.xOffset,x=n.yOffset,T=n.forceCSS,C=parseFloat(l),D=parseFloat(c),R,P,O,L,F;h=parseFloat(h),d=parseFloat(d),p=parseFloat(p),p&&(p=parseFloat(p),d+=p,h+=p),h||d?(h*=xl,d*=xl,R=Math.cos(h)*g,P=Math.sin(h)*g,O=Math.sin(h-d)*-v,L=Math.cos(h-d)*v,d&&(p*=xl,F=Math.tan(d-p),F=Math.sqrt(1+F*F),O*=F,L*=F,p&&(F=Math.tan(p),F=Math.sqrt(1+F*F),R*=F,P*=F)),R=an(R),P=an(P),O=an(O),L=an(L)):(R=g,L=v,P=O=0),(C&&!~(l+"").indexOf("px")||D&&!~(c+"").indexOf("px"))&&(C=pa(m,"x",l,"px"),D=pa(m,"y",c,"px")),(w||_||S||x)&&(C=an(C+w-(w*R+_*O)+S),D=an(D+_-(w*P+_*L)+x)),(s||o)&&(F=m.getBBox(),C=an(C+s/100*F.width),D=an(D+o/100*F.height)),F="matrix("+R+","+P+","+O+","+L+","+C+","+D+")",m.setAttribute("transform",F),T&&(m.style[qe]=F)},o2=function(t,e,n,s,o){var l=360,c=Mn(o),h=parseFloat(o)*(c&&~o.indexOf("rad")?Wa:1),d=h-s,p=s+d+"deg",g,v;return c&&(g=o.split("_")[1],g==="short"&&(d%=l,d!==d%(l/2)&&(d+=d<0?l:-l)),g==="cw"&&d<0?d=(d+l*uS)%l-~~(d/l)*l:g==="ccw"&&d>0&&(d=(d-l*uS)%l-~~(d/l)*l)),t._pt=v=new di(t._pt,e,n,s,d,VD),v.e=p,v.u="deg",t._props.push(n),v},yS=function(t,e){for(var n in e)t[n]=e[n];return t},l2=function(t,e,n){var s=yS({},n._gsap),o="perspective,force3D,transformOrigin,svgOrigin",l=n.style,c,h,d,p,g,v,m,w;s.svg?(d=n.getAttribute("transform"),n.setAttribute("transform",""),l[qe]=e,c=_u(n,1),uo(n,qe),n.setAttribute("transform",d)):(d=getComputedStyle(n)[qe],l[qe]=e,c=_u(n,1),l[qe]=d);for(h in xr)d=s[h],p=c[h],d!==p&&o.indexOf(h)<0&&(m=Vn(d),w=Vn(p),g=m!==w?pa(n,h,d,w):parseFloat(d),v=parseFloat(p),t._pt=new di(t._pt,c,h,g,v-g,sy),t._pt.u=w||0,t._props.push(h));yS(c,s)};hi("padding,margin,Width,Radius",function(a,t){var e="Top",n="Right",s="Bottom",o="Left",l=(t<3?[e,n,s,o]:[e+o,e+n,s+n,s+o]).map(function(c){return t<2?a+c:"border"+c+a});tf[t>1?"border"+a:a]=function(c,h,d,p,g){var v,m;if(arguments.length<4)return v=l.map(function(w){return mr(c,w,d)}),m=v.join(" "),m.split(v[0]).length===5?v[0]:m;v=(p+"").split(" "),m={},l.forEach(function(w,_){return m[w]=v[_]=v[_]||v[(_-1)/2|0]}),c.init(h,m,g)}});var h1={name:"css",register:ay,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,n,s,o){var l=this._props,c=t.style,h=n.vars.startAt,d,p,g,v,m,w,_,S,x,T,C,D,R,P,O,L;ov||ay(),this.styles=this.styles||s1(t),L=this.styles.props,this.tween=n;for(_ in e)if(_!=="autoRound"&&(p=e[_],!(Ci[_]&&qA(_,e,n,s,t,o)))){if(m=typeof p,w=tf[_],m==="function"&&(p=p.call(n,s,t,o),m=typeof p),m==="string"&&~p.indexOf("random(")&&(p=mu(p)),w)w(this,t,_,p,n)&&(O=1);else if(_.substr(0,2)==="--")d=(getComputedStyle(t).getPropertyValue(_)+"").trim(),p+="",da.lastIndex=0,da.test(d)||(S=Vn(d),x=Vn(p)),x?S!==x&&(d=pa(t,_,d,x)+x):S&&(p+=S),this.add(c,"setProperty",d,p,s,o,0,0,_),l.push(_),L.push(_,0,c[_]);else if(m!=="undefined"){if(h&&_ in h?(d=typeof h[_]=="function"?h[_].call(n,s,t,o):h[_],Mn(d)&&~d.indexOf("random(")&&(d=mu(d)),Vn(d+"")||d==="auto"||(d+=Ni.units[_]||Vn(mr(t,_))||""),(d+"").charAt(1)==="="&&(d=mr(t,_))):d=mr(t,_),v=parseFloat(d),T=m==="string"&&p.charAt(1)==="="&&p.substr(0,2),T&&(p=p.substr(2)),g=parseFloat(p),_ in Fs&&(_==="autoAlpha"&&(v===1&&mr(t,"visibility")==="hidden"&&g&&(v=0),L.push("visibility",0,c.visibility),ca(this,c,"visibility",v?"inherit":"hidden",g?"inherit":"hidden",!g)),_!=="scale"&&_!=="transform"&&(_=Fs[_],~_.indexOf(",")&&(_=_.split(",")[0]))),C=_ in xr,C){if(this.styles.save(_),m==="string"&&p.substring(0,6)==="var(--"&&(p=ss(t,p.substring(4,p.indexOf(")"))),g=parseFloat(p)),D||(R=t._gsap,R.renderTransform&&!e.parseTransform||_u(t,e.parseTransform),P=e.smoothOrigin!==!1&&R.smooth,D=this._pt=new di(this._pt,c,qe,0,1,R.renderTransform,R,0,-1),D.dep=1),_==="scale")this._pt=new di(this._pt,R,"scaleY",R.scaleY,(T?wl(R.scaleY,T+g):g)-R.scaleY||0,sy),this._pt.u=0,l.push("scaleY",_),_+="X";else if(_==="transformOrigin"){L.push(fi,0,c[fi]),p=i2(p),R.svg?oy(t,p,0,P,0,this):(x=parseFloat(p.split(" ")[2])||0,x!==R.zOrigin&&ca(this,R,"zOrigin",R.zOrigin,x),ca(this,c,_,ef(d),ef(p)));continue}else if(_==="svgOrigin"){oy(t,p,1,P,0,this);continue}else if(_ in l1){o2(this,R,_,v,T?wl(v,T+p):p);continue}else if(_==="smoothOrigin"){ca(this,R,"smooth",R.smooth,p);continue}else if(_==="force3D"){R[_]=p;continue}else if(_==="transform"){l2(this,p,t);continue}}else _ in c||(_=jl(_)||_);if(C||(g||g===0)&&(v||v===0)&&!GD.test(p)&&_ in c)S=(d+"").substr((v+"").length),g||(g=0),x=Vn(p)||(_ in Ni.units?Ni.units[_]:S),S!==x&&(v=pa(t,_,d,x)),this._pt=new di(this._pt,C?R:c,_,v,(T?wl(v,T+g):g)-v,!C&&(x==="px"||_==="zIndex")&&e.autoRound!==!1?XD:sy),this._pt.u=x||0,S!==x&&x!=="%"&&(this._pt.b=d,this._pt.r=YD);else if(_ in c)n2.call(this,t,_,d,T?T+p:p);else if(_ in t)this.add(t,_,d||t[_],T?T+p:p,s,o);else if(_!=="parseTransform"){Qy(_,p);continue}C||(_ in c?L.push(_,0,c[_]):typeof t[_]=="function"?L.push(_,2,t[_]()):L.push(_,1,d||t[_])),l.push(_)}}O&&JA(this)},render:function(t,e){if(e.tween._time||!lv())for(var n=e._pt;n;)n.r(t,n.d),n=n._next;else e.styles.revert()},get:mr,aliases:Fs,getSetter:function(t,e,n){var s=Fs[e];return s&&s.indexOf(",")<0&&(e=s),e in xr&&e!==fi&&(t._gsap.x||mr(t,"x"))?n&&cS===n?e==="scale"?KD:WD:(cS=n||{})&&(e==="scale"?QD:ZD):t.style&&!$y(t.style[e])?qD:~e.indexOf("-")?$D:rv(t,e)},core:{_removeProperty:uo,_getMatrix:uv}};pi.utils.checkPrefix=jl;pi.core.getStyleSaver=s1;(function(a,t,e,n){var s=hi(a+","+t+","+e,function(o){xr[o]=1});hi(t,function(o){Ni.units[o]="deg",l1[o]=1}),Fs[s[13]]=a+","+t,hi(n,function(o){var l=o.split(":");Fs[l[1]]=s[l[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");hi("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(a){Ni.units[a]="px"});pi.registerPlugin(h1);var ga=pi.registerPlugin(h1)||pi;ga.core.Tween;let vS=typeof document<"u"?M.useLayoutEffect:M.useEffect,bS=a=>a&&!Array.isArray(a)&&typeof a=="object",gd=[],c2={},d1=ga;const ho=(a,t=gd)=>{let e=c2;bS(a)?(e=a,a=null,t="dependencies"in e?e.dependencies:gd):bS(t)&&(e=t,t="dependencies"in e?e.dependencies:gd),a&&typeof a!="function"&&console.warn("First parameter must be a function or config object");const{scope:n,revertOnUpdate:s}=e,o=M.useRef(!1),l=M.useRef(d1.context(()=>{},n)),c=M.useRef(d=>l.current.add(null,d)),h=t&&t.length&&!s;return h&&vS(()=>(o.current=!0,()=>l.current.revert()),gd),vS(()=>{if(a&&l.current.add(a,n),!h||!o.current)return()=>l.current.revert()},t),{context:l.current,contextSafe:c.current}};ho.register=a=>{d1=a};ho.headless=!0;const u2=["top","right","bottom","left"],ma=Math.min,Ri=Math.max,nf=Math.round,md=Math.floor,Us=a=>({x:a,y:a}),h2={left:"right",right:"left",bottom:"top",top:"bottom"},d2={start:"end",end:"start"};function ly(a,t,e){return Ri(a,ma(t,e))}function Ar(a,t){return typeof a=="function"?a(t):a}function Er(a){return a.split("-")[0]}function ql(a){return a.split("-")[1]}function hv(a){return a==="x"?"y":"x"}function dv(a){return a==="y"?"height":"width"}const f2=new Set(["top","bottom"]);function js(a){return f2.has(Er(a))?"y":"x"}function fv(a){return hv(js(a))}function p2(a,t,e){e===void 0&&(e=!1);const n=ql(a),s=fv(a),o=dv(s);let l=s==="x"?n===(e?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(l=sf(l)),[l,sf(l)]}function g2(a){const t=sf(a);return[cy(a),t,cy(t)]}function cy(a){return a.replace(/start|end/g,t=>d2[t])}const _S=["left","right"],wS=["right","left"],m2=["top","bottom"],y2=["bottom","top"];function v2(a,t,e){switch(a){case"top":case"bottom":return e?t?wS:_S:t?_S:wS;case"left":case"right":return t?m2:y2;default:return[]}}function b2(a,t,e,n){const s=ql(a);let o=v2(Er(a),e==="start",n);return s&&(o=o.map(l=>l+"-"+s),t&&(o=o.concat(o.map(cy)))),o}function sf(a){return a.replace(/left|right|bottom|top/g,t=>h2[t])}function _2(a){return{top:0,right:0,bottom:0,left:0,...a}}function f1(a){return typeof a!="number"?_2(a):{top:a,right:a,bottom:a,left:a}}function rf(a){const{x:t,y:e,width:n,height:s}=a;return{width:n,height:s,top:e,left:t,right:t+n,bottom:e+s,x:t,y:e}}function SS(a,t,e){let{reference:n,floating:s}=a;const o=js(t),l=fv(t),c=dv(l),h=Er(t),d=o==="y",p=n.x+n.width/2-s.width/2,g=n.y+n.height/2-s.height/2,v=n[c]/2-s[c]/2;let m;switch(h){case"top":m={x:p,y:n.y-s.height};break;case"bottom":m={x:p,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:g};break;case"left":m={x:n.x-s.width,y:g};break;default:m={x:n.x,y:n.y}}switch(ql(t)){case"start":m[l]-=v*(e&&d?-1:1);break;case"end":m[l]+=v*(e&&d?-1:1);break}return m}const w2=async(a,t,e)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:l}=e,c=o.filter(Boolean),h=await(l.isRTL==null?void 0:l.isRTL(t));let d=await l.getElementRects({reference:a,floating:t,strategy:s}),{x:p,y:g}=SS(d,n,h),v=n,m={},w=0;for(let _=0;_<c.length;_++){const{name:S,fn:x}=c[_],{x:T,y:C,data:D,reset:R}=await x({x:p,y:g,initialPlacement:n,placement:v,strategy:s,middlewareData:m,rects:d,platform:l,elements:{reference:a,floating:t}});p=T??p,g=C??g,m={...m,[S]:{...m[S],...D}},R&&w<=50&&(w++,typeof R=="object"&&(R.placement&&(v=R.placement),R.rects&&(d=R.rects===!0?await l.getElementRects({reference:a,floating:t,strategy:s}):R.rects),{x:p,y:g}=SS(d,v,h)),_=-1)}return{x:p,y:g,placement:v,strategy:s,middlewareData:m}};async function wu(a,t){var e;t===void 0&&(t={});const{x:n,y:s,platform:o,rects:l,elements:c,strategy:h}=a,{boundary:d="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:v=!1,padding:m=0}=Ar(t,a),w=f1(m),S=c[v?g==="floating"?"reference":"floating":g],x=rf(await o.getClippingRect({element:(e=await(o.isElement==null?void 0:o.isElement(S)))==null||e?S:S.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:d,rootBoundary:p,strategy:h})),T=g==="floating"?{x:n,y:s,width:l.floating.width,height:l.floating.height}:l.reference,C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),D=await(o.isElement==null?void 0:o.isElement(C))?await(o.getScale==null?void 0:o.getScale(C))||{x:1,y:1}:{x:1,y:1},R=rf(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:T,offsetParent:C,strategy:h}):T);return{top:(x.top-R.top+w.top)/D.y,bottom:(R.bottom-x.bottom+w.bottom)/D.y,left:(x.left-R.left+w.left)/D.x,right:(R.right-x.right+w.right)/D.x}}const S2=a=>({name:"arrow",options:a,async fn(t){const{x:e,y:n,placement:s,rects:o,platform:l,elements:c,middlewareData:h}=t,{element:d,padding:p=0}=Ar(a,t)||{};if(d==null)return{};const g=f1(p),v={x:e,y:n},m=fv(s),w=dv(m),_=await l.getDimensions(d),S=m==="y",x=S?"top":"left",T=S?"bottom":"right",C=S?"clientHeight":"clientWidth",D=o.reference[w]+o.reference[m]-v[m]-o.floating[w],R=v[m]-o.reference[m],P=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d));let O=P?P[C]:0;(!O||!await(l.isElement==null?void 0:l.isElement(P)))&&(O=c.floating[C]||o.floating[w]);const L=D/2-R/2,F=O/2-_[w]/2-1,X=ma(g[x],F),G=ma(g[T],F),rt=X,tt=O-_[w]-G,W=O/2-_[w]/2+L,$=ly(rt,W,tt),k=!h.arrow&&ql(s)!=null&&W!==$&&o.reference[w]/2-(W<rt?X:G)-_[w]/2<0,z=k?W<rt?W-rt:W-tt:0;return{[m]:v[m]+z,data:{[m]:$,centerOffset:W-$-z,...k&&{alignmentOffset:z}},reset:k}}}),x2=function(a){return a===void 0&&(a={}),{name:"flip",options:a,async fn(t){var e,n;const{placement:s,middlewareData:o,rects:l,initialPlacement:c,platform:h,elements:d}=t,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:_=!0,...S}=Ar(a,t);if((e=o.arrow)!=null&&e.alignmentOffset)return{};const x=Er(s),T=js(c),C=Er(c)===c,D=await(h.isRTL==null?void 0:h.isRTL(d.floating)),R=v||(C||!_?[sf(c)]:g2(c)),P=w!=="none";!v&&P&&R.push(...b2(c,_,w,D));const O=[c,...R],L=await wu(t,S),F=[];let X=((n=o.flip)==null?void 0:n.overflows)||[];if(p&&F.push(L[x]),g){const W=p2(s,l,D);F.push(L[W[0]],L[W[1]])}if(X=[...X,{placement:s,overflows:F}],!F.every(W=>W<=0)){var G,rt;const W=(((G=o.flip)==null?void 0:G.index)||0)+1,$=O[W];if($&&(!(g==="alignment"?T!==js($):!1)||X.every(I=>js(I.placement)===T?I.overflows[0]>0:!0)))return{data:{index:W,overflows:X},reset:{placement:$}};let k=(rt=X.filter(z=>z.overflows[0]<=0).sort((z,I)=>z.overflows[1]-I.overflows[1])[0])==null?void 0:rt.placement;if(!k)switch(m){case"bestFit":{var tt;const z=(tt=X.filter(I=>{if(P){const Q=js(I.placement);return Q===T||Q==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(Q=>Q>0).reduce((Q,ot)=>Q+ot,0)]).sort((I,Q)=>I[1]-Q[1])[0])==null?void 0:tt[0];z&&(k=z);break}case"initialPlacement":k=c;break}if(s!==k)return{reset:{placement:k}}}return{}}}};function xS(a,t){return{top:a.top-t.height,right:a.right-t.width,bottom:a.bottom-t.height,left:a.left-t.width}}function AS(a){return u2.some(t=>a[t]>=0)}const A2=function(a){return a===void 0&&(a={}),{name:"hide",options:a,async fn(t){const{rects:e}=t,{strategy:n="referenceHidden",...s}=Ar(a,t);switch(n){case"referenceHidden":{const o=await wu(t,{...s,elementContext:"reference"}),l=xS(o,e.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:AS(l)}}}case"escaped":{const o=await wu(t,{...s,altBoundary:!0}),l=xS(o,e.floating);return{data:{escapedOffsets:l,escaped:AS(l)}}}default:return{}}}}},p1=new Set(["left","top"]);async function E2(a,t){const{placement:e,platform:n,elements:s}=a,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),l=Er(e),c=ql(e),h=js(e)==="y",d=p1.has(l)?-1:1,p=o&&h?-1:1,g=Ar(t,a);let{mainAxis:v,crossAxis:m,alignmentAxis:w}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return c&&typeof w=="number"&&(m=c==="end"?w*-1:w),h?{x:m*p,y:v*d}:{x:v*d,y:m*p}}const T2=function(a){return a===void 0&&(a=0),{name:"offset",options:a,async fn(t){var e,n;const{x:s,y:o,placement:l,middlewareData:c}=t,h=await E2(t,a);return l===((e=c.offset)==null?void 0:e.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:s+h.x,y:o+h.y,data:{...h,placement:l}}}}},C2=function(a){return a===void 0&&(a={}),{name:"shift",options:a,async fn(t){const{x:e,y:n,placement:s}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:S=>{let{x,y:T}=S;return{x,y:T}}},...h}=Ar(a,t),d={x:e,y:n},p=await wu(t,h),g=js(Er(s)),v=hv(g);let m=d[v],w=d[g];if(o){const S=v==="y"?"top":"left",x=v==="y"?"bottom":"right",T=m+p[S],C=m-p[x];m=ly(T,m,C)}if(l){const S=g==="y"?"top":"left",x=g==="y"?"bottom":"right",T=w+p[S],C=w-p[x];w=ly(T,w,C)}const _=c.fn({...t,[v]:m,[g]:w});return{..._,data:{x:_.x-e,y:_.y-n,enabled:{[v]:o,[g]:l}}}}}},M2=function(a){return a===void 0&&(a={}),{options:a,fn(t){const{x:e,y:n,placement:s,rects:o,middlewareData:l}=t,{offset:c=0,mainAxis:h=!0,crossAxis:d=!0}=Ar(a,t),p={x:e,y:n},g=js(s),v=hv(g);let m=p[v],w=p[g];const _=Ar(c,t),S=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(h){const C=v==="y"?"height":"width",D=o.reference[v]-o.floating[C]+S.mainAxis,R=o.reference[v]+o.reference[C]-S.mainAxis;m<D?m=D:m>R&&(m=R)}if(d){var x,T;const C=v==="y"?"width":"height",D=p1.has(Er(s)),R=o.reference[g]-o.floating[C]+(D&&((x=l.offset)==null?void 0:x[g])||0)+(D?0:S.crossAxis),P=o.reference[g]+o.reference[C]+(D?0:((T=l.offset)==null?void 0:T[g])||0)-(D?S.crossAxis:0);w<R?w=R:w>P&&(w=P)}return{[v]:m,[g]:w}}}},R2=function(a){return a===void 0&&(a={}),{name:"size",options:a,async fn(t){var e,n;const{placement:s,rects:o,platform:l,elements:c}=t,{apply:h=()=>{},...d}=Ar(a,t),p=await wu(t,d),g=Er(s),v=ql(s),m=js(s)==="y",{width:w,height:_}=o.floating;let S,x;g==="top"||g==="bottom"?(S=g,x=v===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(x=g,S=v==="end"?"top":"bottom");const T=_-p.top-p.bottom,C=w-p.left-p.right,D=ma(_-p[S],T),R=ma(w-p[x],C),P=!t.middlewareData.shift;let O=D,L=R;if((e=t.middlewareData.shift)!=null&&e.enabled.x&&(L=C),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(O=T),P&&!v){const X=Ri(p.left,0),G=Ri(p.right,0),rt=Ri(p.top,0),tt=Ri(p.bottom,0);m?L=w-2*(X!==0||G!==0?X+G:Ri(p.left,p.right)):O=_-2*(rt!==0||tt!==0?rt+tt:Ri(p.top,p.bottom))}await h({...t,availableWidth:L,availableHeight:O});const F=await l.getDimensions(c.floating);return w!==F.width||_!==F.height?{reset:{rects:!0}}:{}}}};function xf(){return typeof window<"u"}function $l(a){return g1(a)?(a.nodeName||"").toLowerCase():"#document"}function Li(a){var t;return(a==null||(t=a.ownerDocument)==null?void 0:t.defaultView)||window}function Vs(a){var t;return(t=(g1(a)?a.ownerDocument:a.document)||window.document)==null?void 0:t.documentElement}function g1(a){return xf()?a instanceof Node||a instanceof Li(a).Node:!1}function bs(a){return xf()?a instanceof Element||a instanceof Li(a).Element:!1}function Gs(a){return xf()?a instanceof HTMLElement||a instanceof Li(a).HTMLElement:!1}function ES(a){return!xf()||typeof ShadowRoot>"u"?!1:a instanceof ShadowRoot||a instanceof Li(a).ShadowRoot}const D2=new Set(["inline","contents"]);function Fu(a){const{overflow:t,overflowX:e,overflowY:n,display:s}=_s(a);return/auto|scroll|overlay|hidden|clip/.test(t+n+e)&&!D2.has(s)}const O2=new Set(["table","td","th"]);function k2(a){return O2.has($l(a))}const N2=[":popover-open",":modal"];function Af(a){return N2.some(t=>{try{return a.matches(t)}catch{return!1}})}const L2=["transform","translate","scale","rotate","perspective"],P2=["transform","translate","scale","rotate","perspective","filter"],B2=["paint","layout","strict","content"];function pv(a){const t=gv(),e=bs(a)?_s(a):a;return L2.some(n=>e[n]?e[n]!=="none":!1)||(e.containerType?e.containerType!=="normal":!1)||!t&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!t&&(e.filter?e.filter!=="none":!1)||P2.some(n=>(e.willChange||"").includes(n))||B2.some(n=>(e.contain||"").includes(n))}function I2(a){let t=ya(a);for(;Gs(t)&&!Ul(t);){if(pv(t))return t;if(Af(t))return null;t=ya(t)}return null}function gv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const z2=new Set(["html","body","#document"]);function Ul(a){return z2.has($l(a))}function _s(a){return Li(a).getComputedStyle(a)}function Ef(a){return bs(a)?{scrollLeft:a.scrollLeft,scrollTop:a.scrollTop}:{scrollLeft:a.scrollX,scrollTop:a.scrollY}}function ya(a){if($l(a)==="html")return a;const t=a.assignedSlot||a.parentNode||ES(a)&&a.host||Vs(a);return ES(t)?t.host:t}function m1(a){const t=ya(a);return Ul(t)?a.ownerDocument?a.ownerDocument.body:a.body:Gs(t)&&Fu(t)?t:m1(t)}function Su(a,t,e){var n;t===void 0&&(t=[]),e===void 0&&(e=!0);const s=m1(a),o=s===((n=a.ownerDocument)==null?void 0:n.body),l=Li(s);if(o){const c=uy(l);return t.concat(l,l.visualViewport||[],Fu(s)?s:[],c&&e?Su(c):[])}return t.concat(s,Su(s,[],e))}function uy(a){return a.parent&&Object.getPrototypeOf(a.parent)?a.frameElement:null}function y1(a){const t=_s(a);let e=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Gs(a),o=s?a.offsetWidth:e,l=s?a.offsetHeight:n,c=nf(e)!==o||nf(n)!==l;return c&&(e=o,n=l),{width:e,height:n,$:c}}function mv(a){return bs(a)?a:a.contextElement}function Al(a){const t=mv(a);if(!Gs(t))return Us(1);const e=t.getBoundingClientRect(),{width:n,height:s,$:o}=y1(t);let l=(o?nf(e.width):e.width)/n,c=(o?nf(e.height):e.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const F2=Us(0);function v1(a){const t=Li(a);return!gv()||!t.visualViewport?F2:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function j2(a,t,e){return t===void 0&&(t=!1),!e||t&&e!==Li(a)?!1:t}function fo(a,t,e,n){t===void 0&&(t=!1),e===void 0&&(e=!1);const s=a.getBoundingClientRect(),o=mv(a);let l=Us(1);t&&(n?bs(n)&&(l=Al(n)):l=Al(a));const c=j2(o,e,n)?v1(o):Us(0);let h=(s.left+c.x)/l.x,d=(s.top+c.y)/l.y,p=s.width/l.x,g=s.height/l.y;if(o){const v=Li(o),m=n&&bs(n)?Li(n):n;let w=v,_=uy(w);for(;_&&n&&m!==w;){const S=Al(_),x=_.getBoundingClientRect(),T=_s(_),C=x.left+(_.clientLeft+parseFloat(T.paddingLeft))*S.x,D=x.top+(_.clientTop+parseFloat(T.paddingTop))*S.y;h*=S.x,d*=S.y,p*=S.x,g*=S.y,h+=C,d+=D,w=Li(_),_=uy(w)}}return rf({width:p,height:g,x:h,y:d})}function Tf(a,t){const e=Ef(a).scrollLeft;return t?t.left+e:fo(Vs(a)).left+e}function b1(a,t){const e=a.getBoundingClientRect(),n=e.left+t.scrollLeft-Tf(a,e),s=e.top+t.scrollTop;return{x:n,y:s}}function U2(a){let{elements:t,rect:e,offsetParent:n,strategy:s}=a;const o=s==="fixed",l=Vs(n),c=t?Af(t.floating):!1;if(n===l||c&&o)return e;let h={scrollLeft:0,scrollTop:0},d=Us(1);const p=Us(0),g=Gs(n);if((g||!g&&!o)&&(($l(n)!=="body"||Fu(l))&&(h=Ef(n)),Gs(n))){const m=fo(n);d=Al(n),p.x=m.x+n.clientLeft,p.y=m.y+n.clientTop}const v=l&&!g&&!o?b1(l,h):Us(0);return{width:e.width*d.x,height:e.height*d.y,x:e.x*d.x-h.scrollLeft*d.x+p.x+v.x,y:e.y*d.y-h.scrollTop*d.y+p.y+v.y}}function H2(a){return Array.from(a.getClientRects())}function G2(a){const t=Vs(a),e=Ef(a),n=a.ownerDocument.body,s=Ri(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=Ri(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let l=-e.scrollLeft+Tf(a);const c=-e.scrollTop;return _s(n).direction==="rtl"&&(l+=Ri(t.clientWidth,n.clientWidth)-s),{width:s,height:o,x:l,y:c}}const TS=25;function V2(a,t){const e=Li(a),n=Vs(a),s=e.visualViewport;let o=n.clientWidth,l=n.clientHeight,c=0,h=0;if(s){o=s.width,l=s.height;const p=gv();(!p||p&&t==="fixed")&&(c=s.offsetLeft,h=s.offsetTop)}const d=Tf(n);if(d<=0){const p=n.ownerDocument,g=p.body,v=getComputedStyle(g),m=p.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,w=Math.abs(n.clientWidth-g.clientWidth-m);w<=TS&&(o-=w)}else d<=TS&&(o+=d);return{width:o,height:l,x:c,y:h}}const Y2=new Set(["absolute","fixed"]);function X2(a,t){const e=fo(a,!0,t==="fixed"),n=e.top+a.clientTop,s=e.left+a.clientLeft,o=Gs(a)?Al(a):Us(1),l=a.clientWidth*o.x,c=a.clientHeight*o.y,h=s*o.x,d=n*o.y;return{width:l,height:c,x:h,y:d}}function CS(a,t,e){let n;if(t==="viewport")n=V2(a,e);else if(t==="document")n=G2(Vs(a));else if(bs(t))n=X2(t,e);else{const s=v1(a);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return rf(n)}function _1(a,t){const e=ya(a);return e===t||!bs(e)||Ul(e)?!1:_s(e).position==="fixed"||_1(e,t)}function q2(a,t){const e=t.get(a);if(e)return e;let n=Su(a,[],!1).filter(c=>bs(c)&&$l(c)!=="body"),s=null;const o=_s(a).position==="fixed";let l=o?ya(a):a;for(;bs(l)&&!Ul(l);){const c=_s(l),h=pv(l);!h&&c.position==="fixed"&&(s=null),(o?!h&&!s:!h&&c.position==="static"&&!!s&&Y2.has(s.position)||Fu(l)&&!h&&_1(a,l))?n=n.filter(p=>p!==l):s=c,l=ya(l)}return t.set(a,n),n}function $2(a){let{element:t,boundary:e,rootBoundary:n,strategy:s}=a;const l=[...e==="clippingAncestors"?Af(t)?[]:q2(t,this._c):[].concat(e),n],c=l[0],h=l.reduce((d,p)=>{const g=CS(t,p,s);return d.top=Ri(g.top,d.top),d.right=ma(g.right,d.right),d.bottom=ma(g.bottom,d.bottom),d.left=Ri(g.left,d.left),d},CS(t,c,s));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function W2(a){const{width:t,height:e}=y1(a);return{width:t,height:e}}function K2(a,t,e){const n=Gs(t),s=Vs(t),o=e==="fixed",l=fo(a,!0,o,t);let c={scrollLeft:0,scrollTop:0};const h=Us(0);function d(){h.x=Tf(s)}if(n||!n&&!o)if(($l(t)!=="body"||Fu(s))&&(c=Ef(t)),n){const m=fo(t,!0,o,t);h.x=m.x+t.clientLeft,h.y=m.y+t.clientTop}else s&&d();o&&!n&&s&&d();const p=s&&!n&&!o?b1(s,c):Us(0),g=l.left+c.scrollLeft-h.x-p.x,v=l.top+c.scrollTop-h.y-p.y;return{x:g,y:v,width:l.width,height:l.height}}function pm(a){return _s(a).position==="static"}function MS(a,t){if(!Gs(a)||_s(a).position==="fixed")return null;if(t)return t(a);let e=a.offsetParent;return Vs(a)===e&&(e=e.ownerDocument.body),e}function w1(a,t){const e=Li(a);if(Af(a))return e;if(!Gs(a)){let s=ya(a);for(;s&&!Ul(s);){if(bs(s)&&!pm(s))return s;s=ya(s)}return e}let n=MS(a,t);for(;n&&k2(n)&&pm(n);)n=MS(n,t);return n&&Ul(n)&&pm(n)&&!pv(n)?e:n||I2(a)||e}const Q2=async function(a){const t=this.getOffsetParent||w1,e=this.getDimensions,n=await e(a.floating);return{reference:K2(a.reference,await t(a.floating),a.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Z2(a){return _s(a).direction==="rtl"}const J2={convertOffsetParentRelativeRectToViewportRelativeRect:U2,getDocumentElement:Vs,getClippingRect:$2,getOffsetParent:w1,getElementRects:Q2,getClientRects:H2,getDimensions:W2,getScale:Al,isElement:bs,isRTL:Z2};function S1(a,t){return a.x===t.x&&a.y===t.y&&a.width===t.width&&a.height===t.height}function tO(a,t){let e=null,n;const s=Vs(a);function o(){var c;clearTimeout(n),(c=e)==null||c.disconnect(),e=null}function l(c,h){c===void 0&&(c=!1),h===void 0&&(h=1),o();const d=a.getBoundingClientRect(),{left:p,top:g,width:v,height:m}=d;if(c||t(),!v||!m)return;const w=md(g),_=md(s.clientWidth-(p+v)),S=md(s.clientHeight-(g+m)),x=md(p),C={rootMargin:-w+"px "+-_+"px "+-S+"px "+-x+"px",threshold:Ri(0,ma(1,h))||1};let D=!0;function R(P){const O=P[0].intersectionRatio;if(O!==h){if(!D)return l();O?l(!1,O):n=setTimeout(()=>{l(!1,1e-7)},1e3)}O===1&&!S1(d,a.getBoundingClientRect())&&l(),D=!1}try{e=new IntersectionObserver(R,{...C,root:s.ownerDocument})}catch{e=new IntersectionObserver(R,C)}e.observe(a)}return l(!0),o}function x1(a,t,e,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:h=!1}=n,d=mv(a),p=s||o?[...d?Su(d):[],...Su(t)]:[];p.forEach(x=>{s&&x.addEventListener("scroll",e,{passive:!0}),o&&x.addEventListener("resize",e)});const g=d&&c?tO(d,e):null;let v=-1,m=null;l&&(m=new ResizeObserver(x=>{let[T]=x;T&&T.target===d&&m&&(m.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var C;(C=m)==null||C.observe(t)})),e()}),d&&!h&&m.observe(d),m.observe(t));let w,_=h?fo(a):null;h&&S();function S(){const x=fo(a);_&&!S1(_,x)&&e(),_=x,w=requestAnimationFrame(S)}return e(),()=>{var x;p.forEach(T=>{s&&T.removeEventListener("scroll",e),o&&T.removeEventListener("resize",e)}),g?.(),(x=m)==null||x.disconnect(),m=null,h&&cancelAnimationFrame(w)}}const A1=T2,E1=C2,T1=x2,eO=R2,nO=A2,hy=S2,iO=M2,dy=(a,t,e)=>{const n=new Map,s={platform:J2,...e},o={...s.platform,_c:n};return w2(a,t,{...s,platform:o})};var gm={exports:{}};var RS;function sO(){return RS||(RS=1,(function(a){(function(){var t={}.hasOwnProperty;function e(){for(var o="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(o=s(o,n(c)))}return o}function n(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return e.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var l="";for(var c in o)t.call(o,c)&&o[c]&&(l=s(l,c));return l}function s(o,l){return l?o?o+" "+l:o+l:o}a.exports?(e.default=e,a.exports=e):window.classNames=e})()})(gm)),gm.exports}var rO=sO();const fy=Iu(rO);var DS={};const aO="react-tooltip-core-styles",oO="react-tooltip-base-styles",OS={core:!1,base:!1};function kS({css:a,id:t=oO,type:e="base",ref:n}){var s,o;if(!a||typeof document>"u"||OS[e]||e==="core"&&typeof process<"u"&&(!((s=process==null?void 0:DS)===null||s===void 0)&&s.REACT_TOOLTIP_DISABLE_CORE_STYLES)||e!=="base"&&typeof process<"u"&&(!((o=process==null?void 0:DS)===null||o===void 0)&&o.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;e==="core"&&(t=aO),n||(n={});const{insertAt:l}=n;if(document.getElementById(t))return;const c=document.head||document.getElementsByTagName("head")[0],h=document.createElement("style");h.id=t,h.type="text/css",l==="top"&&c.firstChild?c.insertBefore(h,c.firstChild):c.appendChild(h),h.styleSheet?h.styleSheet.cssText=a:h.appendChild(document.createTextNode(a)),OS[e]=!0}const NS=async({elementReference:a=null,tooltipReference:t=null,tooltipArrowReference:e=null,place:n="top",offset:s=10,strategy:o="absolute",middlewares:l=[A1(Number(s)),T1({fallbackAxisSideDirection:"start"}),E1({padding:5})],border:c,arrowSize:h=8})=>{if(!a)return{tooltipStyles:{},tooltipArrowStyles:{},place:n};if(t===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:n};const d=l;return e?(d.push(hy({element:e,padding:5})),dy(a,t,{placement:n,strategy:o,middleware:d}).then((({x:p,y:g,placement:v,middlewareData:m})=>{var w,_;const S={left:`${p}px`,top:`${g}px`,border:c},{x,y:T}=(w=m.arrow)!==null&&w!==void 0?w:{x:0,y:0},C=(_={top:"bottom",right:"left",bottom:"top",left:"right"}[v.split("-")[0]])!==null&&_!==void 0?_:"bottom",D=c&&{borderBottom:c,borderRight:c};let R=0;if(c){const P=`${c}`.match(/(\d+)px/);R=P?.[1]?Number(P[1]):1}return{tooltipStyles:S,tooltipArrowStyles:{left:x!=null?`${x}px`:"",top:T!=null?`${T}px`:"",right:"",bottom:"",...D,[C]:`-${h/2+R}px`},place:v}}))):dy(a,t,{placement:"bottom",strategy:o,middleware:d}).then((({x:p,y:g,placement:v})=>({tooltipStyles:{left:`${p}px`,top:`${g}px`},tooltipArrowStyles:{},place:v})))},LS=(a,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(a,t),PS=(a,t,e)=>{let n=null;const s=function(...o){const l=()=>{n=null};!n&&(a.apply(this,o),n=setTimeout(l,t))};return s.cancel=()=>{n&&(clearTimeout(n),n=null)},s},BS=a=>a!==null&&!Array.isArray(a)&&typeof a=="object",py=(a,t)=>{if(a===t)return!0;if(Array.isArray(a)&&Array.isArray(t))return a.length===t.length&&a.every(((s,o)=>py(s,t[o])));if(Array.isArray(a)!==Array.isArray(t))return!1;if(!BS(a)||!BS(t))return a===t;const e=Object.keys(a),n=Object.keys(t);return e.length===n.length&&e.every((s=>py(a[s],t[s])))},lO=a=>{if(!(a instanceof HTMLElement||a instanceof SVGElement))return!1;const t=getComputedStyle(a);return["overflow","overflow-x","overflow-y"].some((e=>{const n=t.getPropertyValue(e);return n==="auto"||n==="scroll"}))},IS=a=>{if(!a)return null;let t=a.parentElement;for(;t;){if(lO(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},cO=typeof window<"u"?M.useLayoutEffect:M.useEffect,Wi=a=>{a.current&&(clearTimeout(a.current),a.current=null)},uO="DEFAULT_TOOLTIP_ID",hO={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},dO=M.createContext({getTooltipData:()=>hO});function C1(a=uO){return M.useContext(dO).getTooltipData(a)}var ol={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},mm={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const fO=({forwardRef:a,id:t,className:e,classNameArrow:n,variant:s="dark",anchorId:o,anchorSelect:l,place:c="top",offset:h=10,events:d=["hover"],openOnClick:p=!1,positionStrategy:g="absolute",middlewares:v,wrapper:m,delayShow:w=0,delayHide:_=0,float:S=!1,hidden:x=!1,noArrow:T=!1,clickable:C=!1,closeOnEsc:D=!1,closeOnScroll:R=!1,closeOnResize:P=!1,openEvents:O,closeEvents:L,globalCloseEvents:F,imperativeModeOnly:X,style:G,position:rt,afterShow:tt,afterHide:W,disableTooltip:$,content:k,contentWrapperRef:z,isOpen:I,defaultIsOpen:Q=!1,setIsOpen:ot,previousActiveAnchor:B,activeAnchor:j,setActiveAnchor:K,border:nt,opacity:pt,arrowColor:gt,arrowSize:ct=8,role:Et="tooltip"})=>{var Tt;const bt=M.useRef(null),Ft=M.useRef(null),zt=M.useRef(null),Ot=M.useRef(null),kt=M.useRef(null),[Rt,me]=M.useState({tooltipStyles:{},tooltipArrowStyles:{},place:c}),[Zt,Oe]=M.useState(!1),[_n,wn]=M.useState(!1),[ce,Pe]=M.useState(null),os=M.useRef(!1),Ae=M.useRef(null),{anchorRefs:ls,setActiveAnchor:Je}=C1(t),ke=M.useRef(!1),[Be,Sn]=M.useState([]),xn=M.useRef(!1),Ss=p||d.includes("click"),Rr=Ss||O?.click||O?.dblclick||O?.mousedown,$n=O?{...O}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!O&&Ss&&Object.assign($n,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const Ie=L?{...L}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!L&&Ss&&Object.assign(Ie,{mouseleave:!1,blur:!1,mouseout:!1});const pe=F?{...F}:{escape:D||!1,scroll:R||!1,resize:P||!1,clickOutsideAnchor:Rr||!1};X&&(Object.assign($n,{mouseover:!1,focus:!1,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(Ie,{mouseout:!1,blur:!1,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(pe,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),cO((()=>(xn.current=!0,()=>{xn.current=!1})),[]);const ue=ht=>{xn.current&&(ht&&wn(!0),setTimeout((()=>{xn.current&&(ot?.(ht),I===void 0&&Oe(ht))}),10))};M.useEffect((()=>{if(t){if(Zt){ft(B);const yt=ht(j),_t=[...new Set([...yt,t])].filter(Boolean).join(" ");j?.setAttribute("aria-describedby",_t)}else ft(j);return()=>{ft(j),ft(B)}}function ht(yt){var _t;return((_t=yt?.getAttribute("aria-describedby"))===null||_t===void 0?void 0:_t.split(" "))||[]}function ft(yt){const _t=ht(yt).filter((Bt=>Bt!==t));_t.length?yt?.setAttribute("aria-describedby",_t.join(" ")):yt?.removeAttribute("aria-describedby")}}),[j,Zt,t,B]),M.useEffect((()=>{if(I===void 0)return()=>null;I&&wn(!0);const ht=setTimeout((()=>{Oe(I)}),10);return()=>{clearTimeout(ht)}}),[I]),M.useEffect((()=>{if(Zt!==os.current)if(Wi(kt),os.current=Zt,Zt)tt?.();else{const ht=(ft=>{const yt=ft.match(/^([\d.]+)(ms|s)$/);if(!yt)return 0;const[,_t,Bt]=yt;return Number(_t)*(Bt==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));kt.current=setTimeout((()=>{wn(!1),Pe(null),W?.()}),ht+25)}}),[Zt]);const Ys=ht=>{me((ft=>py(ft,ht)?ft:ht))},mi=(ht=w)=>{Wi(zt),_n?ue(!0):zt.current=setTimeout((()=>{ue(!0)}),ht)},zn=(ht=_)=>{Wi(Ot),Ot.current=setTimeout((()=>{ke.current||ue(!1)}),ht)},Fn=ht=>{var ft;if(!ht)return;const yt=(ft=ht.currentTarget)!==null&&ft!==void 0?ft:ht.target;if(!yt?.isConnected)return K(null),void Je({current:null});w?mi():ue(!0),K(yt),Je({current:yt}),Wi(Ot)},Ge=()=>{C?zn(_||100):_?zn():ue(!1),Wi(zt)},jn=({x:ht,y:ft})=>{var yt;const _t={getBoundingClientRect:()=>({x:ht,y:ft,width:0,height:0,top:ft,left:ht,right:ht,bottom:ft})};NS({place:(yt=ce?.place)!==null&&yt!==void 0?yt:c,offset:h,elementReference:_t,tooltipReference:bt.current,tooltipArrowReference:Ft.current,strategy:g,middlewares:v,border:nt,arrowSize:ct}).then((Bt=>{Ys(Bt)}))},Rn=ht=>{if(!ht)return;const ft=ht,yt={x:ft.clientX,y:ft.clientY};jn(yt),Ae.current=yt},yi=ht=>{var ft;if(!Zt)return;const yt=ht.target;yt.isConnected&&(!((ft=bt.current)===null||ft===void 0)&&ft.contains(yt)||[document.querySelector(`[id='${o}']`),...Be].some((_t=>_t?.contains(yt)))||(ue(!1),Wi(zt)))},xt=PS(Fn,50),H=PS(Ge,50),ut=ht=>{H.cancel(),xt(ht)},Y=()=>{xt.cancel(),H()},st=M.useCallback((()=>{var ht,ft;const yt=(ht=ce?.position)!==null&&ht!==void 0?ht:rt;yt?jn(yt):S?Ae.current&&jn(Ae.current):j?.isConnected&&NS({place:(ft=ce?.place)!==null&&ft!==void 0?ft:c,offset:h,elementReference:j,tooltipReference:bt.current,tooltipArrowReference:Ft.current,strategy:g,middlewares:v,border:nt,arrowSize:ct}).then((_t=>{xn.current&&Ys(_t)}))}),[Zt,j,k,G,c,ce?.place,h,g,rt,ce?.position,S,ct]);M.useEffect((()=>{var ht,ft;const yt=new Set(ls);Be.forEach((se=>{$?.(se)||yt.add({current:se})}));const _t=document.querySelector(`[id='${o}']`);_t&&!$?.(_t)&&yt.add({current:_t});const Bt=()=>{ue(!1)},ie=IS(j),Jt=IS(bt.current);pe.scroll&&(window.addEventListener("scroll",Bt),ie?.addEventListener("scroll",Bt),Jt?.addEventListener("scroll",Bt));let Gt=null;pe.resize?window.addEventListener("resize",Bt):j&&bt.current&&(Gt=x1(j,bt.current,st,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const qt=se=>{se.key==="Escape"&&ue(!1)};pe.escape&&window.addEventListener("keydown",qt),pe.clickOutsideAnchor&&window.addEventListener("click",yi);const $t=[],be=se=>!!(se?.target&&j?.contains(se.target)),ze=se=>{Zt&&be(se)||Fn(se)},Ta=se=>{Zt&&be(se)&&Ge()},Dn=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],Dr=["click","dblclick","mousedown","mouseup"];Object.entries($n).forEach((([se,Un])=>{Un&&(Dn.includes(se)?$t.push({event:se,listener:ut}):Dr.includes(se)&&$t.push({event:se,listener:ze}))})),Object.entries(Ie).forEach((([se,Un])=>{Un&&(Dn.includes(se)?$t.push({event:se,listener:Y}):Dr.includes(se)&&$t.push({event:se,listener:Ta}))})),S&&$t.push({event:"pointermove",listener:Rn});const Eo=()=>{ke.current=!0},Xs=()=>{ke.current=!1,Ge()},qs=C&&(Ie.mouseout||Ie.mouseleave);return qs&&((ht=bt.current)===null||ht===void 0||ht.addEventListener("mouseover",Eo),(ft=bt.current)===null||ft===void 0||ft.addEventListener("mouseout",Xs)),$t.forEach((({event:se,listener:Un})=>{yt.forEach((We=>{var Or;(Or=We.current)===null||Or===void 0||Or.addEventListener(se,Un)}))})),()=>{var se,Un;pe.scroll&&(window.removeEventListener("scroll",Bt),ie?.removeEventListener("scroll",Bt),Jt?.removeEventListener("scroll",Bt)),pe.resize?window.removeEventListener("resize",Bt):Gt?.(),pe.clickOutsideAnchor&&window.removeEventListener("click",yi),pe.escape&&window.removeEventListener("keydown",qt),qs&&((se=bt.current)===null||se===void 0||se.removeEventListener("mouseover",Eo),(Un=bt.current)===null||Un===void 0||Un.removeEventListener("mouseout",Xs)),$t.forEach((({event:We,listener:Or})=>{yt.forEach((eh=>{var cs;(cs=eh.current)===null||cs===void 0||cs.removeEventListener(We,Or)}))}))}}),[j,st,_n,ls,Be,O,L,F,Ss,w,_]),M.useEffect((()=>{var ht,ft;let yt=(ft=(ht=ce?.anchorSelect)!==null&&ht!==void 0?ht:l)!==null&&ft!==void 0?ft:"";!yt&&t&&(yt=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`);const _t=new MutationObserver((Bt=>{const ie=[],Jt=[];Bt.forEach((Gt=>{if(Gt.type==="attributes"&&Gt.attributeName==="data-tooltip-id"&&(Gt.target.getAttribute("data-tooltip-id")===t?ie.push(Gt.target):Gt.oldValue===t&&Jt.push(Gt.target)),Gt.type==="childList"){if(j){const qt=[...Gt.removedNodes].filter(($t=>$t.nodeType===1));if(yt)try{Jt.push(...qt.filter(($t=>$t.matches(yt)))),Jt.push(...qt.flatMap(($t=>[...$t.querySelectorAll(yt)])))}catch{}qt.some(($t=>{var be;return!!(!((be=$t?.contains)===null||be===void 0)&&be.call($t,j))&&(wn(!1),ue(!1),K(null),Wi(zt),Wi(Ot),!0)}))}if(yt)try{const qt=[...Gt.addedNodes].filter(($t=>$t.nodeType===1));ie.push(...qt.filter(($t=>$t.matches(yt)))),ie.push(...qt.flatMap(($t=>[...$t.querySelectorAll(yt)])))}catch{}}})),(ie.length||Jt.length)&&Sn((Gt=>[...Gt.filter((qt=>!Jt.includes(qt))),...ie]))}));return _t.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{_t.disconnect()}}),[t,l,ce?.anchorSelect,j]),M.useEffect((()=>{st()}),[st]),M.useEffect((()=>{if(!z?.current)return()=>null;const ht=new ResizeObserver((()=>{setTimeout((()=>st()))}));return ht.observe(z.current),()=>{ht.disconnect()}}),[k,z?.current]),M.useEffect((()=>{var ht;const ft=document.querySelector(`[id='${o}']`),yt=[...Be,ft];j&&yt.includes(j)||K((ht=Be[0])!==null&&ht!==void 0?ht:ft)}),[o,Be,j]),M.useEffect((()=>(Q&&ue(!0),()=>{Wi(zt),Wi(Ot)})),[]),M.useEffect((()=>{var ht;let ft=(ht=ce?.anchorSelect)!==null&&ht!==void 0?ht:l;if(!ft&&t&&(ft=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),ft)try{const yt=Array.from(document.querySelectorAll(ft));Sn(yt)}catch{Sn([])}}),[t,l,ce?.anchorSelect]),M.useEffect((()=>{zt.current&&(Wi(zt),mi(w))}),[w]);const mt=(Tt=ce?.content)!==null&&Tt!==void 0?Tt:k,vt=Zt&&Object.keys(Rt.tooltipStyles).length>0;return M.useImperativeHandle(a,(()=>({open:ht=>{if(ht?.anchorSelect)try{document.querySelector(ht.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${ht.anchorSelect}" is not a valid CSS selector`)}Pe(ht??null),ht?.delay?mi(ht.delay):ue(!0)},close:ht=>{ht?.delay?zn(ht.delay):ue(!1)},activeAnchor:j,place:Rt.place,isOpen:!!(_n&&!x&&mt&&vt)}))),_n&&!x&&mt?bn.createElement(m,{id:t,role:Et,className:fy("react-tooltip",ol.tooltip,mm.tooltip,mm[s],e,`react-tooltip__place-${Rt.place}`,ol[vt?"show":"closing"],vt?"react-tooltip__show":"react-tooltip__closing",g==="fixed"&&ol.fixed,C&&ol.clickable),onTransitionEnd:ht=>{Wi(kt),Zt||ht.propertyName!=="opacity"||(wn(!1),Pe(null),W?.())},style:{...G,...Rt.tooltipStyles,opacity:pt!==void 0&&vt?pt:void 0},ref:bt},mt,bn.createElement(m,{className:fy("react-tooltip-arrow",ol.arrow,mm.arrow,n,T&&ol.noArrow),style:{...Rt.tooltipArrowStyles,background:gt?`linear-gradient(to right bottom, transparent 50%, ${gt} 50%)`:void 0,"--rt-arrow-size":`${ct}px`},ref:Ft})):null},pO=({content:a})=>bn.createElement("span",{dangerouslySetInnerHTML:{__html:a}}),gO=bn.forwardRef((({id:a,anchorId:t,anchorSelect:e,content:n,html:s,render:o,className:l,classNameArrow:c,variant:h="dark",place:d="top",offset:p=10,wrapper:g="div",children:v=null,events:m=["hover"],openOnClick:w=!1,positionStrategy:_="absolute",middlewares:S,delayShow:x=0,delayHide:T=0,float:C=!1,hidden:D=!1,noArrow:R=!1,clickable:P=!1,closeOnEsc:O=!1,closeOnScroll:L=!1,closeOnResize:F=!1,openEvents:X,closeEvents:G,globalCloseEvents:rt,imperativeModeOnly:tt=!1,style:W,position:$,isOpen:k,defaultIsOpen:z=!1,disableStyleInjection:I=!1,border:Q,opacity:ot,arrowColor:B,arrowSize:j,setIsOpen:K,afterShow:nt,afterHide:pt,disableTooltip:gt,role:ct="tooltip"},Et)=>{const[Tt,bt]=M.useState(n),[Ft,zt]=M.useState(s),[Ot,kt]=M.useState(d),[Rt,me]=M.useState(h),[Zt,Oe]=M.useState(p),[_n,wn]=M.useState(x),[ce,Pe]=M.useState(T),[os,Ae]=M.useState(C),[ls,Je]=M.useState(D),[ke,Be]=M.useState(g),[Sn,xn]=M.useState(m),[Ss,Rr]=M.useState(_),[$n,Ie]=M.useState(null),[pe,ue]=M.useState(null),Ys=M.useRef(null),mi=M.useRef(I),{anchorRefs:zn,activeAnchor:Fn}=C1(a),Ge=H=>H?.getAttributeNames().reduce(((ut,Y)=>{var st;return Y.startsWith("data-tooltip-")&&(ut[Y.replace(/^data-tooltip-/,"")]=(st=H?.getAttribute(Y))!==null&&st!==void 0?st:null),ut}),{}),jn=H=>{const ut={place:Y=>{var st;kt((st=Y)!==null&&st!==void 0?st:d)},content:Y=>{bt(Y??n)},html:Y=>{zt(Y??s)},variant:Y=>{var st;me((st=Y)!==null&&st!==void 0?st:h)},offset:Y=>{Oe(Y===null?p:Number(Y))},wrapper:Y=>{var st;Be((st=Y)!==null&&st!==void 0?st:g)},events:Y=>{const st=Y?.split(" ");xn(st??m)},"position-strategy":Y=>{var st;Rr((st=Y)!==null&&st!==void 0?st:_)},"delay-show":Y=>{wn(Y===null?x:Number(Y))},"delay-hide":Y=>{Pe(Y===null?T:Number(Y))},float:Y=>{Ae(Y===null?C:Y==="true")},hidden:Y=>{Je(Y===null?D:Y==="true")},"class-name":Y=>{Ie(Y)}};Object.values(ut).forEach((Y=>Y(null))),Object.entries(H).forEach((([Y,st])=>{var mt;(mt=ut[Y])===null||mt===void 0||mt.call(ut,st)}))};M.useEffect((()=>{bt(n)}),[n]),M.useEffect((()=>{zt(s)}),[s]),M.useEffect((()=>{kt(d)}),[d]),M.useEffect((()=>{me(h)}),[h]),M.useEffect((()=>{Oe(p)}),[p]),M.useEffect((()=>{wn(x)}),[x]),M.useEffect((()=>{Pe(T)}),[T]),M.useEffect((()=>{Ae(C)}),[C]),M.useEffect((()=>{Je(D)}),[D]),M.useEffect((()=>{Rr(_)}),[_]),M.useEffect((()=>{mi.current!==I&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")}),[I]),M.useEffect((()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:I==="core",disableBase:I}}))}),[]),M.useEffect((()=>{var H;const ut=new Set(zn);let Y=e;if(!Y&&a&&(Y=`[data-tooltip-id='${a.replace(/'/g,"\\'")}']`),Y)try{document.querySelectorAll(Y).forEach((ft=>{ut.add({current:ft})}))}catch{console.warn(`[react-tooltip] "${Y}" is not a valid CSS selector`)}const st=document.querySelector(`[id='${t}']`);if(st&&ut.add({current:st}),!ut.size)return()=>null;const mt=(H=pe??st)!==null&&H!==void 0?H:Fn.current,vt=new MutationObserver((ft=>{ft.forEach((yt=>{var _t;if(!mt||yt.type!=="attributes"||!(!((_t=yt.attributeName)===null||_t===void 0)&&_t.startsWith("data-tooltip-")))return;const Bt=Ge(mt);jn(Bt)}))})),ht={attributes:!0,childList:!1,subtree:!1};if(mt){const ft=Ge(mt);jn(ft),vt.observe(mt,ht)}return()=>{vt.disconnect()}}),[zn,Fn,pe,t,e]),M.useEffect((()=>{W?.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),Q&&!LS("border",`${Q}`)&&console.warn(`[react-tooltip] "${Q}" is not a valid \`border\`.`),W?.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),ot&&!LS("opacity",`${ot}`)&&console.warn(`[react-tooltip] "${ot}" is not a valid \`opacity\`.`)}),[]);let Rn=v;const yi=M.useRef(null);if(o){const H=o({content:pe?.getAttribute("data-tooltip-content")||Tt||null,activeAnchor:pe});Rn=H?bn.createElement("div",{ref:yi,className:"react-tooltip-content-wrapper"},H):null}else Tt&&(Rn=Tt);Ft&&(Rn=bn.createElement(pO,{content:Ft}));const xt={forwardRef:Et,id:a,anchorId:t,anchorSelect:e,className:fy(l,$n),classNameArrow:c,content:Rn,contentWrapperRef:yi,place:Ot,variant:Rt,offset:Zt,wrapper:ke,events:Sn,openOnClick:w,positionStrategy:Ss,middlewares:S,delayShow:_n,delayHide:ce,float:os,hidden:ls,noArrow:R,clickable:P,closeOnEsc:O,closeOnScroll:L,closeOnResize:F,openEvents:X,closeEvents:G,globalCloseEvents:rt,imperativeModeOnly:tt,style:W,position:$,isOpen:k,defaultIsOpen:z,border:Q,opacity:ot,arrowColor:B,arrowSize:j,setIsOpen:K,afterShow:nt,afterHide:pt,disableTooltip:gt,activeAnchor:pe,previousActiveAnchor:Ys.current,setActiveAnchor:H=>{ue((ut=>(H?.isSameNode(ut)||(Ys.current=ut),H)))},role:ct};return bn.createElement(fO,{...xt})}));typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",(a=>{a.detail.disableCore||kS({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s;--rt-arrow-size:8px}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit;z-index:-1}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),a.detail.disableBase||kS({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:var(--rt-arrow-size);height:var(--rt-arrow-size)}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})}));const mO=[{id:1,name:"Projects",type:"finder"},{id:3,name:"Contact",type:"contact"},{id:4,name:"Resume",type:"resume"}],yO=[{id:1,img:"/icons/wifi.svg"},{id:2,img:"/icons/search.svg"},{id:3,img:"/icons/user.svg"},{id:4,img:"/icons/mode.svg"}],vO=[{id:"finder",name:"Portfolio",icon:"finder.png",canOpen:!0,showOnMobile:!0},{id:"safari",name:"Articles",icon:"safari.png",canOpen:!0,showOnMobile:!0},{id:"photos",name:"Gallery",icon:"photos.png",canOpen:!0,showOnMobile:!0},{id:"contact",name:"Contact",icon:"contact.png",canOpen:!0,showOnMobile:!0},{id:"terminal",name:"Skills",icon:"terminal.png",canOpen:!0,showOnMobile:!1},{id:"trash",name:"Archive",icon:"trash.png",canOpen:!1,showOnMobile:!1}],M1=[{id:1,date:"Sep 2, 2025",title:"TypeScript Explained: What It Is, Why It Matters, and How to Master It",image:"/images/blog1.png",link:"https://jsmastery.com/blog/typescript-explained-what-it-is-why-it-matters-and-how-to-master-it"},{id:2,date:"Aug 28, 2025",title:"The Ultimate Guide to Mastering Three.js for 3D Development",image:"/images/blog2.png",link:"https://jsmastery.com/blog/the-ultimate-guide-to-mastering-three-js-for-3d-development"},{id:3,date:"Aug 15, 2025",title:"The Ultimate Guide to Mastering GSAP Animations",image:"/images/blog3.png",link:"https://jsmastery.com/blog/the-ultimate-guide-to-mastering-gsap-animations"}],R1=[{category:"Frontend",items:["React.js","Next.js","TypeScript"]},{category:"Mobile",items:["React Native","Expo"]},{category:"Styling",items:["Tailwind CSS","Sass","CSS"]},{category:"Backend",items:["Node.js","Express","NestJS","Hono"]},{category:"Database",items:["MongoDB","PostgreSQL"]},{category:"Dev Tools",items:["Git","GitHub","Docker"]}],D1=[{id:1,text:"Github",icon:"/icons/github.svg",bg:"#f4656b",link:"https://github.com/JavaScript-Mastery-Pro"},{id:2,text:"Platform",icon:"/icons/atom.svg",bg:"#4bcb63",link:"https://jsmastery.com/"},{id:3,text:"Twitter/X",icon:"/icons/twitter.svg",bg:"#ff866b",link:"https://x.com/jsmasterypro"},{id:4,text:"LinkedIn",icon:"/icons/linkedin.svg",bg:"#05b6f6",link:"https://www.linkedin.com/company/javascriptmastery/posts/?feedView=all"}],bO=[{id:1,icon:"/icons/gicon1.svg",title:"Library"},{id:2,icon:"/icons/gicon2.svg",title:"Memories"},{id:3,icon:"/icons/file.svg",title:"Places"},{id:4,icon:"/icons/gicon4.svg",title:"People"},{id:5,icon:"/icons/gicon5.svg",title:"Favorites"}],O1=[{id:1,img:"/images/gal1.png"},{id:2,img:"/images/gal2.png"},{id:3,img:"/images/gal3.png"},{id:4,img:"/images/gal4.png"}],_O={id:1,type:"work",name:"Work",icon:"/icons/work.svg",kind:"folder",children:[{id:5,name:"Nike Ecommerce Website Application",icon:"/images/folder.png",kind:"folder",position:"top-10 left-5",windowPosition:"top-[5vh] left-5",children:[{id:1,name:"Nike Project.txt",icon:"/images/txt.png",kind:"file",fileType:"txt",position:"top-5 left-10",description:["The Nike eCommerce website is a sleek and modern platform designed for shopping the latest Nike collections.","Instead of a simple online store, it delivers an immersive experience with bold visuals, interactive product displays, and smooth navigation.","Think of it like walking into a flagship Nike storebut right from your phone or laptop.","It's built with Next.js and Tailwind, ensuring fast performance, responsive design, and a clean, premium look."]},{id:2,name:"nike.com",icon:"/images/safari.png",kind:"file",fileType:"url",href:"https://youtu.be/fZdTYswuZjU?si=Awjl-pIst9e09_UU",position:"top-10 right-20"},{id:4,name:"nike.png",icon:"/images/image.png",kind:"file",fileType:"img",position:"top-52 right-80",imageUrl:"/images/project-1.png"},{id:5,name:"Design.fig",icon:"/images/plain.png",kind:"file",fileType:"fig",href:"https://google.com",position:"top-60 right-20"}]},{id:6,name:"AI Resume Analyzer",icon:"/images/folder.png",kind:"folder",position:"top-52 right-80",windowPosition:"top-[20vh] left-7",children:[{id:1,name:"AI Resume Analyzer Project.txt",icon:"/images/txt.png",kind:"file",fileType:"txt",position:"top-5 right-10",description:["AI Resume Analyzer is a smart tool that helps you perfect your resume with instant feedback.","Instead of guessing what recruiters want, you get AI-powered insights on keywords, formatting, and overall impact.","Think of it like having a career coachpointing out strengths, fixing weaknesses, and boosting your chances of landing interviews.","It's built with Next.js and Tailwind, so it runs fast, looks professional, and works seamlessly on any device."]},{id:2,name:"ai-resume-analyzer.com",icon:"/images/safari.png",kind:"file",fileType:"url",href:"https://youtu.be/iYOz165wGkQ?si=R1hs8Legl200m0Cl",position:"top-20 left-20"},{id:4,name:"ai-resume-analyzer.png",icon:"/images/image.png",kind:"file",fileType:"img",position:"top-52 left-80",imageUrl:"/images/project-2.png"},{id:5,name:"Design.fig",icon:"/images/plain.png",kind:"file",fileType:"fig",href:"https://google.com",position:"top-60 left-5"}]},{id:7,name:"Food Delivery App",icon:"/images/folder.png",kind:"folder",position:"top-10 left-80",windowPosition:"top-[33vh] left-7",children:[{id:1,name:"Food Delivery App Project.txt",icon:"/images/txt.png",kind:"file",fileType:"txt",position:"top-5 left-10",description:["Our Food Delivery App is a fast and convenient way to order meals from your favorite restaurants.","Instead of making calls or waiting in line, you can browse menus, customize orders, and track deliveries in real time.","Think of it like having your favorite restaurants in your pocketready to deliver anytime, anywhere.","Its built with React Native, so it works smoothly on both iOS and Android with a clean, modern design."]},{id:2,name:"food-delivery-app.com",icon:"/images/safari.png",kind:"file",fileType:"url",href:"https://youtu.be/LKrX390fJMw?si=cExkuVhf2DTV9G2-",position:"top-10 right-20"},{id:4,name:"food-delivery-app.png",icon:"/images/image.png",kind:"file",fileType:"img",position:"top-52 right-80",imageUrl:"/images/project-3.png"},{id:5,name:"Design.fig",icon:"/images/plain.png",kind:"file",fileType:"fig",href:"https://google.com",position:"top-60 right-20"}]}]},wO={id:2,type:"about",name:"About me",icon:"/icons/info.svg",kind:"folder",children:[{id:1,name:"me.png",icon:"/images/image.png",kind:"file",fileType:"img",position:"top-10 left-5",imageUrl:"/images/adrian.jpg"},{id:2,name:"casual-me.png",icon:"/images/image.png",kind:"file",fileType:"img",position:"top-28 right-72",imageUrl:"/images/adrian-2.jpg"},{id:3,name:"conference-me.png",icon:"/images/image.png",kind:"file",fileType:"img",position:"top-52 left-80",imageUrl:"/images/adrian-3.jpeg"},{id:4,name:"about-me.txt",icon:"/images/txt.png",kind:"file",fileType:"txt",position:"top-60 left-5",subtitle:"Meet the Developer Behind the Code",image:"/images/adrian.jpg",description:["Hey! Im Adrian , a web developer who enjoys building sleek, interactive websites that actually work well.","I specialize in JavaScript, React, and Next.jsand I love making things feel smooth, fast, and just a little bit delightful.","Im big on clean UI, good UX, and writing code that doesnt need a search party to debug.","Outside of dev work, you'll find me tweaking layouts at 2AM, sipping overpriced coffee, or impulse-buying gadgets I absolutely convinced myself I needed "]}]},SO={id:3,type:"resume",name:"Resume",icon:"/icons/file.svg",kind:"folder",children:[{id:1,name:"Resume.pdf",icon:"/images/pdf.png",kind:"file",fileType:"pdf"}]},xO={id:4,type:"trash",name:"Trash",icon:"/icons/trash.svg",kind:"folder",children:[{id:1,name:"trash1.png",icon:"/images/image.png",kind:"file",fileType:"img",position:"top-10 left-10",imageUrl:"/images/trash-1.png"},{id:2,name:"trash2.png",icon:"/images/image.png",kind:"file",fileType:"img",position:"top-40 left-80",imageUrl:"/images/trash-2.png"}]},xu={work:_O,about:wO,resume:SO,trash:xO},Os=1e3,AO={finder:{isOpen:!1,zIndex:Os,data:null},contact:{isOpen:!1,zIndex:Os,data:null},resume:{isOpen:!1,zIndex:Os,data:null},safari:{isOpen:!1,zIndex:Os,data:null},photos:{isOpen:!1,zIndex:Os,data:null},terminal:{isOpen:!1,zIndex:Os,data:null},txtfile:{isOpen:!1,zIndex:Os,data:null},imgfile:{isOpen:!1,zIndex:Os,data:null}},zS=a=>{let t;const e=new Set,n=(d,p)=>{const g=typeof d=="function"?d(t):d;if(!Object.is(g,t)){const v=t;t=p??(typeof g!="object"||g===null)?g:Object.assign({},t,g),e.forEach(m=>m(t,v))}},s=()=>t,c={setState:n,getState:s,getInitialState:()=>h,subscribe:d=>(e.add(d),()=>e.delete(d))},h=t=a(n,s,c);return c},EO=(a=>a?zS(a):zS),TO=a=>a;function CO(a,t=TO){const e=bn.useSyncExternalStore(a.subscribe,bn.useCallback(()=>t(a.getState()),[a,t]),bn.useCallback(()=>t(a.getInitialState()),[a,t]));return bn.useDebugValue(e),e}const FS=a=>{const t=EO(a),e=n=>CO(t,n);return Object.assign(e,t),e},k1=(a=>a?FS(a):FS);var N1=Symbol.for("immer-nothing"),jS=Symbol.for("immer-draftable"),Ii=Symbol.for("immer-state");function ms(a,...t){throw new Error(`[Immer] minified error nr: ${a}. Full error at: https://bit.ly/3cXEKWf`)}var Au=Object.getPrototypeOf;function Hl(a){return!!a&&!!a[Ii]}function po(a){return a?L1(a)||Array.isArray(a)||!!a[jS]||!!a.constructor?.[jS]||ju(a)||Mf(a):!1}var MO=Object.prototype.constructor.toString(),US=new WeakMap;function L1(a){if(!a||typeof a!="object")return!1;const t=Object.getPrototypeOf(a);if(t===null||t===Object.prototype)return!0;const e=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(e===Object)return!0;if(typeof e!="function")return!1;let n=US.get(e);return n===void 0&&(n=Function.toString.call(e),US.set(e,n)),n===MO}function af(a,t,e=!0){Cf(a)===0?(e?Reflect.ownKeys(a):Object.keys(a)).forEach(s=>{t(s,a[s],a)}):a.forEach((n,s)=>t(s,n,a))}function Cf(a){const t=a[Ii];return t?t.type_:Array.isArray(a)?1:ju(a)?2:Mf(a)?3:0}function gy(a,t){return Cf(a)===2?a.has(t):Object.prototype.hasOwnProperty.call(a,t)}function P1(a,t,e){const n=Cf(a);n===2?a.set(t,e):n===3?a.add(e):a[t]=e}function RO(a,t){return a===t?a!==0||1/a===1/t:a!==a&&t!==t}function ju(a){return a instanceof Map}function Mf(a){return a instanceof Set}function Ka(a){return a.copy_||a.base_}function my(a,t){if(ju(a))return new Map(a);if(Mf(a))return new Set(a);if(Array.isArray(a))return Array.prototype.slice.call(a);const e=L1(a);if(t===!0||t==="class_only"&&!e){const n=Object.getOwnPropertyDescriptors(a);delete n[Ii];let s=Reflect.ownKeys(n);for(let o=0;o<s.length;o++){const l=s[o],c=n[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(n[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:a[l]})}return Object.create(Au(a),n)}else{const n=Au(a);if(n!==null&&e)return{...a};const s=Object.create(n);return Object.assign(s,a)}}function yv(a,t=!1){return Rf(a)||Hl(a)||!po(a)||(Cf(a)>1&&Object.defineProperties(a,{set:yd,add:yd,clear:yd,delete:yd}),Object.freeze(a),t&&Object.values(a).forEach(e=>yv(e,!0))),a}function DO(){ms(2)}var yd={value:DO};function Rf(a){return a===null||typeof a!="object"?!0:Object.isFrozen(a)}var OO={};function go(a){const t=OO[a];return t||ms(0,a),t}var Eu;function B1(){return Eu}function kO(a,t){return{drafts_:[],parent_:a,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function HS(a,t){t&&(go("Patches"),a.patches_=[],a.inversePatches_=[],a.patchListener_=t)}function yy(a){vy(a),a.drafts_.forEach(NO),a.drafts_=null}function vy(a){a===Eu&&(Eu=a.parent_)}function GS(a){return Eu=kO(Eu,a)}function NO(a){const t=a[Ii];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function VS(a,t){t.unfinalizedDrafts_=t.drafts_.length;const e=t.drafts_[0];return a!==void 0&&a!==e?(e[Ii].modified_&&(yy(t),ms(4)),po(a)&&(a=of(t,a),t.parent_||lf(t,a)),t.patches_&&go("Patches").generateReplacementPatches_(e[Ii].base_,a,t.patches_,t.inversePatches_)):a=of(t,e,[]),yy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),a!==N1?a:void 0}function of(a,t,e){if(Rf(t))return t;const n=a.immer_.shouldUseStrictIteration(),s=t[Ii];if(!s)return af(t,(o,l)=>YS(a,s,t,o,l,e),n),t;if(s.scope_!==a)return t;if(!s.modified_)return lf(a,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const o=s.copy_;let l=o,c=!1;s.type_===3&&(l=new Set(o),o.clear(),c=!0),af(l,(h,d)=>YS(a,s,o,h,d,e,c),n),lf(a,o,!1),e&&a.patches_&&go("Patches").generatePatches_(s,e,a.patches_,a.inversePatches_)}return s.copy_}function YS(a,t,e,n,s,o,l){if(s==null||typeof s!="object"&&!l)return;const c=Rf(s);if(!(c&&!l)){if(Hl(s)){const h=o&&t&&t.type_!==3&&!gy(t.assigned_,n)?o.concat(n):void 0,d=of(a,s,h);if(P1(e,n,d),Hl(d))a.canAutoFreeze_=!1;else return}else l&&e.add(s);if(po(s)&&!c){if(!a.immer_.autoFreeze_&&a.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===s&&c)return;of(a,s),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(ju(e)?e.has(n):Object.prototype.propertyIsEnumerable.call(e,n))&&lf(a,s)}}}function lf(a,t,e=!1){!a.parent_&&a.immer_.autoFreeze_&&a.canAutoFreeze_&&yv(t,e)}function LO(a,t){const e=Array.isArray(a),n={type_:e?1:0,scope_:t?t.scope_:B1(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:a,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,o=vv;e&&(s=[n],o=Tu);const{revoke:l,proxy:c}=Proxy.revocable(s,o);return n.draft_=c,n.revoke_=l,c}var vv={get(a,t){if(t===Ii)return a;const e=Ka(a);if(!gy(e,t))return PO(a,e,t);const n=e[t];return a.finalized_||!po(n)?n:n===ym(a.base_,t)?(vm(a),a.copy_[t]=_y(n,a)):n},has(a,t){return t in Ka(a)},ownKeys(a){return Reflect.ownKeys(Ka(a))},set(a,t,e){const n=I1(Ka(a),t);if(n?.set)return n.set.call(a.draft_,e),!0;if(!a.modified_){const s=ym(Ka(a),t),o=s?.[Ii];if(o&&o.base_===e)return a.copy_[t]=e,a.assigned_[t]=!1,!0;if(RO(e,s)&&(e!==void 0||gy(a.base_,t)))return!0;vm(a),by(a)}return a.copy_[t]===e&&(e!==void 0||t in a.copy_)||Number.isNaN(e)&&Number.isNaN(a.copy_[t])||(a.copy_[t]=e,a.assigned_[t]=!0),!0},deleteProperty(a,t){return ym(a.base_,t)!==void 0||t in a.base_?(a.assigned_[t]=!1,vm(a),by(a)):delete a.assigned_[t],a.copy_&&delete a.copy_[t],!0},getOwnPropertyDescriptor(a,t){const e=Ka(a),n=Reflect.getOwnPropertyDescriptor(e,t);return n&&{writable:!0,configurable:a.type_!==1||t!=="length",enumerable:n.enumerable,value:e[t]}},defineProperty(){ms(11)},getPrototypeOf(a){return Au(a.base_)},setPrototypeOf(){ms(12)}},Tu={};af(vv,(a,t)=>{Tu[a]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Tu.deleteProperty=function(a,t){return Tu.set.call(this,a,t,void 0)};Tu.set=function(a,t,e){return vv.set.call(this,a[0],t,e,a[0])};function ym(a,t){const e=a[Ii];return(e?Ka(e):a)[t]}function PO(a,t,e){const n=I1(t,e);return n?"value"in n?n.value:n.get?.call(a.draft_):void 0}function I1(a,t){if(!(t in a))return;let e=Au(a);for(;e;){const n=Object.getOwnPropertyDescriptor(e,t);if(n)return n;e=Au(e)}}function by(a){a.modified_||(a.modified_=!0,a.parent_&&by(a.parent_))}function vm(a){a.copy_||(a.copy_=my(a.base_,a.scope_.immer_.useStrictShallowCopy_))}var BO=class{constructor(a){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,e,n)=>{if(typeof t=="function"&&typeof e!="function"){const o=e;e=t;const l=this;return function(h=o,...d){return l.produce(h,p=>e.call(this,p,...d))}}typeof e!="function"&&ms(6),n!==void 0&&typeof n!="function"&&ms(7);let s;if(po(t)){const o=GS(this),l=_y(t,void 0);let c=!0;try{s=e(l),c=!1}finally{c?yy(o):vy(o)}return HS(o,n),VS(s,o)}else if(!t||typeof t!="object"){if(s=e(t),s===void 0&&(s=t),s===N1&&(s=void 0),this.autoFreeze_&&yv(s,!0),n){const o=[],l=[];go("Patches").generateReplacementPatches_(t,s,o,l),n(o,l)}return s}else ms(1,t)},this.produceWithPatches=(t,e)=>{if(typeof t=="function")return(l,...c)=>this.produceWithPatches(l,h=>t(h,...c));let n,s;return[this.produce(t,e,(l,c)=>{n=l,s=c}),n,s]},typeof a?.autoFreeze=="boolean"&&this.setAutoFreeze(a.autoFreeze),typeof a?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(a.useStrictShallowCopy),typeof a?.useStrictIteration=="boolean"&&this.setUseStrictIteration(a.useStrictIteration)}createDraft(a){po(a)||ms(8),Hl(a)&&(a=IO(a));const t=GS(this),e=_y(a,void 0);return e[Ii].isManual_=!0,vy(t),e}finishDraft(a,t){const e=a&&a[Ii];(!e||!e.isManual_)&&ms(9);const{scope_:n}=e;return HS(n,t),VS(void 0,n)}setAutoFreeze(a){this.autoFreeze_=a}setUseStrictShallowCopy(a){this.useStrictShallowCopy_=a}setUseStrictIteration(a){this.useStrictIteration_=a}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(a,t){let e;for(e=t.length-1;e>=0;e--){const s=t[e];if(s.path.length===0&&s.op==="replace"){a=s.value;break}}e>-1&&(t=t.slice(e+1));const n=go("Patches").applyPatches_;return Hl(a)?n(a,t):this.produce(a,s=>n(s,t))}};function _y(a,t){const e=ju(a)?go("MapSet").proxyMap_(a,t):Mf(a)?go("MapSet").proxySet_(a,t):LO(a,t);return(t?t.scope_:B1()).drafts_.push(e),e}function IO(a){return Hl(a)||ms(10,a),z1(a)}function z1(a){if(!po(a)||Rf(a))return a;const t=a[Ii];let e,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,e=my(a,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else e=my(a,!0);return af(e,(s,o)=>{P1(e,s,z1(o))},n),t&&(t.finalized_=!1),e}var zO=new BO,FO=zO.produce;const jO=a=>(t,e,n)=>(n.setState=(s,o,...l)=>{const c=typeof s=="function"?FO(s):s;return t(c,o,...l)},a(n.setState,e,n)),F1=jO,qn=k1(F1(a=>({windows:AO,nextZIndex:Os+1,openWindow:(t,e=null)=>a(n=>{const s=n.windows[t];s.isOpen=!0,s.zIndex=n.nextZIndex,s.data=e??s.data,n.nextZIndex++}),closeWindow:t=>a(e=>{const n=e.windows[t];n.isOpen=!1,n.zIndex=Os,n.data=null}),focusWindow:t=>a(e=>{const n=e.windows[t];n.zIndex=e.nextZIndex++})})));function j1(a){var t,e,n="";if(typeof a=="string"||typeof a=="number")n+=a;else if(typeof a=="object")if(Array.isArray(a)){var s=a.length;for(t=0;t<s;t++)a[t]&&(e=j1(a[t]))&&(n&&(n+=" "),n+=e)}else for(e in a)a[e]&&(n&&(n+=" "),n+=e);return n}function rs(){for(var a,t,e=0,n="",s=arguments.length;e<s;e++)(a=arguments[e])&&(t=j1(a))&&(n&&(n+=" "),n+=t);return n}const UO=()=>{const{openWindow:a,closeWindow:t,windows:e}=qn(),n=M.useRef(null);ho(()=>{const o=n.current;if(!o)return;const l=o.querySelectorAll(".dock-icon"),c=p=>{const{left:g}=o.getBoundingClientRect();l.forEach(v=>{const{left:m,width:w}=v.getBoundingClientRect(),_=m-g+w/2,S=Math.abs(p-_),x=Math.exp(-Math.pow(S,2.5)/2e4);ga.to(v,{scale:1+.25*x,y:-15*x,duration:.2,ease:"power1.out"})})},h=p=>{const{left:g}=o.getBoundingClientRect();c(p.clientX-g)},d=()=>l.forEach(p=>ga.to(p,{scale:1,y:0,duration:.3,ease:"power1.out"}));return o.addEventListener("mousemove",h),o.addEventListener("mouseleave",d),()=>{o.removeEventListener("mousemove",h),o.removeEventListener("mouseleave",d)}},[]);const s=o=>{if(!o.canOpen)return;e[o.id].isOpen?t(o.id):a(o.id)};return E.jsx("section",{id:"dock",children:E.jsxs("div",{ref:n,className:"dock-container",children:[vO.map(({id:o,name:l,icon:c,canOpen:h,showOnMobile:d})=>E.jsx("ul",{className:rs("relative flex justify-center",!d&&"max-sm:hidden"),children:E.jsx("li",{children:E.jsx("button",{type:"button",className:"dock-icon","aria-label":l,onClick:()=>s({id:o,canOpen:h}),"data-tooltip-id":"dock-tooltip","data-tooltip-content":l,"data-tooltip-delay-show":150,disabled:!h,children:E.jsx("img",{src:`/images/${c}`,alt:l,loading:"lazy",className:h?"":"opacity-60"})})})},o??l)),E.jsx(gO,{id:"dock-tooltip",place:"top",className:"tooltip"})]})})};var br,lo,bv,Df,Zc,jd,cf,cu,ys="transform",wy=ys+"Origin",U1,H1=function(t){var e=t.ownerDocument||t;for(!(ys in t.style)&&("msTransform"in t.style)&&(ys="msTransform",wy=ys+"Origin");e.parentNode&&(e=e.parentNode););if(lo=window,cf=new mo,e){br=e,bv=e.documentElement,Df=e.body,cu=br.createElementNS("http://www.w3.org/2000/svg","g"),cu.style.transform="none";var n=e.createElement("div"),s=e.createElement("div"),o=e&&(e.body||e.firstElementChild);o&&o.appendChild&&(o.appendChild(n),n.appendChild(s),n.setAttribute("style","position:static;transform:translate3d(0,0,1px)"),U1=s.offsetParent!==n,o.removeChild(n))}return e},HO=function(t){for(var e,n;t&&t!==Df;)n=t._gsap,n&&n.uncache&&n.get(t,"x"),n&&!n.scaleX&&!n.scaleY&&n.renderTransform&&(n.scaleX=n.scaleY=1e-4,n.renderTransform(1,n),e?e.push(n):e=[n]),t=t.parentNode;return e},G1=[],V1=[],GO=function(){return lo.pageYOffset||br.scrollTop||bv.scrollTop||Df.scrollTop||0},VO=function(){return lo.pageXOffset||br.scrollLeft||bv.scrollLeft||Df.scrollLeft||0},_v=function(t){return t.ownerSVGElement||((t.tagName+"").toLowerCase()==="svg"?t:null)},YO=function a(t){if(lo.getComputedStyle(t).position==="fixed")return!0;if(t=t.parentNode,t&&t.nodeType===1)return a(t)},bm=function a(t,e){if(t.parentNode&&(br||H1(t))){var n=_v(t),s=n?n.getAttribute("xmlns")||"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",o=n?e?"rect":"g":"div",l=e!==2?0:100,c=e===3?100:0,h="position:absolute;display:block;pointer-events:none;margin:0;padding:0;",d=br.createElementNS?br.createElementNS(s.replace(/^https/,"http"),o):br.createElement(o);return e&&(n?(jd||(jd=a(t)),d.setAttribute("width",.01),d.setAttribute("height",.01),d.setAttribute("transform","translate("+l+","+c+")"),jd.appendChild(d)):(Zc||(Zc=a(t),Zc.style.cssText=h),d.style.cssText=h+"width:0.1px;height:0.1px;top:"+c+"px;left:"+l+"px",Zc.appendChild(d))),d}throw"Need document and parent."},XO=function(t){for(var e=new mo,n=0;n<t.numberOfItems;n++)e.multiply(t.getItem(n).matrix);return e},qO=function(t){var e=t.getCTM(),n;return e||(n=t.style[ys],t.style[ys]="none",t.appendChild(cu),e=cu.getCTM(),t.removeChild(cu),n?t.style[ys]=n:t.style.removeProperty(ys.replace(/([A-Z])/g,"-$1").toLowerCase())),e||cf.clone()},$O=function(t,e){var n=_v(t),s=t===n,o=n?G1:V1,l=t.parentNode,c=l&&!n&&l.shadowRoot&&l.shadowRoot.appendChild?l.shadowRoot:l,h,d,p,g,v,m;if(t===lo)return t;if(o.length||o.push(bm(t,1),bm(t,2),bm(t,3)),h=n?jd:Zc,n)s?(p=qO(t),g=-p.e/p.a,v=-p.f/p.d,d=cf):t.getBBox?(p=t.getBBox(),d=t.transform?t.transform.baseVal:{},d=d.numberOfItems?d.numberOfItems>1?XO(d):d.getItem(0).matrix:cf,g=d.a*p.x+d.c*p.y,v=d.b*p.x+d.d*p.y):(d=new mo,g=v=0),(s?n:l).appendChild(h),h.setAttribute("transform","matrix("+d.a+","+d.b+","+d.c+","+d.d+","+(d.e+g)+","+(d.f+v)+")");else{if(g=v=0,U1)for(d=t.offsetParent,p=t;p&&(p=p.parentNode)&&p!==d&&p.parentNode;)(lo.getComputedStyle(p)[ys]+"").length>4&&(g=p.offsetLeft,v=p.offsetTop,p=0);if(m=lo.getComputedStyle(t),m.position!=="absolute"&&m.position!=="fixed")for(d=t.offsetParent;l&&l!==d;)g+=l.scrollLeft||0,v+=l.scrollTop||0,l=l.parentNode;p=h.style,p.top=t.offsetTop-v+"px",p.left=t.offsetLeft-g+"px",p[ys]=m[ys],p[wy]=m[wy],p.position=m.position==="fixed"?"fixed":"absolute",c.appendChild(h)}return h},_m=function(t,e,n,s,o,l,c){return t.a=e,t.b=n,t.c=s,t.d=o,t.e=l,t.f=c,t},mo=(function(){function a(e,n,s,o,l,c){e===void 0&&(e=1),n===void 0&&(n=0),s===void 0&&(s=0),o===void 0&&(o=1),l===void 0&&(l=0),c===void 0&&(c=0),_m(this,e,n,s,o,l,c)}var t=a.prototype;return t.inverse=function(){var n=this.a,s=this.b,o=this.c,l=this.d,c=this.e,h=this.f,d=n*l-s*o||1e-10;return _m(this,l/d,-s/d,-o/d,n/d,(o*h-l*c)/d,-(n*h-s*c)/d)},t.multiply=function(n){var s=this.a,o=this.b,l=this.c,c=this.d,h=this.e,d=this.f,p=n.a,g=n.c,v=n.b,m=n.d,w=n.e,_=n.f;return _m(this,p*s+v*l,p*o+v*c,g*s+m*l,g*o+m*c,h+w*s+_*l,d+w*o+_*c)},t.clone=function(){return new a(this.a,this.b,this.c,this.d,this.e,this.f)},t.equals=function(n){var s=this.a,o=this.b,l=this.c,c=this.d,h=this.e,d=this.f;return s===n.a&&o===n.b&&l===n.c&&c===n.d&&h===n.e&&d===n.f},t.apply=function(n,s){s===void 0&&(s={});var o=n.x,l=n.y,c=this.a,h=this.b,d=this.c,p=this.d,g=this.e,v=this.f;return s.x=o*c+l*d+g||0,s.y=o*h+l*p+v||0,s},a})();function Qa(a,t,e,n){if(!a||!a.parentNode||(br||H1(a)).documentElement===a)return new mo;var s=HO(a),o=_v(a),l=o?G1:V1,c=$O(a),h=l[0].getBoundingClientRect(),d=l[1].getBoundingClientRect(),p=l[2].getBoundingClientRect(),g=c.parentNode,v=YO(a),m=new mo((d.left-h.left)/100,(d.top-h.top)/100,(p.left-h.left)/100,(p.top-h.top)/100,h.left+(v?0:VO()),h.top+(v?0:GO()));if(g.removeChild(c),s)for(h=s.length;h--;)d=s[h],d.scaleX=d.scaleY=0,d.renderTransform(1,d);return t?m.inverse():m}function XS(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function WO(a,t){a.prototype=Object.create(t.prototype),a.prototype.constructor=a,a.__proto__=t}var ae,Ce,Oi,vs,_r,wm,yr,Sy,Jc,ua,Y1,xy,Cu,wv,tu,fs,eu,Ud,X1,Ay,uf=0,q1=function(){return typeof window<"u"},$1=function(){return ae||q1()&&(ae=window.gsap)&&ae.registerPlugin&&ae},ra=function(t){return typeof t=="function"},uu=function(t){return typeof t=="object"},gs=function(t){return typeof t>"u"},Hd=function(){return!1},hu="transform",Ey="transformOrigin",ea=function(t){return Math.round(t*1e4)/1e4},Vc=Array.isArray,vd=function(t,e){var n=Oi.createElementNS?Oi.createElementNS("http://www.w3.org/1999/xhtml".replace(/^https/,"http"),t):Oi.createElement(t);return n.style?n:Oi.createElement(t)},qS=180/Math.PI,Ya=1e20,KO=new mo,na=Date.now||function(){return new Date().getTime()},co=[],El={},QO=0,ZO=/^(?:a|input|textarea|button|select)$/i,$S=0,ll={},fr={},W1=function(t,e){var n={},s;for(s in t)n[s]=e?t[s]*e:t[s];return n},JO=function(t,e){for(var n in e)n in t||(t[n]=e[n]);return t},WS=function a(t,e){for(var n=t.length,s;n--;)e?t[n].style.touchAction=e:t[n].style.removeProperty("touch-action"),s=t[n].children,s&&s.length&&a(s,e)},K1=function(){return co.forEach(function(t){return t()})},tk=function(t){co.push(t),co.length===1&&ae.ticker.add(K1)},KS=function(){return!co.length&&ae.ticker.remove(K1)},QS=function(t){for(var e=co.length;e--;)co[e]===t&&co.splice(e,1);ae.to(KS,{overwrite:!0,delay:15,duration:0,onComplete:KS,data:"_draggable"})},ek=function(t,e){for(var n in e)n in t||(t[n]=e[n]);return t},vn=function(t,e,n,s){if(t.addEventListener){var o=Cu[e];s=s||(Y1?{passive:!1}:null),t.addEventListener(o||e,n,s),o&&e!==o&&t.addEventListener(e,n,s)}},fn=function(t,e,n,s){if(t.removeEventListener){var o=Cu[e];t.removeEventListener(o||e,n,s),o&&e!==o&&t.removeEventListener(e,n,s)}},Ki=function(t){t.preventDefault&&t.preventDefault(),t.preventManipulation&&t.preventManipulation()},nk=function(t,e){for(var n=t.length;n--;)if(t[n].identifier===e)return!0},ik=function a(t){wv=t.touches&&uf<t.touches.length,fn(t.target,"touchend",a)},ZS=function(t){wv=t.touches&&uf<t.touches.length,vn(t.target,"touchend",ik)},Tl=function(t){return Ce.pageYOffset||t.scrollTop||t.documentElement.scrollTop||t.body.scrollTop||0},Cl=function(t){return Ce.pageXOffset||t.scrollLeft||t.documentElement.scrollLeft||t.body.scrollLeft||0},JS=function a(t,e){vn(t,"scroll",e),Gl(t.parentNode)||a(t.parentNode,e)},tx=function a(t,e){fn(t,"scroll",e),Gl(t.parentNode)||a(t.parentNode,e)},Gl=function(t){return!t||t===vs||t.nodeType===9||t===Oi.body||t===Ce||!t.nodeType||!t.parentNode},ex=function(t,e){var n=e==="x"?"Width":"Height",s="scroll"+n,o="client"+n;return Math.max(0,Gl(t)?Math.max(vs[s],_r[s])-(Ce["inner"+n]||vs[o]||_r[o]):t[s]-t[o])},Sm=function a(t,e){var n=ex(t,"x"),s=ex(t,"y");Gl(t)?t=fr:a(t.parentNode,e),t._gsMaxScrollX=n,t._gsMaxScrollY=s,e||(t._gsScrollX=t.scrollLeft||0,t._gsScrollY=t.scrollTop||0)},xm=function(t,e,n){var s=t.style;s&&(gs(s[e])&&(e=Jc(e,t)||e),n==null?s.removeProperty&&s.removeProperty(e.replace(/([A-Z])/g,"-$1").toLowerCase()):s[e]=n)},Mu=function(t){return Ce.getComputedStyle(t instanceof Element?t:t.host||(t.parentNode||{}).host||t)},Xa={},cl=function(t){if(t===Ce)return Xa.left=Xa.top=0,Xa.width=Xa.right=vs.clientWidth||t.innerWidth||_r.clientWidth||0,Xa.height=Xa.bottom=(t.innerHeight||0)-20<vs.clientHeight?vs.clientHeight:t.innerHeight||_r.clientHeight||0,Xa;var e=t.ownerDocument||Oi,n=gs(t.pageX)?!t.nodeType&&!gs(t.left)&&!gs(t.top)?t:ua(t)[0].getBoundingClientRect():{left:t.pageX-Cl(e),top:t.pageY-Tl(e),right:t.pageX-Cl(e)+1,bottom:t.pageY-Tl(e)+1};return gs(n.right)&&!gs(n.width)?(n.right=n.left+n.width,n.bottom=n.top+n.height):gs(n.width)&&(n={width:n.right-n.left,height:n.bottom-n.top,right:n.right,left:n.left,bottom:n.bottom,top:n.top}),n},nn=function(t,e,n){var s=t.vars,o=s[n],l=t._listeners[e],c;return ra(o)&&(c=o.apply(s.callbackScope||t,s[n+"Params"]||[t.pointerEvent])),l&&t.dispatchEvent(e)===!1&&(c=!1),c},nx=function(t,e){var n=ua(t)[0],s,o,l;return!n.nodeType&&n!==Ce?gs(t.left)?(o=t.min||t.minX||t.minRotation||0,s=t.min||t.minY||0,{left:o,top:s,width:(t.max||t.maxX||t.maxRotation||0)-o,height:(t.max||t.maxY||0)-s}):(l={x:0,y:0},{left:t.left-l.x,top:t.top-l.y,width:t.width,height:t.height}):sk(n,e)},Qi={},sk=function(t,e){e=ua(e)[0];var n=t.getBBox&&t.ownerSVGElement,s=t.ownerDocument||Oi,o,l,c,h,d,p,g,v,m,w,_,S,x;if(t===Ce)c=Tl(s),o=Cl(s),l=o+(s.documentElement.clientWidth||t.innerWidth||s.body.clientWidth||0),h=c+((t.innerHeight||0)-20<s.documentElement.clientHeight?s.documentElement.clientHeight:t.innerHeight||s.body.clientHeight||0);else{if(e===Ce||gs(e))return t.getBoundingClientRect();o=c=0,n?(w=t.getBBox(),_=w.width,S=w.height):(t.viewBox&&(w=t.viewBox.baseVal)&&(o=w.x||0,c=w.y||0,_=w.width,S=w.height),_||(x=Mu(t),w=x.boxSizing==="border-box",_=(parseFloat(x.width)||t.clientWidth||0)+(w?0:parseFloat(x.borderLeftWidth)+parseFloat(x.borderRightWidth)),S=(parseFloat(x.height)||t.clientHeight||0)+(w?0:parseFloat(x.borderTopWidth)+parseFloat(x.borderBottomWidth)))),l=_,h=S}return t===e?{left:o,top:c,width:l-o,height:h-c}:(d=Qa(e,!0).multiply(Qa(t)),p=d.apply({x:o,y:c}),g=d.apply({x:l,y:c}),v=d.apply({x:l,y:h}),m=d.apply({x:o,y:h}),o=Math.min(p.x,g.x,v.x,m.x),c=Math.min(p.y,g.y,v.y,m.y),{left:o,top:c,width:Math.max(p.x,g.x,v.x,m.x)-o,height:Math.max(p.y,g.y,v.y,m.y)-c})},Am=function(t,e,n,s,o,l){var c={},h,d,p;if(e)if(o!==1&&e instanceof Array){if(c.end=h=[],p=e.length,uu(e[0]))for(d=0;d<p;d++)h[d]=W1(e[d],o);else for(d=0;d<p;d++)h[d]=e[d]*o;n+=1.1,s-=1.1}else ra(e)?c.end=function(g){var v=e.call(t,g),m,w;if(o!==1)if(uu(v)){m={};for(w in v)m[w]=v[w]*o;v=m}else v*=o;return v}:c.end=e;return(n||n===0)&&(c.max=n),(s||s===0)&&(c.min=s),l&&(c.velocity=0),c},rk=function a(t){var e;return!t||!t.getAttribute||t===_r?!1:(e=t.getAttribute("data-clickable"))==="true"||e!=="false"&&(ZO.test(t.nodeName+"")||t.getAttribute("contentEditable")==="true")?!0:a(t.parentNode)},bd=function(t,e){for(var n=t.length,s;n--;)s=t[n],s.ondragstart=s.onselectstart=e?null:Hd,ae.set(s,{lazy:!0,userSelect:e?"text":"none"})},ak=function a(t){if(Mu(t).position==="fixed")return!0;if(t=t.parentNode,t&&t.nodeType===1)return a(t)},Q1,Ty,ok=function(t,e){t=ae.utils.toArray(t)[0],e=e||{};var n=document.createElement("div"),s=n.style,o=t.firstChild,l=0,c=0,h=t.scrollTop,d=t.scrollLeft,p=t.scrollWidth,g=t.scrollHeight,v=0,m=0,w=0,_,S,x,T,C,D;Q1&&e.force3D!==!1?(C="translate3d(",D="px,0px)"):hu&&(C="translate(",D="px)"),this.scrollTop=function(R,P){if(!arguments.length)return-this.top();this.top(-R,P)},this.scrollLeft=function(R,P){if(!arguments.length)return-this.left();this.left(-R,P)},this.left=function(R,P){if(!arguments.length)return-(t.scrollLeft+c);var O=t.scrollLeft-d,L=c;if((O>2||O<-2)&&!P){d=t.scrollLeft,ae.killTweensOf(this,{left:1,scrollLeft:1}),this.left(-d),e.onKill&&e.onKill();return}R=-R,R<0?(c=R-.5|0,R=0):R>m?(c=R-m|0,R=m):c=0,(c||L)&&(this._skip||(s[hu]=C+-c+"px,"+-l+D),c+v>=0&&(s.paddingRight=c+v+"px")),t.scrollLeft=R|0,d=t.scrollLeft},this.top=function(R,P){if(!arguments.length)return-(t.scrollTop+l);var O=t.scrollTop-h,L=l;if((O>2||O<-2)&&!P){h=t.scrollTop,ae.killTweensOf(this,{top:1,scrollTop:1}),this.top(-h),e.onKill&&e.onKill();return}R=-R,R<0?(l=R-.5|0,R=0):R>w?(l=R-w|0,R=w):l=0,(l||L)&&(this._skip||(s[hu]=C+-c+"px,"+-l+D)),t.scrollTop=R|0,h=t.scrollTop},this.maxScrollTop=function(){return w},this.maxScrollLeft=function(){return m},this.disable=function(){for(o=n.firstChild;o;)T=o.nextSibling,t.appendChild(o),o=T;t===n.parentNode&&t.removeChild(n)},this.enable=function(){if(o=t.firstChild,o!==n){for(;o;)T=o.nextSibling,n.appendChild(o),o=T;t.appendChild(n),this.calibrate()}},this.calibrate=function(R){var P=t.clientWidth===_,O,L,F;h=t.scrollTop,d=t.scrollLeft,!(P&&t.clientHeight===S&&n.offsetHeight===x&&p===t.scrollWidth&&g===t.scrollHeight&&!R)&&((l||c)&&(L=this.left(),F=this.top(),this.left(-t.scrollLeft),this.top(-t.scrollTop)),O=Mu(t),(!P||R)&&(s.display="block",s.width="auto",s.paddingRight="0px",v=Math.max(0,t.scrollWidth-t.clientWidth),v&&(v+=parseFloat(O.paddingLeft)+(Ty?parseFloat(O.paddingRight):0))),s.display="inline-block",s.position="relative",s.overflow="visible",s.verticalAlign="top",s.boxSizing="content-box",s.width="100%",s.paddingRight=v+"px",Ty&&(s.paddingBottom=O.paddingBottom),_=t.clientWidth,S=t.clientHeight,p=t.scrollWidth,g=t.scrollHeight,m=t.scrollWidth-_,w=t.scrollHeight-S,x=n.offsetHeight,s.display="block",(L||F)&&(this.left(L),this.top(F)))},this.content=n,this.element=t,this._skip=!1,this.enable()},Em=function(t){if(q1()&&document.body){var e=window&&window.navigator;Ce=window,Oi=document,vs=Oi.documentElement,_r=Oi.body,wm=vd("div"),Ud=!!window.PointerEvent,yr=vd("div"),yr.style.cssText="visibility:hidden;height:1px;top:-1px;pointer-events:none;position:relative;clear:both;cursor:grab",eu=yr.style.cursor==="grab"?"grab":"move",tu=e&&e.userAgent.toLowerCase().indexOf("android")!==-1,xy="ontouchstart"in vs&&"orientation"in Ce||e&&(e.MaxTouchPoints>0||e.msMaxTouchPoints>0),Ty=(function(){var n=vd("div"),s=vd("div"),o=s.style,l=_r,c;return o.display="inline-block",o.position="relative",n.style.cssText="width:90px;height:40px;padding:10px;overflow:auto;visibility:hidden",n.appendChild(s),l.appendChild(n),c=s.offsetHeight+18>n.scrollHeight,l.removeChild(n),c})(),Cu=(function(n){for(var s=n.split(","),o=("onpointerdown"in wm?"pointerdown,pointermove,pointerup,pointercancel":"onmspointerdown"in wm?"MSPointerDown,MSPointerMove,MSPointerUp,MSPointerCancel":n).split(","),l={},c=4;--c>-1;)l[s[c]]=o[c],l[o[c]]=s[c];try{vs.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){Y1=1}}))}catch{}return l})("touchstart,touchmove,touchend,touchcancel"),vn(Oi,"touchcancel",Hd),vn(Ce,"touchmove",Hd),_r&&_r.addEventListener("touchstart",Hd),vn(Oi,"contextmenu",function(){for(var n in El)El[n].isPressed&&El[n].endDrag()}),ae=Sy=$1()}ae?(fs=ae.plugins.inertia,X1=ae.core.context||function(){},Jc=ae.utils.checkPrefix,hu=Jc(hu),Ey=Jc(Ey),ua=ae.utils.toArray,Ay=ae.core.getStyleSaver,Q1=!!Jc("perspective")):t&&console.warn("Please gsap.registerPlugin(Draggable)")},lk=(function(){function a(e){this._listeners={},this.target=e||this}var t=a.prototype;return t.addEventListener=function(n,s){var o=this._listeners[n]||(this._listeners[n]=[]);~o.indexOf(s)||o.push(s)},t.removeEventListener=function(n,s){var o=this._listeners[n],l=o&&o.indexOf(s);l>=0&&o.splice(l,1)},t.dispatchEvent=function(n){var s=this,o;return(this._listeners[n]||[]).forEach(function(l){return l.call(s,{type:n,target:s.target})===!1&&(o=!1)}),o},a})(),wa=(function(a){WO(t,a);function t(e,n){var s;s=a.call(this)||this,Sy||Em(1),e=ua(e)[0],s.styles=Ay&&Ay(e,"transform,left,top"),fs||(fs=ae.plugins.inertia),s.vars=n=W1(n||{}),s.target=e,s.x=s.y=s.rotation=0,s.dragResistance=parseFloat(n.dragResistance)||0,s.edgeResistance=isNaN(n.edgeResistance)?1:parseFloat(n.edgeResistance)||0,s.lockAxis=n.lockAxis,s.autoScroll=n.autoScroll||0,s.lockedAxis=null,s.allowEventDefault=!!n.allowEventDefault,ae.getProperty(e,"x");var o=(n.type||"x,y").toLowerCase(),l=~o.indexOf("x")||~o.indexOf("y"),c=o.indexOf("rotation")!==-1,h=c?"rotation":l?"x":"left",d=l?"y":"top",p=!!(~o.indexOf("x")||~o.indexOf("left")||o==="scroll"),g=!!(~o.indexOf("y")||~o.indexOf("top")||o==="scroll"),v=n.minimumMovement||2,m=XS(s),w=ua(n.trigger||n.handle||e),_={},S=0,x=!1,T=n.autoScrollMarginTop||40,C=n.autoScrollMarginRight||40,D=n.autoScrollMarginBottom||40,R=n.autoScrollMarginLeft||40,P=n.clickableTest||rk,O=0,L=e._gsap||ae.core.getCache(e),F=ak(e),X=function(H,ut){return parseFloat(L.get(e,H,ut))},G=e.ownerDocument||Oi,rt,tt,W,$,k,z,I,Q,ot,B,j,K,nt,pt,gt,ct,Et,Tt,bt,Ft,zt,Ot,kt,Rt,me,Zt,Oe,_n,wn,ce,Pe,os,Ae,ls=function(H){return Ki(H),H.stopImmediatePropagation&&H.stopImmediatePropagation(),!1},Je=function xt(H){if(m.autoScroll&&m.isDragging&&(x||Et)){var ut=e,Y=m.autoScroll*15,st,mt,vt,ht,ft,yt,_t,Bt;for(x=!1,fr.scrollTop=Ce.pageYOffset!=null?Ce.pageYOffset:G.documentElement.scrollTop!=null?G.documentElement.scrollTop:G.body.scrollTop,fr.scrollLeft=Ce.pageXOffset!=null?Ce.pageXOffset:G.documentElement.scrollLeft!=null?G.documentElement.scrollLeft:G.body.scrollLeft,ht=m.pointerX-fr.scrollLeft,ft=m.pointerY-fr.scrollTop;ut&&!mt;)mt=Gl(ut.parentNode),st=mt?fr:ut.parentNode,vt=mt?{bottom:Math.max(vs.clientHeight,Ce.innerHeight||0),right:Math.max(vs.clientWidth,Ce.innerWidth||0),left:0,top:0}:st.getBoundingClientRect(),yt=_t=0,g&&(Bt=st._gsMaxScrollY-st.scrollTop,Bt<0?_t=Bt:ft>vt.bottom-D&&Bt?(x=!0,_t=Math.min(Bt,Y*(1-Math.max(0,vt.bottom-ft)/D)|0)):ft<vt.top+T&&st.scrollTop&&(x=!0,_t=-Math.min(st.scrollTop,Y*(1-Math.max(0,ft-vt.top)/T)|0)),_t&&(st.scrollTop+=_t)),p&&(Bt=st._gsMaxScrollX-st.scrollLeft,Bt<0?yt=Bt:ht>vt.right-C&&Bt?(x=!0,yt=Math.min(Bt,Y*(1-Math.max(0,vt.right-ht)/C)|0)):ht<vt.left+R&&st.scrollLeft&&(x=!0,yt=-Math.min(st.scrollLeft,Y*(1-Math.max(0,ht-vt.left)/R)|0)),yt&&(st.scrollLeft+=yt)),mt&&(yt||_t)&&(Ce.scrollTo(st.scrollLeft,st.scrollTop),Fn(m.pointerX+yt,m.pointerY+_t)),ut=st}if(Et){var ie=m.x,Jt=m.y;c?(m.deltaX=ie-parseFloat(L.rotation),m.rotation=ie,L.rotation=ie+"deg",L.renderTransform(1,L)):tt?(g&&(m.deltaY=Jt-tt.top(),tt.top(Jt)),p&&(m.deltaX=ie-tt.left(),tt.left(ie))):l?(g&&(m.deltaY=Jt-parseFloat(L.y),L.y=Jt+"px"),p&&(m.deltaX=ie-parseFloat(L.x),L.x=ie+"px"),L.renderTransform(1,L)):(g&&(m.deltaY=Jt-parseFloat(e.style.top||0),e.style.top=Jt+"px"),p&&(m.deltaX=ie-parseFloat(e.style.left||0),e.style.left=ie+"px")),Q&&!H&&!_n&&(_n=!0,nn(m,"drag","onDrag")===!1&&(p&&(m.x-=m.deltaX),g&&(m.y-=m.deltaY),xt(!0)),_n=!1)}Et=!1},ke=function(H,ut){var Y=m.x,st=m.y,mt,vt;e._gsap||(L=ae.core.getCache(e)),L.uncache&&ae.getProperty(e,"x"),l?(m.x=parseFloat(L.x),m.y=parseFloat(L.y)):c?m.x=m.rotation=parseFloat(L.rotation):tt?(m.y=tt.top(),m.x=tt.left()):(m.y=parseFloat(e.style.top||(vt=Mu(e))&&vt.top)||0,m.x=parseFloat(e.style.left||(vt||{}).left)||0),(bt||Ft||zt)&&!ut&&(m.isDragging||m.isThrowing)&&(zt&&(ll.x=m.x,ll.y=m.y,mt=zt(ll),mt.x!==m.x&&(m.x=mt.x,Et=!0),mt.y!==m.y&&(m.y=mt.y,Et=!0)),bt&&(mt=bt(m.x),mt!==m.x&&(m.x=mt,c&&(m.rotation=mt),Et=!0)),Ft&&(mt=Ft(m.y),mt!==m.y&&(m.y=mt),Et=!0)),Et&&Je(!0),H||(m.deltaX=m.x-Y,m.deltaY=m.y-st,nn(m,"throwupdate","onThrowUpdate"))},Be=function(H,ut,Y,st){return ut==null&&(ut=-Ya),Y==null&&(Y=Ya),ra(H)?function(mt){var vt=m.isPressed?1-m.edgeResistance:1;return H.call(m,(mt>Y?Y+(mt-Y)*vt:mt<ut?ut+(mt-ut)*vt:mt)*st)*st}:Vc(H)?function(mt){for(var vt=H.length,ht=0,ft=Ya,yt,_t;--vt>-1;)yt=H[vt],_t=yt-mt,_t<0&&(_t=-_t),_t<ft&&yt>=ut&&yt<=Y&&(ht=vt,ft=_t);return H[ht]}:isNaN(H)?function(mt){return mt}:function(){return H*st}},Sn=function(H,ut,Y,st,mt,vt,ht){return vt=vt&&vt<Ya?vt*vt:Ya,ra(H)?function(ft){var yt=m.isPressed?1-m.edgeResistance:1,_t=ft.x,Bt=ft.y,ie,Jt,Gt;return ft.x=_t=_t>Y?Y+(_t-Y)*yt:_t<ut?ut+(_t-ut)*yt:_t,ft.y=Bt=Bt>mt?mt+(Bt-mt)*yt:Bt<st?st+(Bt-st)*yt:Bt,ie=H.call(m,ft),ie!==ft&&(ft.x=ie.x,ft.y=ie.y),ht!==1&&(ft.x*=ht,ft.y*=ht),vt<Ya&&(Jt=ft.x-_t,Gt=ft.y-Bt,Jt*Jt+Gt*Gt>vt&&(ft.x=_t,ft.y=Bt)),ft}:Vc(H)?function(ft){for(var yt=H.length,_t=0,Bt=Ya,ie,Jt,Gt,qt;--yt>-1;)Gt=H[yt],ie=Gt.x-ft.x,Jt=Gt.y-ft.y,qt=ie*ie+Jt*Jt,qt<Bt&&(_t=yt,Bt=qt);return Bt<=vt?H[_t]:ft}:function(ft){return ft}},xn=function(){var H,ut,Y,st;I=!1,tt?(tt.calibrate(),m.minX=j=-tt.maxScrollLeft(),m.minY=nt=-tt.maxScrollTop(),m.maxX=B=m.maxY=K=0,I=!0):n.bounds&&(H=nx(n.bounds,e.parentNode),c?(m.minX=j=H.left,m.maxX=B=H.left+H.width,m.minY=nt=m.maxY=K=0):!gs(n.bounds.maxX)||!gs(n.bounds.maxY)?(H=n.bounds,m.minX=j=H.minX,m.minY=nt=H.minY,m.maxX=B=H.maxX,m.maxY=K=H.maxY):(ut=nx(e,e.parentNode),m.minX=j=Math.round(X(h,"px")+H.left-ut.left),m.minY=nt=Math.round(X(d,"px")+H.top-ut.top),m.maxX=B=Math.round(j+(H.width-ut.width)),m.maxY=K=Math.round(nt+(H.height-ut.height))),j>B&&(m.minX=B,m.maxX=B=j,j=m.minX),nt>K&&(m.minY=K,m.maxY=K=nt,nt=m.minY),c&&(m.minRotation=j,m.maxRotation=B),I=!0),n.liveSnap&&(Y=n.liveSnap===!0?n.snap||{}:n.liveSnap,st=Vc(Y)||ra(Y),c?(bt=Be(st?Y:Y.rotation,j,B,1),Ft=null):Y.points?zt=Sn(st?Y:Y.points,j,B,nt,K,Y.radius,tt?-1:1):(p&&(bt=Be(st?Y:Y.x||Y.left||Y.scrollLeft,j,B,tt?-1:1)),g&&(Ft=Be(st?Y:Y.y||Y.top||Y.scrollTop,nt,K,tt?-1:1))))},Ss=function(){m.isThrowing=!1,nn(m,"throwcomplete","onThrowComplete")},Rr=function(){m.isThrowing=!1},$n=function(H,ut){var Y,st,mt,vt;H&&fs?(H===!0&&(Y=n.snap||n.liveSnap||{},st=Vc(Y)||ra(Y),H={resistance:(n.throwResistance||n.resistance||1e3)/(c?10:1)},c?H.rotation=Am(m,st?Y:Y.rotation,B,j,1,ut):(p&&(H[h]=Am(m,st?Y:Y.points||Y.x||Y.left,B,j,tt?-1:1,ut||m.lockedAxis==="x")),g&&(H[d]=Am(m,st?Y:Y.points||Y.y||Y.top,K,nt,tt?-1:1,ut||m.lockedAxis==="y")),(Y.points||Vc(Y)&&uu(Y[0]))&&(H.linkedProps=h+","+d,H.radius=Y.radius))),m.isThrowing=!0,vt=isNaN(n.overshootTolerance)?n.edgeResistance===1?0:1-m.edgeResistance+.2:n.overshootTolerance,H.duration||(H.duration={max:Math.max(n.minDuration||0,"maxDuration"in n?n.maxDuration:2),min:isNaN(n.minDuration)?vt===0||uu(H)&&H.resistance>1e3?0:.5:n.minDuration,overshoot:vt}),m.tween=mt=ae.to(tt||e,{inertia:H,data:"_draggable",inherit:!1,onComplete:Ss,onInterrupt:Rr,onUpdate:n.fastMode?nn:ke,onUpdateParams:n.fastMode?[m,"onthrowupdate","onThrowUpdate"]:Y&&Y.radius?[!1,!0]:[]}),n.fastMode||(tt&&(tt._skip=!0),mt.render(1e9,!0,!0),ke(!0,!0),m.endX=m.x,m.endY=m.y,c&&(m.endRotation=m.x),mt.play(0),ke(!0,!0),tt&&(tt._skip=!1))):I&&m.applyBounds()},Ie=function(H){var ut=Rt,Y;Rt=Qa(e.parentNode,!0),H&&m.isPressed&&!Rt.equals(ut||new mo)&&(Y=ut.inverse().apply({x:W,y:$}),Rt.apply(Y,Y),W=Y.x,$=Y.y),Rt.equals(KO)&&(Rt=null)},pe=function(){var H=1-m.edgeResistance,ut=F?Cl(G):0,Y=F?Tl(G):0,st,mt,vt;l&&(L.x=X(h,"px")+"px",L.y=X(d,"px")+"px",L.renderTransform()),Ie(!1),Qi.x=m.pointerX-ut,Qi.y=m.pointerY-Y,Rt&&Rt.apply(Qi,Qi),W=Qi.x,$=Qi.y,Et&&(Fn(m.pointerX,m.pointerY),Je(!0)),os=Qa(e),tt?(xn(),z=tt.top(),k=tt.left()):(ue()?(ke(!0,!0),xn()):m.applyBounds(),c?(st=e.ownerSVGElement?[L.xOrigin-e.getBBox().x,L.yOrigin-e.getBBox().y]:(Mu(e)[Ey]||"0 0").split(" "),ct=m.rotationOrigin=Qa(e).apply({x:parseFloat(st[0])||0,y:parseFloat(st[1])||0}),ke(!0,!0),mt=m.pointerX-ct.x-ut,vt=ct.y-m.pointerY+Y,k=m.x,z=m.y=Math.atan2(vt,mt)*qS):(z=X(d,"px"),k=X(h,"px"))),I&&H&&(k>B?k=B+(k-B)/H:k<j&&(k=j-(j-k)/H),c||(z>K?z=K+(z-K)/H:z<nt&&(z=nt-(nt-z)/H))),m.startX=k=ea(k),m.startY=z=ea(z)},ue=function(){return m.tween&&m.tween.isActive()},Ys=function(){yr.parentNode&&!ue()&&!m.isDragging&&yr.parentNode.removeChild(yr)},mi=function(H,ut){var Y;if(!rt||m.isPressed||!H||(H.type==="mousedown"||H.type==="pointerdown")&&!ut&&na()-O<30&&Cu[m.pointerEvent.type]){Pe&&H&&rt&&Ki(H);return}if(me=ue(),Ae=!1,m.pointerEvent=H,Cu[H.type]?(kt=~H.type.indexOf("touch")?H.currentTarget||H.target:G,vn(kt,"touchend",Ge),vn(kt,"touchmove",zn),vn(kt,"touchcancel",Ge),vn(G,"touchstart",ZS)):(kt=null,vn(G,"mousemove",zn)),Oe=null,(!Ud||!kt)&&(vn(G,"mouseup",Ge),H&&H.target&&vn(H.target,"mouseup",Ge)),Ot=P.call(m,H.target)&&n.dragClickables===!1&&!ut,Ot){vn(H.target,"change",Ge),nn(m,"pressInit","onPressInit"),nn(m,"press","onPress"),bd(w,!0),Pe=!1;return}if(Zt=!kt||p===g||m.vars.allowNativeTouchScrolling===!1||m.vars.allowContextMenu&&H&&(H.ctrlKey||H.which>2)?!1:p?"y":"x",Pe=!Zt&&!m.allowEventDefault,Pe&&(Ki(H),vn(Ce,"touchforcechange",Ki)),H.changedTouches?(H=pt=H.changedTouches[0],gt=H.identifier):H.pointerId?gt=H.pointerId:pt=gt=null,uf++,tk(Je),$=m.pointerY=H.pageY,W=m.pointerX=H.pageX,nn(m,"pressInit","onPressInit"),(Zt||m.autoScroll)&&Sm(e.parentNode),e.parentNode&&m.autoScroll&&!tt&&!c&&e.parentNode._gsMaxScrollX&&!yr.parentNode&&!e.getBBox&&(yr.style.width=e.parentNode.scrollWidth+"px",e.parentNode.appendChild(yr)),pe(),m.tween&&m.tween.kill(),m.isThrowing=!1,ae.killTweensOf(tt||e,_,!0),tt&&ae.killTweensOf(e,{scrollTo:1},!0),m.tween=m.lockedAxis=null,(n.zIndexBoost||!c&&!tt&&n.zIndexBoost!==!1)&&(e.style.zIndex=t.zIndex++),m.isPressed=!0,Q=!!(n.onDrag||m._listeners.drag),ot=!!(n.onMove||m._listeners.move),n.cursor!==!1||n.activeCursor)for(Y=w.length;--Y>-1;)ae.set(w[Y],{cursor:n.activeCursor||n.cursor||(eu==="grab"?"grabbing":eu)});nn(m,"press","onPress")},zn=function(H){var ut=H,Y,st,mt,vt,ht,ft;if(!rt||wv||!m.isPressed||!H){Pe&&H&&rt&&Ki(H);return}if(m.pointerEvent=H,Y=H.changedTouches,Y){if(H=Y[0],H!==pt&&H.identifier!==gt){for(vt=Y.length;--vt>-1&&(H=Y[vt]).identifier!==gt&&H.target!==e;);if(vt<0)return}}else if(H.pointerId&&gt&&H.pointerId!==gt)return;if(kt&&Zt&&!Oe&&(Qi.x=H.pageX-(F?Cl(G):0),Qi.y=H.pageY-(F?Tl(G):0),Rt&&Rt.apply(Qi,Qi),st=Qi.x,mt=Qi.y,ht=Math.abs(st-W),ft=Math.abs(mt-$),(ht!==ft&&(ht>v||ft>v)||tu&&Zt===Oe)&&(Oe=ht>ft&&p?"x":"y",Zt&&Oe!==Zt&&vn(Ce,"touchforcechange",Ki),m.vars.lockAxisOnTouchScroll!==!1&&p&&g&&(m.lockedAxis=Oe==="x"?"y":"x",ra(m.vars.onLockAxis)&&m.vars.onLockAxis.call(m,ut)),tu&&Zt===Oe))){Ge(ut);return}!m.allowEventDefault&&(!Zt||Oe&&Zt!==Oe)&&ut.cancelable!==!1?(Ki(ut),Pe=!0):Pe&&(Pe=!1),m.autoScroll&&(x=!0),Fn(H.pageX,H.pageY,ot)},Fn=function(H,ut,Y){var st=1-m.dragResistance,mt=1-m.edgeResistance,vt=m.pointerX,ht=m.pointerY,ft=z,yt=m.x,_t=m.y,Bt=m.endX,ie=m.endY,Jt=m.endRotation,Gt=Et,qt,$t,be,ze,Ta,Dn;m.pointerX=H,m.pointerY=ut,F&&(H-=Cl(G),ut-=Tl(G)),c?(ze=Math.atan2(ct.y-ut,H-ct.x)*qS,Ta=m.y-ze,Ta>180?(z-=360,m.y=ze):Ta<-180&&(z+=360,m.y=ze),m.x!==k||Math.max(Math.abs(W-H),Math.abs($-ut))>v?(m.y=ze,be=k+(z-ze)*st):be=k):(Rt&&(Dn=H*Rt.a+ut*Rt.c+Rt.e,ut=H*Rt.b+ut*Rt.d+Rt.f,H=Dn),$t=ut-$,qt=H-W,$t<v&&$t>-v&&($t=0),qt<v&&qt>-v&&(qt=0),(m.lockAxis||m.lockedAxis)&&(qt||$t)&&(Dn=m.lockedAxis,Dn||(m.lockedAxis=Dn=p&&Math.abs(qt)>Math.abs($t)?"y":g?"x":null,Dn&&ra(m.vars.onLockAxis)&&m.vars.onLockAxis.call(m,m.pointerEvent)),Dn==="y"?$t=0:Dn==="x"&&(qt=0)),be=ea(k+qt*st),ze=ea(z+$t*st)),(bt||Ft||zt)&&(m.x!==be||m.y!==ze&&!c)&&(zt&&(ll.x=be,ll.y=ze,Dn=zt(ll),be=ea(Dn.x),ze=ea(Dn.y)),bt&&(be=ea(bt(be))),Ft&&(ze=ea(Ft(ze)))),I&&(be>B?be=B+Math.round((be-B)*mt):be<j&&(be=j+Math.round((be-j)*mt)),c||(ze>K?ze=Math.round(K+(ze-K)*mt):ze<nt&&(ze=Math.round(nt+(ze-nt)*mt)))),(m.x!==be||m.y!==ze&&!c)&&(c?(m.endRotation=m.x=m.endX=be,Et=!0):(g&&(m.y=m.endY=ze,Et=!0),p&&(m.x=m.endX=be,Et=!0)),!Y||nn(m,"move","onMove")!==!1?!m.isDragging&&m.isPressed&&(m.isDragging=Ae=!0,nn(m,"dragstart","onDragStart")):(m.pointerX=vt,m.pointerY=ht,z=ft,m.x=yt,m.y=_t,m.endX=Bt,m.endY=ie,m.endRotation=Jt,Et=Gt))},Ge=function xt(H,ut){if(!rt||!m.isPressed||H&&gt!=null&&!ut&&(H.pointerId&&H.pointerId!==gt&&H.target!==e||H.changedTouches&&!nk(H.changedTouches,gt))){Pe&&H&&rt&&Ki(H);return}m.isPressed=!1;var Y=H,st=m.isDragging,mt=m.vars.allowContextMenu&&H&&(H.ctrlKey||H.which>2),vt=ae.delayedCall(.001,Ys),ht,ft,yt,_t,Bt;if(kt?(fn(kt,"touchend",xt),fn(kt,"touchmove",zn),fn(kt,"touchcancel",xt),fn(G,"touchstart",ZS)):fn(G,"mousemove",zn),fn(Ce,"touchforcechange",Ki),(!Ud||!kt)&&(fn(G,"mouseup",xt),H&&H.target&&fn(H.target,"mouseup",xt)),Et=!1,st&&(S=$S=na(),m.isDragging=!1),QS(Je),Ot&&!mt){H&&(fn(H.target,"change",xt),m.pointerEvent=Y),bd(w,!1),nn(m,"release","onRelease"),nn(m,"click","onClick"),Ot=!1;return}for(ft=w.length;--ft>-1;)xm(w[ft],"cursor",n.cursor||(n.cursor!==!1?eu:null));if(uf--,H){if(ht=H.changedTouches,ht&&(H=ht[0],H!==pt&&H.identifier!==gt)){for(ft=ht.length;--ft>-1&&(H=ht[ft]).identifier!==gt&&H.target!==e;);if(ft<0&&!ut)return}m.pointerEvent=Y,m.pointerX=H.pageX,m.pointerY=H.pageY}return mt&&Y?(Ki(Y),Pe=!0,nn(m,"release","onRelease")):Y&&!st?(Pe=!1,me&&(n.snap||n.bounds)&&$n(n.inertia||n.throwProps),nn(m,"release","onRelease"),(!tu||Y.type!=="touchmove")&&Y.type.indexOf("cancel")===-1&&(nn(m,"click","onClick"),na()-O<300&&nn(m,"doubleclick","onDoubleClick"),_t=Y.target||e,O=na(),Bt=function(){O!==wn&&m.enabled()&&!m.isPressed&&!Y.defaultPrevented&&(_t.click?_t.click():G.createEvent&&(yt=G.createEvent("MouseEvents"),yt.initMouseEvent("click",!0,!0,Ce,1,m.pointerEvent.screenX,m.pointerEvent.screenY,m.pointerX,m.pointerY,!1,!1,!1,!1,0,null),_t.dispatchEvent(yt)))},!tu&&!Y.defaultPrevented&&ae.delayedCall(.05,Bt))):($n(n.inertia||n.throwProps),!m.allowEventDefault&&Y&&(n.dragClickables!==!1||!P.call(m,Y.target))&&st&&(!Zt||Oe&&Zt===Oe)&&Y.cancelable!==!1?(Pe=!0,Ki(Y)):Pe=!1,nn(m,"release","onRelease")),ue()&&vt.duration(m.tween.duration()),st&&nn(m,"dragend","onDragEnd"),!0},jn=function(H){if(H&&m.isDragging&&!tt){var ut=H.target||e.parentNode,Y=ut.scrollLeft-ut._gsScrollX,st=ut.scrollTop-ut._gsScrollY;(Y||st)&&(Rt?(W-=Y*Rt.a+st*Rt.c,$-=st*Rt.d+Y*Rt.b):(W-=Y,$-=st),ut._gsScrollX+=Y,ut._gsScrollY+=st,Fn(m.pointerX,m.pointerY))}},Rn=function(H){var ut=na(),Y=ut-O<100,st=ut-S<50,mt=Y&&wn===O,vt=m.pointerEvent&&m.pointerEvent.defaultPrevented,ht=Y&&ce===O,ft=H.isTrusted||H.isTrusted==null&&Y&&mt;if((mt||st&&m.vars.suppressClickOnDrag!==!1)&&H.stopImmediatePropagation&&H.stopImmediatePropagation(),Y&&!(m.pointerEvent&&m.pointerEvent.defaultPrevented)&&(!mt||ft&&!ht)){ft&&mt&&(ce=O),wn=O;return}(m.isPressed||st||Y)&&(!ft||!H.detail||!Y||vt)&&Ki(H),!Y&&!st&&!Ae&&(H&&H.target&&(m.pointerEvent=H),nn(m,"click","onClick"))},yi=function(H){return Rt?{x:H.x*Rt.a+H.y*Rt.c+Rt.e,y:H.x*Rt.b+H.y*Rt.d+Rt.f}:{x:H.x,y:H.y}};return Tt=t.get(e),Tt&&Tt.kill(),s.startDrag=function(xt,H){var ut,Y,st,mt;mi(xt||m.pointerEvent,!0),H&&!m.hitTest(xt||m.pointerEvent)&&(ut=cl(xt||m.pointerEvent),Y=cl(e),st=yi({x:ut.left+ut.width/2,y:ut.top+ut.height/2}),mt=yi({x:Y.left+Y.width/2,y:Y.top+Y.height/2}),W-=st.x-mt.x,$-=st.y-mt.y),m.isDragging||(m.isDragging=Ae=!0,nn(m,"dragstart","onDragStart"))},s.drag=zn,s.endDrag=function(xt){return Ge(xt||m.pointerEvent,!0)},s.timeSinceDrag=function(){return m.isDragging?0:(na()-S)/1e3},s.timeSinceClick=function(){return(na()-O)/1e3},s.hitTest=function(xt,H){return t.hitTest(m.target,xt,H)},s.getDirection=function(xt,H){var ut=xt==="velocity"&&fs?xt:uu(xt)&&!c?"element":"start",Y,st,mt,vt,ht,ft;return ut==="element"&&(ht=cl(m.target),ft=cl(xt)),Y=ut==="start"?m.x-k:ut==="velocity"?fs.getVelocity(e,h):ht.left+ht.width/2-(ft.left+ft.width/2),c?Y<0?"counter-clockwise":"clockwise":(H=H||2,st=ut==="start"?m.y-z:ut==="velocity"?fs.getVelocity(e,d):ht.top+ht.height/2-(ft.top+ft.height/2),mt=Math.abs(Y/st),vt=mt<1/H?"":Y<0?"left":"right",mt<H&&(vt!==""&&(vt+="-"),vt+=st<0?"up":"down"),vt)},s.applyBounds=function(xt,H){var ut,Y,st,mt,vt,ht;if(xt&&n.bounds!==xt)return n.bounds=xt,m.update(!0,H);if(ke(!0),xn(),I&&!ue()){if(ut=m.x,Y=m.y,ut>B?ut=B:ut<j&&(ut=j),Y>K?Y=K:Y<nt&&(Y=nt),(m.x!==ut||m.y!==Y)&&(st=!0,m.x=m.endX=ut,c?m.endRotation=ut:m.y=m.endY=Y,Et=!0,Je(!0),m.autoScroll&&!m.isDragging))for(Sm(e.parentNode),mt=e,fr.scrollTop=Ce.pageYOffset!=null?Ce.pageYOffset:G.documentElement.scrollTop!=null?G.documentElement.scrollTop:G.body.scrollTop,fr.scrollLeft=Ce.pageXOffset!=null?Ce.pageXOffset:G.documentElement.scrollLeft!=null?G.documentElement.scrollLeft:G.body.scrollLeft;mt&&!ht;)ht=Gl(mt.parentNode),vt=ht?fr:mt.parentNode,g&&vt.scrollTop>vt._gsMaxScrollY&&(vt.scrollTop=vt._gsMaxScrollY),p&&vt.scrollLeft>vt._gsMaxScrollX&&(vt.scrollLeft=vt._gsMaxScrollX),mt=vt;m.isThrowing&&(st||m.endX>B||m.endX<j||m.endY>K||m.endY<nt)&&$n(n.inertia||n.throwProps,st)}return m},s.update=function(xt,H,ut){if(H&&m.isPressed){var Y=Qa(e),st=os.apply({x:m.x-k,y:m.y-z}),mt=Qa(e.parentNode,!0);mt.apply({x:Y.e-st.x,y:Y.f-st.y},st),m.x-=st.x-mt.e,m.y-=st.y-mt.f,Je(!0),pe()}var vt=m.x,ht=m.y;return Ie(!H),xt?m.applyBounds():(Et&&ut&&Je(!0),ke(!0)),H&&(Fn(m.pointerX,m.pointerY),Et&&Je(!0)),m.isPressed&&!H&&(p&&Math.abs(vt-m.x)>.01||g&&Math.abs(ht-m.y)>.01&&!c)&&pe(),m.autoScroll&&(Sm(e.parentNode,m.isDragging),x=m.isDragging,Je(!0),tx(e,jn),JS(e,jn)),m},s.enable=function(xt){var H={lazy:!0},ut,Y,st;if(n.cursor!==!1&&(H.cursor=n.cursor||eu),ae.utils.checkPrefix("touchCallout")&&(H.touchCallout="none"),xt!=="soft"){for(WS(w,p===g?"none":n.allowNativeTouchScrolling&&e.scrollHeight===e.clientHeight==(e.scrollWidth===e.clientHeight)||n.allowEventDefault?"manipulation":p?"pan-y":"pan-x"),Y=w.length;--Y>-1;)st=w[Y],Ud||vn(st,"mousedown",mi),vn(st,"touchstart",mi),vn(st,"click",Rn,!0),ae.set(st,H),st.getBBox&&st.ownerSVGElement&&p!==g&&ae.set(st.ownerSVGElement,{touchAction:n.allowNativeTouchScrolling||n.allowEventDefault?"manipulation":p?"pan-y":"pan-x"}),n.allowContextMenu||vn(st,"contextmenu",ls);bd(w,!1)}return JS(e,jn),rt=!0,fs&&xt!=="soft"&&fs.track(tt||e,l?"x,y":c?"rotation":"top,left"),e._gsDragID=ut=e._gsDragID||"d"+QO++,El[ut]=m,tt&&(tt.enable(),tt.element._gsDragID=ut),(n.bounds||c)&&pe(),n.bounds&&m.applyBounds(),m},s.disable=function(xt){for(var H=m.isDragging,ut=w.length,Y;--ut>-1;)xm(w[ut],"cursor",null);if(xt!=="soft"){for(WS(w,null),ut=w.length;--ut>-1;)Y=w[ut],xm(Y,"touchCallout",null),fn(Y,"mousedown",mi),fn(Y,"touchstart",mi),fn(Y,"click",Rn,!0),fn(Y,"contextmenu",ls);bd(w,!0),kt&&(fn(kt,"touchcancel",Ge),fn(kt,"touchend",Ge),fn(kt,"touchmove",zn)),fn(G,"mouseup",Ge),fn(G,"mousemove",zn)}return tx(e,jn),rt=!1,fs&&xt!=="soft"&&(fs.untrack(tt||e,l?"x,y":c?"rotation":"top,left"),m.tween&&m.tween.kill()),tt&&tt.disable(),QS(Je),m.isDragging=m.isPressed=Ot=!1,H&&nn(m,"dragend","onDragEnd"),m},s.enabled=function(xt,H){return arguments.length?xt?m.enable(H):m.disable(H):rt},s.kill=function(){return m.isThrowing=!1,m.tween&&m.tween.kill(),m.disable(),ae.set(w,{clearProps:"userSelect"}),delete El[e._gsDragID],m},s.revert=function(){this.kill(),this.styles&&this.styles.revert()},~o.indexOf("scroll")&&(tt=s.scrollProxy=new ok(e,JO({onKill:function(){m.isPressed&&Ge(null)}},n)),e.style.overflowY=g&&!xy?"auto":"hidden",e.style.overflowX=p&&!xy?"auto":"hidden",e=tt.content),c?_.rotation=1:(p&&(_[h]=1),g&&(_[d]=1)),L.force3D="force3D"in n?n.force3D:!0,X1(XS(s)),s.enable(),s}return t.register=function(n){ae=n,Em()},t.create=function(n,s){return Sy||Em(!0),ua(n).map(function(o){return new t(o,s)})},t.get=function(n){return El[(ua(n)[0]||{})._gsDragID]},t.timeSinceDrag=function(){return(na()-$S)/1e3},t.hitTest=function(n,s,o){if(n===s)return!1;var l=cl(n),c=cl(s),h=l.top,d=l.left,p=l.right,g=l.bottom,v=l.width,m=l.height,w=c.left>p||c.right<d||c.top>g||c.bottom<h,_,S,x;return w||!o?!w:(x=(o+"").indexOf("%")!==-1,o=parseFloat(o)||0,_={left:Math.max(d,c.left),top:Math.max(h,c.top)},_.width=Math.min(p,c.right)-_.left,_.height=Math.min(g,c.bottom)-_.top,_.width<0||_.height<0?!1:x?(o*=.01,S=_.width*_.height,S>=v*m*o||S>=c.width*c.height*o):_.width>o&&_.height>o)},t})(lk);ek(wa.prototype,{pointerX:0,pointerY:0,startX:0,startY:0,deltaX:0,deltaY:0,isDragging:!1,isPressed:!1});wa.zIndex=1e3;wa.version="3.13.0";$1()&&ae.registerPlugin(wa);const ix=xu.work,Z1=k1(F1(a=>({activeLocation:ix,setActiveLocation:(t=null)=>a(e=>{e.activeLocation=t}),resetActiveLocation:()=>a(t=>{t.activeLocation=ix})}))),ck=xu.work?.children??[],uk=()=>{const{openWindow:a}=qn(),{setActiveLocation:t}=Z1(),e=n=>{t(n),a("finder")};return ho(()=>{wa.create(".folder")},[]),E.jsx("section",{id:"home",children:E.jsx("ul",{children:ck.map(n=>E.jsxs("li",{className:rs("group folder",n.windowPosition),onClick:()=>e(n),children:[E.jsx("img",{src:"/images/folder.png"}),E.jsx("p",{children:n.name})]},n.id))})})};var Gd={exports:{}},hk=Gd.exports,sx;function dk(){return sx||(sx=1,(function(a,t){(function(e,n){a.exports=n()})(hk,(function(){var e=1e3,n=6e4,s=36e5,o="millisecond",l="second",c="minute",h="hour",d="day",p="week",g="month",v="quarter",m="year",w="date",_="Invalid Date",S=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,x=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,T={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(W){var $=["th","st","nd","rd"],k=W%100;return"["+W+($[(k-20)%10]||$[k]||$[0])+"]"}},C=function(W,$,k){var z=String(W);return!z||z.length>=$?W:""+Array($+1-z.length).join(k)+W},D={s:C,z:function(W){var $=-W.utcOffset(),k=Math.abs($),z=Math.floor(k/60),I=k%60;return($<=0?"+":"-")+C(z,2,"0")+":"+C(I,2,"0")},m:function W($,k){if($.date()<k.date())return-W(k,$);var z=12*(k.year()-$.year())+(k.month()-$.month()),I=$.clone().add(z,g),Q=k-I<0,ot=$.clone().add(z+(Q?-1:1),g);return+(-(z+(k-I)/(Q?I-ot:ot-I))||0)},a:function(W){return W<0?Math.ceil(W)||0:Math.floor(W)},p:function(W){return{M:g,y:m,w:p,d,D:w,h,m:c,s:l,ms:o,Q:v}[W]||String(W||"").toLowerCase().replace(/s$/,"")},u:function(W){return W===void 0}},R="en",P={};P[R]=T;var O="$isDayjsObject",L=function(W){return W instanceof rt||!(!W||!W[O])},F=function W($,k,z){var I;if(!$)return R;if(typeof $=="string"){var Q=$.toLowerCase();P[Q]&&(I=Q),k&&(P[Q]=k,I=Q);var ot=$.split("-");if(!I&&ot.length>1)return W(ot[0])}else{var B=$.name;P[B]=$,I=B}return!z&&I&&(R=I),I||!z&&R},X=function(W,$){if(L(W))return W.clone();var k=typeof $=="object"?$:{};return k.date=W,k.args=arguments,new rt(k)},G=D;G.l=F,G.i=L,G.w=function(W,$){return X(W,{locale:$.$L,utc:$.$u,x:$.$x,$offset:$.$offset})};var rt=(function(){function W(k){this.$L=F(k.locale,null,!0),this.parse(k),this.$x=this.$x||k.x||{},this[O]=!0}var $=W.prototype;return $.parse=function(k){this.$d=(function(z){var I=z.date,Q=z.utc;if(I===null)return new Date(NaN);if(G.u(I))return new Date;if(I instanceof Date)return new Date(I);if(typeof I=="string"&&!/Z$/i.test(I)){var ot=I.match(S);if(ot){var B=ot[2]-1||0,j=(ot[7]||"0").substring(0,3);return Q?new Date(Date.UTC(ot[1],B,ot[3]||1,ot[4]||0,ot[5]||0,ot[6]||0,j)):new Date(ot[1],B,ot[3]||1,ot[4]||0,ot[5]||0,ot[6]||0,j)}}return new Date(I)})(k),this.init()},$.init=function(){var k=this.$d;this.$y=k.getFullYear(),this.$M=k.getMonth(),this.$D=k.getDate(),this.$W=k.getDay(),this.$H=k.getHours(),this.$m=k.getMinutes(),this.$s=k.getSeconds(),this.$ms=k.getMilliseconds()},$.$utils=function(){return G},$.isValid=function(){return this.$d.toString()!==_},$.isSame=function(k,z){var I=X(k);return this.startOf(z)<=I&&I<=this.endOf(z)},$.isAfter=function(k,z){return X(k)<this.startOf(z)},$.isBefore=function(k,z){return this.endOf(z)<X(k)},$.$g=function(k,z,I){return G.u(k)?this[z]:this.set(I,k)},$.unix=function(){return Math.floor(this.valueOf()/1e3)},$.valueOf=function(){return this.$d.getTime()},$.startOf=function(k,z){var I=this,Q=!!G.u(z)||z,ot=G.p(k),B=function(Tt,bt){var Ft=G.w(I.$u?Date.UTC(I.$y,bt,Tt):new Date(I.$y,bt,Tt),I);return Q?Ft:Ft.endOf(d)},j=function(Tt,bt){return G.w(I.toDate()[Tt].apply(I.toDate("s"),(Q?[0,0,0,0]:[23,59,59,999]).slice(bt)),I)},K=this.$W,nt=this.$M,pt=this.$D,gt="set"+(this.$u?"UTC":"");switch(ot){case m:return Q?B(1,0):B(31,11);case g:return Q?B(1,nt):B(0,nt+1);case p:var ct=this.$locale().weekStart||0,Et=(K<ct?K+7:K)-ct;return B(Q?pt-Et:pt+(6-Et),nt);case d:case w:return j(gt+"Hours",0);case h:return j(gt+"Minutes",1);case c:return j(gt+"Seconds",2);case l:return j(gt+"Milliseconds",3);default:return this.clone()}},$.endOf=function(k){return this.startOf(k,!1)},$.$set=function(k,z){var I,Q=G.p(k),ot="set"+(this.$u?"UTC":""),B=(I={},I[d]=ot+"Date",I[w]=ot+"Date",I[g]=ot+"Month",I[m]=ot+"FullYear",I[h]=ot+"Hours",I[c]=ot+"Minutes",I[l]=ot+"Seconds",I[o]=ot+"Milliseconds",I)[Q],j=Q===d?this.$D+(z-this.$W):z;if(Q===g||Q===m){var K=this.clone().set(w,1);K.$d[B](j),K.init(),this.$d=K.set(w,Math.min(this.$D,K.daysInMonth())).$d}else B&&this.$d[B](j);return this.init(),this},$.set=function(k,z){return this.clone().$set(k,z)},$.get=function(k){return this[G.p(k)]()},$.add=function(k,z){var I,Q=this;k=Number(k);var ot=G.p(z),B=function(nt){var pt=X(Q);return G.w(pt.date(pt.date()+Math.round(nt*k)),Q)};if(ot===g)return this.set(g,this.$M+k);if(ot===m)return this.set(m,this.$y+k);if(ot===d)return B(1);if(ot===p)return B(7);var j=(I={},I[c]=n,I[h]=s,I[l]=e,I)[ot]||1,K=this.$d.getTime()+k*j;return G.w(K,this)},$.subtract=function(k,z){return this.add(-1*k,z)},$.format=function(k){var z=this,I=this.$locale();if(!this.isValid())return I.invalidDate||_;var Q=k||"YYYY-MM-DDTHH:mm:ssZ",ot=G.z(this),B=this.$H,j=this.$m,K=this.$M,nt=I.weekdays,pt=I.months,gt=I.meridiem,ct=function(bt,Ft,zt,Ot){return bt&&(bt[Ft]||bt(z,Q))||zt[Ft].slice(0,Ot)},Et=function(bt){return G.s(B%12||12,bt,"0")},Tt=gt||function(bt,Ft,zt){var Ot=bt<12?"AM":"PM";return zt?Ot.toLowerCase():Ot};return Q.replace(x,(function(bt,Ft){return Ft||(function(zt){switch(zt){case"YY":return String(z.$y).slice(-2);case"YYYY":return G.s(z.$y,4,"0");case"M":return K+1;case"MM":return G.s(K+1,2,"0");case"MMM":return ct(I.monthsShort,K,pt,3);case"MMMM":return ct(pt,K);case"D":return z.$D;case"DD":return G.s(z.$D,2,"0");case"d":return String(z.$W);case"dd":return ct(I.weekdaysMin,z.$W,nt,2);case"ddd":return ct(I.weekdaysShort,z.$W,nt,3);case"dddd":return nt[z.$W];case"H":return String(B);case"HH":return G.s(B,2,"0");case"h":return Et(1);case"hh":return Et(2);case"a":return Tt(B,j,!0);case"A":return Tt(B,j,!1);case"m":return String(j);case"mm":return G.s(j,2,"0");case"s":return String(z.$s);case"ss":return G.s(z.$s,2,"0");case"SSS":return G.s(z.$ms,3,"0");case"Z":return ot}return null})(bt)||ot.replace(":","")}))},$.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},$.diff=function(k,z,I){var Q,ot=this,B=G.p(z),j=X(k),K=(j.utcOffset()-this.utcOffset())*n,nt=this-j,pt=function(){return G.m(ot,j)};switch(B){case m:Q=pt()/12;break;case g:Q=pt();break;case v:Q=pt()/3;break;case p:Q=(nt-K)/6048e5;break;case d:Q=(nt-K)/864e5;break;case h:Q=nt/s;break;case c:Q=nt/n;break;case l:Q=nt/e;break;default:Q=nt}return I?Q:G.a(Q)},$.daysInMonth=function(){return this.endOf(g).$D},$.$locale=function(){return P[this.$L]},$.locale=function(k,z){if(!k)return this.$L;var I=this.clone(),Q=F(k,z,!0);return Q&&(I.$L=Q),I},$.clone=function(){return G.w(this.$d,this)},$.toDate=function(){return new Date(this.valueOf())},$.toJSON=function(){return this.isValid()?this.toISOString():null},$.toISOString=function(){return this.$d.toISOString()},$.toString=function(){return this.$d.toUTCString()},W})(),tt=rt.prototype;return X.prototype=tt,[["$ms",o],["$s",l],["$m",c],["$H",h],["$W",d],["$M",g],["$y",m],["$D",w]].forEach((function(W){tt[W[1]]=function($){return this.$g($,W[0],W[1])}})),X.extend=function(W,$){return W.$i||(W($,rt,X),W.$i=!0),X},X.locale=F,X.isDayjs=L,X.unix=function(W){return X(1e3*W)},X.en=P[R],X.Ls=P,X.p={},X}))})(Gd)),Gd.exports}var fk=dk();const J1=Iu(fk);function he(a,t,{checkForDefaultPrevented:e=!0}={}){return function(s){if(a?.(s),e===!1||!s.defaultPrevented)return t?.(s)}}function rx(a,t){if(typeof a=="function")return a(t);a!=null&&(a.current=t)}function Wl(...a){return t=>{let e=!1;const n=a.map(s=>{const o=rx(s,t);return!e&&typeof o=="function"&&(e=!0),o});if(e)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():rx(a[s],null)}}}}function gi(...a){return M.useCallback(Wl(...a),a)}function Uu(a,t=[]){let e=[];function n(o,l){const c=M.createContext(l),h=e.length;e=[...e,l];const d=g=>{const{scope:v,children:m,...w}=g,_=v?.[a]?.[h]||c,S=M.useMemo(()=>w,Object.values(w));return E.jsx(_.Provider,{value:S,children:m})};d.displayName=o+"Provider";function p(g,v){const m=v?.[a]?.[h]||c,w=M.useContext(m);if(w)return w;if(l!==void 0)return l;throw new Error(`\`${g}\` must be used within \`${o}\``)}return[d,p]}const s=()=>{const o=e.map(l=>M.createContext(l));return function(c){const h=c?.[a]||o;return M.useMemo(()=>({[`__scope${a}`]:{...c,[a]:h}}),[c,h])}};return s.scopeName=a,[n,pk(s,...t)]}function pk(...a){const t=a[0];if(a.length===1)return t;const e=()=>{const n=a.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=n.reduce((c,{useScope:h,scopeName:d})=>{const g=h(o)[`__scope${d}`];return{...c,...g}},{});return M.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return e.scopeName=t.scopeName,e}var va=globalThis?.document?M.useLayoutEffect:()=>{},gk=hA[" useInsertionEffect ".trim().toString()]||va;function tE({prop:a,defaultProp:t,onChange:e=()=>{},caller:n}){const[s,o,l]=mk({defaultProp:t,onChange:e}),c=a!==void 0,h=c?a:s;{const p=M.useRef(a!==void 0);M.useEffect(()=>{const g=p.current;g!==c&&console.warn(`${n} is changing from ${g?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=c},[c,n])}const d=M.useCallback(p=>{if(c){const g=yk(p)?p(a):p;g!==a&&l.current?.(g)}else o(p)},[c,a,o,l]);return[h,d]}function mk({defaultProp:a,onChange:t}){const[e,n]=M.useState(a),s=M.useRef(e),o=M.useRef(t);return gk(()=>{o.current=t},[t]),M.useEffect(()=>{s.current!==e&&(o.current?.(e),s.current=e)},[e,s]),[e,n,o]}function yk(a){return typeof a=="function"}var Sv=dA();const vk=Iu(Sv);function bk(a){const t=_k(a),e=M.forwardRef((n,s)=>{const{children:o,...l}=n,c=M.Children.toArray(o),h=c.find(Sk);if(h){const d=h.props.children,p=c.map(g=>g===h?M.Children.count(d)>1?M.Children.only(null):M.isValidElement(d)?d.props.children:null:g);return E.jsx(t,{...l,ref:s,children:M.isValidElement(d)?M.cloneElement(d,void 0,p):null})}return E.jsx(t,{...l,ref:s,children:o})});return e.displayName=`${a}.Slot`,e}function _k(a){const t=M.forwardRef((e,n)=>{const{children:s,...o}=e;if(M.isValidElement(s)){const l=Ak(s),c=xk(o,s.props);return s.type!==M.Fragment&&(c.ref=n?Wl(n,l):l),M.cloneElement(s,c)}return M.Children.count(s)>1?M.Children.only(null):null});return t.displayName=`${a}.SlotClone`,t}var wk=Symbol("radix.slottable");function Sk(a){return M.isValidElement(a)&&typeof a.type=="function"&&"__radixId"in a.type&&a.type.__radixId===wk}function xk(a,t){const e={...t};for(const n in t){const s=a[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?e[n]=(...c)=>{const h=o(...c);return s(...c),h}:s&&(e[n]=s):n==="style"?e[n]={...s,...o}:n==="className"&&(e[n]=[s,o].filter(Boolean).join(" "))}return{...a,...e}}function Ak(a){let t=Object.getOwnPropertyDescriptor(a.props,"ref")?.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?a.ref:(t=Object.getOwnPropertyDescriptor(a,"ref")?.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?a.props.ref:a.props.ref||a.ref)}var Ek=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Jn=Ek.reduce((a,t)=>{const e=bk(`Primitive.${t}`),n=M.forwardRef((s,o)=>{const{asChild:l,...c}=s,h=l?e:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),E.jsx(h,{...c,ref:o})});return n.displayName=`Primitive.${t}`,{...a,[t]:n}},{});function eE(a,t){a&&Sv.flushSync(()=>a.dispatchEvent(t))}function ax(a){const t=Tk(a),e=M.forwardRef((n,s)=>{const{children:o,...l}=n,c=M.Children.toArray(o),h=c.find(Mk);if(h){const d=h.props.children,p=c.map(g=>g===h?M.Children.count(d)>1?M.Children.only(null):M.isValidElement(d)?d.props.children:null:g);return E.jsx(t,{...l,ref:s,children:M.isValidElement(d)?M.cloneElement(d,void 0,p):null})}return E.jsx(t,{...l,ref:s,children:o})});return e.displayName=`${a}.Slot`,e}function Tk(a){const t=M.forwardRef((e,n)=>{const{children:s,...o}=e;if(M.isValidElement(s)){const l=Dk(s),c=Rk(o,s.props);return s.type!==M.Fragment&&(c.ref=n?Wl(n,l):l),M.cloneElement(s,c)}return M.Children.count(s)>1?M.Children.only(null):null});return t.displayName=`${a}.SlotClone`,t}var Ck=Symbol("radix.slottable");function Mk(a){return M.isValidElement(a)&&typeof a.type=="function"&&"__radixId"in a.type&&a.type.__radixId===Ck}function Rk(a,t){const e={...t};for(const n in t){const s=a[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?e[n]=(...c)=>{const h=o(...c);return s(...c),h}:s&&(e[n]=s):n==="style"?e[n]={...s,...o}:n==="className"&&(e[n]=[s,o].filter(Boolean).join(" "))}return{...a,...e}}function Dk(a){let t=Object.getOwnPropertyDescriptor(a.props,"ref")?.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?a.ref:(t=Object.getOwnPropertyDescriptor(a,"ref")?.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?a.props.ref:a.props.ref||a.ref)}function nE(a){const t=a+"CollectionProvider",[e,n]=Uu(t),[s,o]=e(t,{collectionRef:{current:null},itemMap:new Map}),l=_=>{const{scope:S,children:x}=_,T=bn.useRef(null),C=bn.useRef(new Map).current;return E.jsx(s,{scope:S,itemMap:C,collectionRef:T,children:x})};l.displayName=t;const c=a+"CollectionSlot",h=ax(c),d=bn.forwardRef((_,S)=>{const{scope:x,children:T}=_,C=o(c,x),D=gi(S,C.collectionRef);return E.jsx(h,{ref:D,children:T})});d.displayName=c;const p=a+"CollectionItemSlot",g="data-radix-collection-item",v=ax(p),m=bn.forwardRef((_,S)=>{const{scope:x,children:T,...C}=_,D=bn.useRef(null),R=gi(S,D),P=o(p,x);return bn.useEffect(()=>(P.itemMap.set(D,{ref:D,...C}),()=>void P.itemMap.delete(D))),E.jsx(v,{[g]:"",ref:R,children:T})});m.displayName=p;function w(_){const S=o(a+"CollectionConsumer",_);return bn.useCallback(()=>{const T=S.collectionRef.current;if(!T)return[];const C=Array.from(T.querySelectorAll(`[${g}]`));return Array.from(S.itemMap.values()).sort((P,O)=>C.indexOf(P.ref.current)-C.indexOf(O.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:l,Slot:d,ItemSlot:m},w,n]}var Ok=M.createContext(void 0);function iE(a){const t=M.useContext(Ok);return a||t||"ltr"}function Tr(a){const t=M.useRef(a);return M.useEffect(()=>{t.current=a}),M.useMemo(()=>(...e)=>t.current?.(...e),[])}function kk(a,t=globalThis?.document){const e=Tr(a);M.useEffect(()=>{const n=s=>{s.key==="Escape"&&e(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[e,t])}var Nk="DismissableLayer",Cy="dismissableLayer.update",Lk="dismissableLayer.pointerDownOutside",Pk="dismissableLayer.focusOutside",ox,sE=M.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),rE=M.forwardRef((a,t)=>{const{disableOutsidePointerEvents:e=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...h}=a,d=M.useContext(sE),[p,g]=M.useState(null),v=p?.ownerDocument??globalThis?.document,[,m]=M.useState({}),w=gi(t,O=>g(O)),_=Array.from(d.layers),[S]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),x=_.indexOf(S),T=p?_.indexOf(p):-1,C=d.layersWithOutsidePointerEventsDisabled.size>0,D=T>=x,R=zk(O=>{const L=O.target,F=[...d.branches].some(X=>X.contains(L));!D||F||(s?.(O),l?.(O),O.defaultPrevented||c?.())},v),P=Fk(O=>{const L=O.target;[...d.branches].some(X=>X.contains(L))||(o?.(O),l?.(O),O.defaultPrevented||c?.())},v);return kk(O=>{T===d.layers.size-1&&(n?.(O),!O.defaultPrevented&&c&&(O.preventDefault(),c()))},v),M.useEffect(()=>{if(p)return e&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(ox=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(p)),d.layers.add(p),lx(),()=>{e&&d.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=ox)}},[p,v,e,d]),M.useEffect(()=>()=>{p&&(d.layers.delete(p),d.layersWithOutsidePointerEventsDisabled.delete(p),lx())},[p,d]),M.useEffect(()=>{const O=()=>m({});return document.addEventListener(Cy,O),()=>document.removeEventListener(Cy,O)},[]),E.jsx(Jn.div,{...h,ref:w,style:{pointerEvents:C?D?"auto":"none":void 0,...a.style},onFocusCapture:he(a.onFocusCapture,P.onFocusCapture),onBlurCapture:he(a.onBlurCapture,P.onBlurCapture),onPointerDownCapture:he(a.onPointerDownCapture,R.onPointerDownCapture)})});rE.displayName=Nk;var Bk="DismissableLayerBranch",Ik=M.forwardRef((a,t)=>{const e=M.useContext(sE),n=M.useRef(null),s=gi(t,n);return M.useEffect(()=>{const o=n.current;if(o)return e.branches.add(o),()=>{e.branches.delete(o)}},[e.branches]),E.jsx(Jn.div,{...a,ref:s})});Ik.displayName=Bk;function zk(a,t=globalThis?.document){const e=Tr(a),n=M.useRef(!1),s=M.useRef(()=>{});return M.useEffect(()=>{const o=c=>{if(c.target&&!n.current){let h=function(){aE(Lk,e,d,{discrete:!0})};const d={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=h,t.addEventListener("click",s.current,{once:!0})):h()}else t.removeEventListener("click",s.current);n.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,e]),{onPointerDownCapture:()=>n.current=!0}}function Fk(a,t=globalThis?.document){const e=Tr(a),n=M.useRef(!1);return M.useEffect(()=>{const s=o=>{o.target&&!n.current&&aE(Pk,e,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,e]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function lx(){const a=new CustomEvent(Cy);document.dispatchEvent(a)}function aE(a,t,e,{discrete:n}){const s=e.originalEvent.target,o=new CustomEvent(a,{bubbles:!1,cancelable:!0,detail:e});t&&s.addEventListener(a,t,{once:!0}),n?eE(s,o):s.dispatchEvent(o)}var Tm=0;function jk(){M.useEffect(()=>{const a=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",a[0]??cx()),document.body.insertAdjacentElement("beforeend",a[1]??cx()),Tm++,()=>{Tm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Tm--}},[])}function cx(){const a=document.createElement("span");return a.setAttribute("data-radix-focus-guard",""),a.tabIndex=0,a.style.outline="none",a.style.opacity="0",a.style.position="fixed",a.style.pointerEvents="none",a}var Cm="focusScope.autoFocusOnMount",Mm="focusScope.autoFocusOnUnmount",ux={bubbles:!1,cancelable:!0},Uk="FocusScope",oE=M.forwardRef((a,t)=>{const{loop:e=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...l}=a,[c,h]=M.useState(null),d=Tr(s),p=Tr(o),g=M.useRef(null),v=gi(t,_=>h(_)),m=M.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;M.useEffect(()=>{if(n){let _=function(C){if(m.paused||!c)return;const D=C.target;c.contains(D)?g.current=D:sa(g.current,{select:!0})},S=function(C){if(m.paused||!c)return;const D=C.relatedTarget;D!==null&&(c.contains(D)||sa(g.current,{select:!0}))},x=function(C){if(document.activeElement===document.body)for(const R of C)R.removedNodes.length>0&&sa(c)};document.addEventListener("focusin",_),document.addEventListener("focusout",S);const T=new MutationObserver(x);return c&&T.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",S),T.disconnect()}}},[n,c,m.paused]),M.useEffect(()=>{if(c){dx.add(m);const _=document.activeElement;if(!c.contains(_)){const x=new CustomEvent(Cm,ux);c.addEventListener(Cm,d),c.dispatchEvent(x),x.defaultPrevented||(Hk(qk(lE(c)),{select:!0}),document.activeElement===_&&sa(c))}return()=>{c.removeEventListener(Cm,d),setTimeout(()=>{const x=new CustomEvent(Mm,ux);c.addEventListener(Mm,p),c.dispatchEvent(x),x.defaultPrevented||sa(_??document.body,{select:!0}),c.removeEventListener(Mm,p),dx.remove(m)},0)}}},[c,d,p,m]);const w=M.useCallback(_=>{if(!e&&!n||m.paused)return;const S=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,x=document.activeElement;if(S&&x){const T=_.currentTarget,[C,D]=Gk(T);C&&D?!_.shiftKey&&x===D?(_.preventDefault(),e&&sa(C,{select:!0})):_.shiftKey&&x===C&&(_.preventDefault(),e&&sa(D,{select:!0})):x===T&&_.preventDefault()}},[e,n,m.paused]);return E.jsx(Jn.div,{tabIndex:-1,...l,ref:v,onKeyDown:w})});oE.displayName=Uk;function Hk(a,{select:t=!1}={}){const e=document.activeElement;for(const n of a)if(sa(n,{select:t}),document.activeElement!==e)return}function Gk(a){const t=lE(a),e=hx(t,a),n=hx(t.reverse(),a);return[e,n]}function lE(a){const t=[],e=document.createTreeWalker(a,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;e.nextNode();)t.push(e.currentNode);return t}function hx(a,t){for(const e of a)if(!Vk(e,{upTo:t}))return e}function Vk(a,{upTo:t}){if(getComputedStyle(a).visibility==="hidden")return!0;for(;a;){if(t!==void 0&&a===t)return!1;if(getComputedStyle(a).display==="none")return!0;a=a.parentElement}return!1}function Yk(a){return a instanceof HTMLInputElement&&"select"in a}function sa(a,{select:t=!1}={}){if(a&&a.focus){const e=document.activeElement;a.focus({preventScroll:!0}),a!==e&&Yk(a)&&t&&a.select()}}var dx=Xk();function Xk(){let a=[];return{add(t){const e=a[0];t!==e&&e?.pause(),a=fx(a,t),a.unshift(t)},remove(t){a=fx(a,t),a[0]?.resume()}}}function fx(a,t){const e=[...a],n=e.indexOf(t);return n!==-1&&e.splice(n,1),e}function qk(a){return a.filter(t=>t.tagName!=="A")}var $k=hA[" useId ".trim().toString()]||(()=>{}),Wk=0;function My(a){const[t,e]=M.useState($k());return va(()=>{e(n=>n??String(Wk++))},[a]),a||(t?`radix-${t}`:"")}var Kk=typeof document<"u",Qk=function(){},Vd=Kk?M.useLayoutEffect:Qk;function hf(a,t){if(a===t)return!0;if(typeof a!=typeof t)return!1;if(typeof a=="function"&&a.toString()===t.toString())return!0;let e,n,s;if(a&&t&&typeof a=="object"){if(Array.isArray(a)){if(e=a.length,e!==t.length)return!1;for(n=e;n--!==0;)if(!hf(a[n],t[n]))return!1;return!0}if(s=Object.keys(a),e=s.length,e!==Object.keys(t).length)return!1;for(n=e;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=e;n--!==0;){const o=s[n];if(!(o==="_owner"&&a.$$typeof)&&!hf(a[o],t[o]))return!1}return!0}return a!==a&&t!==t}function cE(a){return typeof window>"u"?1:(a.ownerDocument.defaultView||window).devicePixelRatio||1}function px(a,t){const e=cE(a);return Math.round(t*e)/e}function Rm(a){const t=M.useRef(a);return Vd(()=>{t.current=a}),t}function Zk(a){a===void 0&&(a={});const{placement:t="bottom",strategy:e="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:l}={},transform:c=!0,whileElementsMounted:h,open:d}=a,[p,g]=M.useState({x:0,y:0,strategy:e,placement:t,middlewareData:{},isPositioned:!1}),[v,m]=M.useState(n);hf(v,n)||m(n);const[w,_]=M.useState(null),[S,x]=M.useState(null),T=M.useCallback(I=>{I!==P.current&&(P.current=I,_(I))},[]),C=M.useCallback(I=>{I!==O.current&&(O.current=I,x(I))},[]),D=o||w,R=l||S,P=M.useRef(null),O=M.useRef(null),L=M.useRef(p),F=h!=null,X=Rm(h),G=Rm(s),rt=Rm(d),tt=M.useCallback(()=>{if(!P.current||!O.current)return;const I={placement:t,strategy:e,middleware:v};G.current&&(I.platform=G.current),dy(P.current,O.current,I).then(Q=>{const ot={...Q,isPositioned:rt.current!==!1};W.current&&!hf(L.current,ot)&&(L.current=ot,Sv.flushSync(()=>{g(ot)}))})},[v,t,e,G,rt]);Vd(()=>{d===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,g(I=>({...I,isPositioned:!1})))},[d]);const W=M.useRef(!1);Vd(()=>(W.current=!0,()=>{W.current=!1}),[]),Vd(()=>{if(D&&(P.current=D),R&&(O.current=R),D&&R){if(X.current)return X.current(D,R,tt);tt()}},[D,R,tt,X,F]);const $=M.useMemo(()=>({reference:P,floating:O,setReference:T,setFloating:C}),[T,C]),k=M.useMemo(()=>({reference:D,floating:R}),[D,R]),z=M.useMemo(()=>{const I={position:e,left:0,top:0};if(!k.floating)return I;const Q=px(k.floating,p.x),ot=px(k.floating,p.y);return c?{...I,transform:"translate("+Q+"px, "+ot+"px)",...cE(k.floating)>=1.5&&{willChange:"transform"}}:{position:e,left:Q,top:ot}},[e,c,k.floating,p.x,p.y]);return M.useMemo(()=>({...p,update:tt,refs:$,elements:k,floatingStyles:z}),[p,tt,$,k,z])}const Jk=a=>{function t(e){return{}.hasOwnProperty.call(e,"current")}return{name:"arrow",options:a,fn(e){const{element:n,padding:s}=typeof a=="function"?a(e):a;return n&&t(n)?n.current!=null?hy({element:n.current,padding:s}).fn(e):{}:n?hy({element:n,padding:s}).fn(e):{}}}},tN=(a,t)=>({...A1(a),options:[a,t]}),eN=(a,t)=>({...E1(a),options:[a,t]}),nN=(a,t)=>({...iO(a),options:[a,t]}),iN=(a,t)=>({...T1(a),options:[a,t]}),sN=(a,t)=>({...eO(a),options:[a,t]}),rN=(a,t)=>({...nO(a),options:[a,t]}),aN=(a,t)=>({...Jk(a),options:[a,t]});var oN="Arrow",uE=M.forwardRef((a,t)=>{const{children:e,width:n=10,height:s=5,...o}=a;return E.jsx(Jn.svg,{...o,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:a.asChild?e:E.jsx("polygon",{points:"0,0 30,0 15,10"})})});uE.displayName=oN;var lN=uE;function cN(a){const[t,e]=M.useState(void 0);return va(()=>{if(a){e({width:a.offsetWidth,height:a.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let l,c;if("borderBoxSize"in o){const h=o.borderBoxSize,d=Array.isArray(h)?h[0]:h;l=d.inlineSize,c=d.blockSize}else l=a.offsetWidth,c=a.offsetHeight;e({width:l,height:c})});return n.observe(a,{box:"border-box"}),()=>n.unobserve(a)}else e(void 0)},[a]),t}var xv="Popper",[hE,dE]=Uu(xv),[uN,fE]=hE(xv),pE=a=>{const{__scopePopper:t,children:e}=a,[n,s]=M.useState(null);return E.jsx(uN,{scope:t,anchor:n,onAnchorChange:s,children:e})};pE.displayName=xv;var gE="PopperAnchor",mE=M.forwardRef((a,t)=>{const{__scopePopper:e,virtualRef:n,...s}=a,o=fE(gE,e),l=M.useRef(null),c=gi(t,l),h=M.useRef(null);return M.useEffect(()=>{const d=h.current;h.current=n?.current||l.current,d!==h.current&&o.onAnchorChange(h.current)}),n?null:E.jsx(Jn.div,{...s,ref:c})});mE.displayName=gE;var Av="PopperContent",[hN,dN]=hE(Av),yE=M.forwardRef((a,t)=>{const{__scopePopper:e,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:h=!0,collisionBoundary:d=[],collisionPadding:p=0,sticky:g="partial",hideWhenDetached:v=!1,updatePositionStrategy:m="optimized",onPlaced:w,..._}=a,S=fE(Av,e),[x,T]=M.useState(null),C=gi(t,ct=>T(ct)),[D,R]=M.useState(null),P=cN(D),O=P?.width??0,L=P?.height??0,F=n+(o!=="center"?"-"+o:""),X=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},G=Array.isArray(d)?d:[d],rt=G.length>0,tt={padding:X,boundary:G.filter(pN),altBoundary:rt},{refs:W,floatingStyles:$,placement:k,isPositioned:z,middlewareData:I}=Zk({strategy:"fixed",placement:F,whileElementsMounted:(...ct)=>x1(...ct,{animationFrame:m==="always"}),elements:{reference:S.anchor},middleware:[tN({mainAxis:s+L,alignmentAxis:l}),h&&eN({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?nN():void 0,...tt}),h&&iN({...tt}),sN({...tt,apply:({elements:ct,rects:Et,availableWidth:Tt,availableHeight:bt})=>{const{width:Ft,height:zt}=Et.reference,Ot=ct.floating.style;Ot.setProperty("--radix-popper-available-width",`${Tt}px`),Ot.setProperty("--radix-popper-available-height",`${bt}px`),Ot.setProperty("--radix-popper-anchor-width",`${Ft}px`),Ot.setProperty("--radix-popper-anchor-height",`${zt}px`)}}),D&&aN({element:D,padding:c}),gN({arrowWidth:O,arrowHeight:L}),v&&rN({strategy:"referenceHidden",...tt})]}),[Q,ot]=_E(k),B=Tr(w);va(()=>{z&&B?.()},[z,B]);const j=I.arrow?.x,K=I.arrow?.y,nt=I.arrow?.centerOffset!==0,[pt,gt]=M.useState();return va(()=>{x&&gt(window.getComputedStyle(x).zIndex)},[x]),E.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:z?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:pt,"--radix-popper-transform-origin":[I.transformOrigin?.x,I.transformOrigin?.y].join(" "),...I.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:a.dir,children:E.jsx(hN,{scope:e,placedSide:Q,onArrowChange:R,arrowX:j,arrowY:K,shouldHideArrow:nt,children:E.jsx(Jn.div,{"data-side":Q,"data-align":ot,..._,ref:C,style:{..._.style,animation:z?void 0:"none"}})})})});yE.displayName=Av;var vE="PopperArrow",fN={top:"bottom",right:"left",bottom:"top",left:"right"},bE=M.forwardRef(function(t,e){const{__scopePopper:n,...s}=t,o=dN(vE,n),l=fN[o.placedSide];return E.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:E.jsx(lN,{...s,ref:e,style:{...s.style,display:"block"}})})});bE.displayName=vE;function pN(a){return a!==null}var gN=a=>({name:"transformOrigin",options:a,fn(t){const{placement:e,rects:n,middlewareData:s}=t,l=s.arrow?.centerOffset!==0,c=l?0:a.arrowWidth,h=l?0:a.arrowHeight,[d,p]=_E(e),g={start:"0%",center:"50%",end:"100%"}[p],v=(s.arrow?.x??0)+c/2,m=(s.arrow?.y??0)+h/2;let w="",_="";return d==="bottom"?(w=l?g:`${v}px`,_=`${-h}px`):d==="top"?(w=l?g:`${v}px`,_=`${n.floating.height+h}px`):d==="right"?(w=`${-h}px`,_=l?g:`${m}px`):d==="left"&&(w=`${n.floating.width+h}px`,_=l?g:`${m}px`),{data:{x:w,y:_}}}});function _E(a){const[t,e="center"]=a.split("-");return[t,e]}var mN=pE,yN=mE,vN=yE,bN=bE,_N="Portal",wE=M.forwardRef((a,t)=>{const{container:e,...n}=a,[s,o]=M.useState(!1);va(()=>o(!0),[]);const l=e||s&&globalThis?.document?.body;return l?vk.createPortal(E.jsx(Jn.div,{...n,ref:t}),l):null});wE.displayName=_N;function wN(a,t){return M.useReducer((e,n)=>t[e][n]??e,a)}var Hu=a=>{const{present:t,children:e}=a,n=SN(t),s=typeof e=="function"?e({present:n.isPresent}):M.Children.only(e),o=gi(n.ref,xN(s));return typeof e=="function"||n.isPresent?M.cloneElement(s,{ref:o}):null};Hu.displayName="Presence";function SN(a){const[t,e]=M.useState(),n=M.useRef(null),s=M.useRef(a),o=M.useRef("none"),l=a?"mounted":"unmounted",[c,h]=wN(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return M.useEffect(()=>{const d=_d(n.current);o.current=c==="mounted"?d:"none"},[c]),va(()=>{const d=n.current,p=s.current;if(p!==a){const v=o.current,m=_d(d);a?h("MOUNT"):m==="none"||d?.display==="none"?h("UNMOUNT"):h(p&&v!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=a}},[a,h]),va(()=>{if(t){let d;const p=t.ownerDocument.defaultView??window,g=m=>{const _=_d(n.current).includes(CSS.escape(m.animationName));if(m.target===t&&_&&(h("ANIMATION_END"),!s.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",d=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},v=m=>{m.target===t&&(o.current=_d(n.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",g),t.addEventListener("animationend",g),()=>{p.clearTimeout(d),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",g),t.removeEventListener("animationend",g)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:M.useCallback(d=>{n.current=d?getComputedStyle(d):null,e(d)},[])}}function _d(a){return a?.animationName||"none"}function xN(a){let t=Object.getOwnPropertyDescriptor(a.props,"ref")?.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?a.ref:(t=Object.getOwnPropertyDescriptor(a,"ref")?.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?a.props.ref:a.props.ref||a.ref)}var Dm="rovingFocusGroup.onEntryFocus",AN={bubbles:!1,cancelable:!0},Gu="RovingFocusGroup",[Ry,SE,EN]=nE(Gu),[TN,xE]=Uu(Gu,[EN]),[CN,MN]=TN(Gu),AE=M.forwardRef((a,t)=>E.jsx(Ry.Provider,{scope:a.__scopeRovingFocusGroup,children:E.jsx(Ry.Slot,{scope:a.__scopeRovingFocusGroup,children:E.jsx(RN,{...a,ref:t})})}));AE.displayName=Gu;var RN=M.forwardRef((a,t)=>{const{__scopeRovingFocusGroup:e,orientation:n,loop:s=!1,dir:o,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:h,onEntryFocus:d,preventScrollOnEntryFocus:p=!1,...g}=a,v=M.useRef(null),m=gi(t,v),w=iE(o),[_,S]=tE({prop:l,defaultProp:c??null,onChange:h,caller:Gu}),[x,T]=M.useState(!1),C=Tr(d),D=SE(e),R=M.useRef(!1),[P,O]=M.useState(0);return M.useEffect(()=>{const L=v.current;if(L)return L.addEventListener(Dm,C),()=>L.removeEventListener(Dm,C)},[C]),E.jsx(CN,{scope:e,orientation:n,dir:w,loop:s,currentTabStopId:_,onItemFocus:M.useCallback(L=>S(L),[S]),onItemShiftTab:M.useCallback(()=>T(!0),[]),onFocusableItemAdd:M.useCallback(()=>O(L=>L+1),[]),onFocusableItemRemove:M.useCallback(()=>O(L=>L-1),[]),children:E.jsx(Jn.div,{tabIndex:x||P===0?-1:0,"data-orientation":n,...g,ref:m,style:{outline:"none",...a.style},onMouseDown:he(a.onMouseDown,()=>{R.current=!0}),onFocus:he(a.onFocus,L=>{const F=!R.current;if(L.target===L.currentTarget&&F&&!x){const X=new CustomEvent(Dm,AN);if(L.currentTarget.dispatchEvent(X),!X.defaultPrevented){const G=D().filter(k=>k.focusable),rt=G.find(k=>k.active),tt=G.find(k=>k.id===_),$=[rt,tt,...G].filter(Boolean).map(k=>k.ref.current);CE($,p)}}R.current=!1}),onBlur:he(a.onBlur,()=>T(!1))})})}),EE="RovingFocusGroupItem",TE=M.forwardRef((a,t)=>{const{__scopeRovingFocusGroup:e,focusable:n=!0,active:s=!1,tabStopId:o,children:l,...c}=a,h=My(),d=o||h,p=MN(EE,e),g=p.currentTabStopId===d,v=SE(e),{onFocusableItemAdd:m,onFocusableItemRemove:w,currentTabStopId:_}=p;return M.useEffect(()=>{if(n)return m(),()=>w()},[n,m,w]),E.jsx(Ry.ItemSlot,{scope:e,id:d,focusable:n,active:s,children:E.jsx(Jn.span,{tabIndex:g?0:-1,"data-orientation":p.orientation,...c,ref:t,onMouseDown:he(a.onMouseDown,S=>{n?p.onItemFocus(d):S.preventDefault()}),onFocus:he(a.onFocus,()=>p.onItemFocus(d)),onKeyDown:he(a.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){p.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const x=kN(S,p.orientation,p.dir);if(x!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let C=v().filter(D=>D.focusable).map(D=>D.ref.current);if(x==="last")C.reverse();else if(x==="prev"||x==="next"){x==="prev"&&C.reverse();const D=C.indexOf(S.currentTarget);C=p.loop?NN(C,D+1):C.slice(D+1)}setTimeout(()=>CE(C))}}),children:typeof l=="function"?l({isCurrentTabStop:g,hasTabStop:_!=null}):l})})});TE.displayName=EE;var DN={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ON(a,t){return t!=="rtl"?a:a==="ArrowLeft"?"ArrowRight":a==="ArrowRight"?"ArrowLeft":a}function kN(a,t,e){const n=ON(a.key,e);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return DN[n]}function CE(a,t=!1){const e=document.activeElement;for(const n of a)if(n===e||(n.focus({preventScroll:t}),document.activeElement!==e))return}function NN(a,t){return a.map((e,n)=>a[(t+n)%a.length])}var LN=AE,PN=TE;function BN(a){const t=IN(a),e=M.forwardRef((n,s)=>{const{children:o,...l}=n,c=M.Children.toArray(o),h=c.find(FN);if(h){const d=h.props.children,p=c.map(g=>g===h?M.Children.count(d)>1?M.Children.only(null):M.isValidElement(d)?d.props.children:null:g);return E.jsx(t,{...l,ref:s,children:M.isValidElement(d)?M.cloneElement(d,void 0,p):null})}return E.jsx(t,{...l,ref:s,children:o})});return e.displayName=`${a}.Slot`,e}function IN(a){const t=M.forwardRef((e,n)=>{const{children:s,...o}=e;if(M.isValidElement(s)){const l=UN(s),c=jN(o,s.props);return s.type!==M.Fragment&&(c.ref=n?Wl(n,l):l),M.cloneElement(s,c)}return M.Children.count(s)>1?M.Children.only(null):null});return t.displayName=`${a}.SlotClone`,t}var zN=Symbol("radix.slottable");function FN(a){return M.isValidElement(a)&&typeof a.type=="function"&&"__radixId"in a.type&&a.type.__radixId===zN}function jN(a,t){const e={...t};for(const n in t){const s=a[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?e[n]=(...c)=>{const h=o(...c);return s(...c),h}:s&&(e[n]=s):n==="style"?e[n]={...s,...o}:n==="className"&&(e[n]=[s,o].filter(Boolean).join(" "))}return{...a,...e}}function UN(a){let t=Object.getOwnPropertyDescriptor(a.props,"ref")?.get,e=t&&"isReactWarning"in t&&t.isReactWarning;return e?a.ref:(t=Object.getOwnPropertyDescriptor(a,"ref")?.get,e=t&&"isReactWarning"in t&&t.isReactWarning,e?a.props.ref:a.props.ref||a.ref)}var HN=function(a){if(typeof document>"u")return null;var t=Array.isArray(a)?a[0]:a;return t.ownerDocument.body},ul=new WeakMap,wd=new WeakMap,Sd={},Om=0,ME=function(a){return a&&(a.host||ME(a.parentNode))},GN=function(a,t){return t.map(function(e){if(a.contains(e))return e;var n=ME(e);return n&&a.contains(n)?n:(console.error("aria-hidden",e,"in not contained inside",a,". Doing nothing"),null)}).filter(function(e){return!!e})},VN=function(a,t,e,n){var s=GN(t,Array.isArray(a)?a:[a]);Sd[e]||(Sd[e]=new WeakMap);var o=Sd[e],l=[],c=new Set,h=new Set(s),d=function(g){!g||c.has(g)||(c.add(g),d(g.parentNode))};s.forEach(d);var p=function(g){!g||h.has(g)||Array.prototype.forEach.call(g.children,function(v){if(c.has(v))p(v);else try{var m=v.getAttribute(n),w=m!==null&&m!=="false",_=(ul.get(v)||0)+1,S=(o.get(v)||0)+1;ul.set(v,_),o.set(v,S),l.push(v),_===1&&w&&wd.set(v,!0),S===1&&v.setAttribute(e,"true"),w||v.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",v,x)}})};return p(t),c.clear(),Om++,function(){l.forEach(function(g){var v=ul.get(g)-1,m=o.get(g)-1;ul.set(g,v),o.set(g,m),v||(wd.has(g)||g.removeAttribute(n),wd.delete(g)),m||g.removeAttribute(e)}),Om--,Om||(ul=new WeakMap,ul=new WeakMap,wd=new WeakMap,Sd={})}},YN=function(a,t,e){e===void 0&&(e="data-aria-hidden");var n=Array.from(Array.isArray(a)?a:[a]),s=HN(a);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),VN(n,s,e,"aria-hidden")):function(){return null}},Is=function(){return Is=Object.assign||function(t){for(var e,n=1,s=arguments.length;n<s;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Is.apply(this,arguments)};function RE(a,t){var e={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&t.indexOf(n)<0&&(e[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(a);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(a,n[s])&&(e[n[s]]=a[n[s]]);return e}function XN(a,t,e){if(e||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return a.concat(o||Array.prototype.slice.call(t))}var Yd="right-scroll-bar-position",Xd="width-before-scroll-bar",qN="with-scroll-bars-hidden",$N="--removed-body-scroll-bar-size";function km(a,t){return typeof a=="function"?a(t):a&&(a.current=t),a}function WN(a,t){var e=M.useState(function(){return{value:a,callback:t,facade:{get current(){return e.value},set current(n){var s=e.value;s!==n&&(e.value=n,e.callback(n,s))}}}})[0];return e.callback=t,e.facade}var KN=typeof window<"u"?M.useLayoutEffect:M.useEffect,gx=new WeakMap;function QN(a,t){var e=WN(null,function(n){return a.forEach(function(s){return km(s,n)})});return KN(function(){var n=gx.get(e);if(n){var s=new Set(n),o=new Set(a),l=e.current;s.forEach(function(c){o.has(c)||km(c,null)}),o.forEach(function(c){s.has(c)||km(c,l)})}gx.set(e,a)},[a]),e}function ZN(a){return a}function JN(a,t){t===void 0&&(t=ZN);var e=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return e.length?e[e.length-1]:a},useMedium:function(o){var l=t(o,n);return e.push(l),function(){e=e.filter(function(c){return c!==l})}},assignSyncMedium:function(o){for(n=!0;e.length;){var l=e;e=[],l.forEach(o)}e={push:function(c){return o(c)},filter:function(){return e}}},assignMedium:function(o){n=!0;var l=[];if(e.length){var c=e;e=[],c.forEach(o),l=e}var h=function(){var p=l;l=[],p.forEach(o)},d=function(){return Promise.resolve().then(h)};d(),e={push:function(p){l.push(p),d()},filter:function(p){return l=l.filter(p),e}}}};return s}function tL(a){a===void 0&&(a={});var t=JN(null);return t.options=Is({async:!0,ssr:!1},a),t}var DE=function(a){var t=a.sideCar,e=RE(a,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return M.createElement(n,Is({},e))};DE.isSideCarExport=!0;function eL(a,t){return a.useMedium(t),DE}var OE=tL(),Nm=function(){},Of=M.forwardRef(function(a,t){var e=M.useRef(null),n=M.useState({onScrollCapture:Nm,onWheelCapture:Nm,onTouchMoveCapture:Nm}),s=n[0],o=n[1],l=a.forwardProps,c=a.children,h=a.className,d=a.removeScrollBar,p=a.enabled,g=a.shards,v=a.sideCar,m=a.noRelative,w=a.noIsolation,_=a.inert,S=a.allowPinchZoom,x=a.as,T=x===void 0?"div":x,C=a.gapMode,D=RE(a,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=v,P=QN([e,t]),O=Is(Is({},D),s);return M.createElement(M.Fragment,null,p&&M.createElement(R,{sideCar:OE,removeScrollBar:d,shards:g,noRelative:m,noIsolation:w,inert:_,setCallbacks:o,allowPinchZoom:!!S,lockRef:e,gapMode:C}),l?M.cloneElement(M.Children.only(c),Is(Is({},O),{ref:P})):M.createElement(T,Is({},O,{className:h,ref:P}),c))});Of.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Of.classNames={fullWidth:Xd,zeroRight:Yd};var nL=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function iL(){if(!document)return null;var a=document.createElement("style");a.type="text/css";var t=nL();return t&&a.setAttribute("nonce",t),a}function sL(a,t){a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t))}function rL(a){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(a)}var aL=function(){var a=0,t=null;return{add:function(e){a==0&&(t=iL())&&(sL(t,e),rL(t)),a++},remove:function(){a--,!a&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},oL=function(){var a=aL();return function(t,e){M.useEffect(function(){return a.add(t),function(){a.remove()}},[t&&e])}},kE=function(){var a=oL(),t=function(e){var n=e.styles,s=e.dynamic;return a(n,s),null};return t},lL={left:0,top:0,right:0,gap:0},Lm=function(a){return parseInt(a||"",10)||0},cL=function(a){var t=window.getComputedStyle(document.body),e=t[a==="padding"?"paddingLeft":"marginLeft"],n=t[a==="padding"?"paddingTop":"marginTop"],s=t[a==="padding"?"paddingRight":"marginRight"];return[Lm(e),Lm(n),Lm(s)]},uL=function(a){if(a===void 0&&(a="margin"),typeof window>"u")return lL;var t=cL(a),e=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-e+t[2]-t[0])}},hL=kE(),Ml="data-scroll-locked",dL=function(a,t,e,n){var s=a.left,o=a.top,l=a.right,c=a.gap;return e===void 0&&(e="margin"),`
  .`.concat(qN,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(Ml,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),e==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),e==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Yd,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Xd,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Yd," .").concat(Yd,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Xd," .").concat(Xd,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ml,`] {
    `).concat($N,": ").concat(c,`px;
  }
`)},mx=function(){var a=parseInt(document.body.getAttribute(Ml)||"0",10);return isFinite(a)?a:0},fL=function(){M.useEffect(function(){return document.body.setAttribute(Ml,(mx()+1).toString()),function(){var a=mx()-1;a<=0?document.body.removeAttribute(Ml):document.body.setAttribute(Ml,a.toString())}},[])},pL=function(a){var t=a.noRelative,e=a.noImportant,n=a.gapMode,s=n===void 0?"margin":n;fL();var o=M.useMemo(function(){return uL(s)},[s]);return M.createElement(hL,{styles:dL(o,!t,s,e?"":"!important")})},Dy=!1;if(typeof window<"u")try{var xd=Object.defineProperty({},"passive",{get:function(){return Dy=!0,!0}});window.addEventListener("test",xd,xd),window.removeEventListener("test",xd,xd)}catch{Dy=!1}var hl=Dy?{passive:!1}:!1,gL=function(a){return a.tagName==="TEXTAREA"},NE=function(a,t){if(!(a instanceof Element))return!1;var e=window.getComputedStyle(a);return e[t]!=="hidden"&&!(e.overflowY===e.overflowX&&!gL(a)&&e[t]==="visible")},mL=function(a){return NE(a,"overflowY")},yL=function(a){return NE(a,"overflowX")},yx=function(a,t){var e=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=LE(a,n);if(s){var o=PE(a,n),l=o[1],c=o[2];if(l>c)return!0}n=n.parentNode}while(n&&n!==e.body);return!1},vL=function(a){var t=a.scrollTop,e=a.scrollHeight,n=a.clientHeight;return[t,e,n]},bL=function(a){var t=a.scrollLeft,e=a.scrollWidth,n=a.clientWidth;return[t,e,n]},LE=function(a,t){return a==="v"?mL(t):yL(t)},PE=function(a,t){return a==="v"?vL(t):bL(t)},_L=function(a,t){return a==="h"&&t==="rtl"?-1:1},wL=function(a,t,e,n,s){var o=_L(a,window.getComputedStyle(t).direction),l=o*n,c=e.target,h=t.contains(c),d=!1,p=l>0,g=0,v=0;do{if(!c)break;var m=PE(a,c),w=m[0],_=m[1],S=m[2],x=_-S-o*w;(w||x)&&LE(a,c)&&(g+=x,v+=w);var T=c.parentNode;c=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!h&&c!==document.body||h&&(t.contains(c)||t===c));return(p&&Math.abs(g)<1||!p&&Math.abs(v)<1)&&(d=!0),d},Ad=function(a){return"changedTouches"in a?[a.changedTouches[0].clientX,a.changedTouches[0].clientY]:[0,0]},vx=function(a){return[a.deltaX,a.deltaY]},bx=function(a){return a&&"current"in a?a.current:a},SL=function(a,t){return a[0]===t[0]&&a[1]===t[1]},xL=function(a){return`
  .block-interactivity-`.concat(a,` {pointer-events: none;}
  .allow-interactivity-`).concat(a,` {pointer-events: all;}
`)},AL=0,dl=[];function EL(a){var t=M.useRef([]),e=M.useRef([0,0]),n=M.useRef(),s=M.useState(AL++)[0],o=M.useState(kE)[0],l=M.useRef(a);M.useEffect(function(){l.current=a},[a]),M.useEffect(function(){if(a.inert){document.body.classList.add("block-interactivity-".concat(s));var _=XN([a.lockRef.current],(a.shards||[]).map(bx),!0).filter(Boolean);return _.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),_.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[a.inert,a.lockRef.current,a.shards]);var c=M.useCallback(function(_,S){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!l.current.allowPinchZoom;var x=Ad(_),T=e.current,C="deltaX"in _?_.deltaX:T[0]-x[0],D="deltaY"in _?_.deltaY:T[1]-x[1],R,P=_.target,O=Math.abs(C)>Math.abs(D)?"h":"v";if("touches"in _&&O==="h"&&P.type==="range")return!1;var L=yx(O,P);if(!L)return!0;if(L?R=O:(R=O==="v"?"h":"v",L=yx(O,P)),!L)return!1;if(!n.current&&"changedTouches"in _&&(C||D)&&(n.current=R),!R)return!0;var F=n.current||R;return wL(F,S,_,F==="h"?C:D)},[]),h=M.useCallback(function(_){var S=_;if(!(!dl.length||dl[dl.length-1]!==o)){var x="deltaY"in S?vx(S):Ad(S),T=t.current.filter(function(R){return R.name===S.type&&(R.target===S.target||S.target===R.shadowParent)&&SL(R.delta,x)})[0];if(T&&T.should){S.cancelable&&S.preventDefault();return}if(!T){var C=(l.current.shards||[]).map(bx).filter(Boolean).filter(function(R){return R.contains(S.target)}),D=C.length>0?c(S,C[0]):!l.current.noIsolation;D&&S.cancelable&&S.preventDefault()}}},[]),d=M.useCallback(function(_,S,x,T){var C={name:_,delta:S,target:x,should:T,shadowParent:TL(x)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(D){return D!==C})},1)},[]),p=M.useCallback(function(_){e.current=Ad(_),n.current=void 0},[]),g=M.useCallback(function(_){d(_.type,vx(_),_.target,c(_,a.lockRef.current))},[]),v=M.useCallback(function(_){d(_.type,Ad(_),_.target,c(_,a.lockRef.current))},[]);M.useEffect(function(){return dl.push(o),a.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:v}),document.addEventListener("wheel",h,hl),document.addEventListener("touchmove",h,hl),document.addEventListener("touchstart",p,hl),function(){dl=dl.filter(function(_){return _!==o}),document.removeEventListener("wheel",h,hl),document.removeEventListener("touchmove",h,hl),document.removeEventListener("touchstart",p,hl)}},[]);var m=a.removeScrollBar,w=a.inert;return M.createElement(M.Fragment,null,w?M.createElement(o,{styles:xL(s)}):null,m?M.createElement(pL,{noRelative:a.noRelative,gapMode:a.gapMode}):null)}function TL(a){for(var t=null;a!==null;)a instanceof ShadowRoot&&(t=a.host,a=a.host),a=a.parentNode;return t}const CL=eL(OE,EL);var BE=M.forwardRef(function(a,t){return M.createElement(Of,Is({},a,{ref:t,sideCar:CL}))});BE.classNames=Of.classNames;var Oy=["Enter"," "],ML=["ArrowDown","PageUp","Home"],IE=["ArrowUp","PageDown","End"],RL=[...ML,...IE],DL={ltr:[...Oy,"ArrowRight"],rtl:[...Oy,"ArrowLeft"]},OL={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Vu="Menu",[Ru,kL,NL]=nE(Vu),[wo,zE]=Uu(Vu,[NL,dE,xE]),kf=dE(),FE=xE(),[LL,So]=wo(Vu),[PL,Yu]=wo(Vu),jE=a=>{const{__scopeMenu:t,open:e=!1,children:n,dir:s,onOpenChange:o,modal:l=!0}=a,c=kf(t),[h,d]=M.useState(null),p=M.useRef(!1),g=Tr(o),v=iE(s);return M.useEffect(()=>{const m=()=>{p.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>p.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),E.jsx(mN,{...c,children:E.jsx(LL,{scope:t,open:e,onOpenChange:g,content:h,onContentChange:d,children:E.jsx(PL,{scope:t,onClose:M.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:p,dir:v,modal:l,children:n})})})};jE.displayName=Vu;var BL="MenuAnchor",Ev=M.forwardRef((a,t)=>{const{__scopeMenu:e,...n}=a,s=kf(e);return E.jsx(yN,{...s,...n,ref:t})});Ev.displayName=BL;var Tv="MenuPortal",[IL,UE]=wo(Tv,{forceMount:void 0}),HE=a=>{const{__scopeMenu:t,forceMount:e,children:n,container:s}=a,o=So(Tv,t);return E.jsx(IL,{scope:t,forceMount:e,children:E.jsx(Hu,{present:e||o.open,children:E.jsx(wE,{asChild:!0,container:s,children:n})})})};HE.displayName=Tv;var as="MenuContent",[zL,Cv]=wo(as),GE=M.forwardRef((a,t)=>{const e=UE(as,a.__scopeMenu),{forceMount:n=e.forceMount,...s}=a,o=So(as,a.__scopeMenu),l=Yu(as,a.__scopeMenu);return E.jsx(Ru.Provider,{scope:a.__scopeMenu,children:E.jsx(Hu,{present:n||o.open,children:E.jsx(Ru.Slot,{scope:a.__scopeMenu,children:l.modal?E.jsx(FL,{...s,ref:t}):E.jsx(jL,{...s,ref:t})})})})}),FL=M.forwardRef((a,t)=>{const e=So(as,a.__scopeMenu),n=M.useRef(null),s=gi(t,n);return M.useEffect(()=>{const o=n.current;if(o)return YN(o)},[]),E.jsx(Mv,{...a,ref:s,trapFocus:e.open,disableOutsidePointerEvents:e.open,disableOutsideScroll:!0,onFocusOutside:he(a.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>e.onOpenChange(!1)})}),jL=M.forwardRef((a,t)=>{const e=So(as,a.__scopeMenu);return E.jsx(Mv,{...a,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>e.onOpenChange(!1)})}),UL=BN("MenuContent.ScrollLock"),Mv=M.forwardRef((a,t)=>{const{__scopeMenu:e,loop:n=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEntryFocus:h,onEscapeKeyDown:d,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:v,onDismiss:m,disableOutsideScroll:w,..._}=a,S=So(as,e),x=Yu(as,e),T=kf(e),C=FE(e),D=kL(e),[R,P]=M.useState(null),O=M.useRef(null),L=gi(t,O,S.onContentChange),F=M.useRef(0),X=M.useRef(""),G=M.useRef(0),rt=M.useRef(null),tt=M.useRef("right"),W=M.useRef(0),$=w?BE:M.Fragment,k=w?{as:UL,allowPinchZoom:!0}:void 0,z=Q=>{const ot=X.current+Q,B=D().filter(ct=>!ct.disabled),j=document.activeElement,K=B.find(ct=>ct.ref.current===j)?.textValue,nt=B.map(ct=>ct.textValue),pt=JL(nt,ot,K),gt=B.find(ct=>ct.textValue===pt)?.ref.current;(function ct(Et){X.current=Et,window.clearTimeout(F.current),Et!==""&&(F.current=window.setTimeout(()=>ct(""),1e3))})(ot),gt&&setTimeout(()=>gt.focus())};M.useEffect(()=>()=>window.clearTimeout(F.current),[]),jk();const I=M.useCallback(Q=>tt.current===rt.current?.side&&eP(Q,rt.current?.area),[]);return E.jsx(zL,{scope:e,searchRef:X,onItemEnter:M.useCallback(Q=>{I(Q)&&Q.preventDefault()},[I]),onItemLeave:M.useCallback(Q=>{I(Q)||(O.current?.focus(),P(null))},[I]),onTriggerLeave:M.useCallback(Q=>{I(Q)&&Q.preventDefault()},[I]),pointerGraceTimerRef:G,onPointerGraceIntentChange:M.useCallback(Q=>{rt.current=Q},[]),children:E.jsx($,{...k,children:E.jsx(oE,{asChild:!0,trapped:s,onMountAutoFocus:he(o,Q=>{Q.preventDefault(),O.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:E.jsx(rE,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:v,onDismiss:m,children:E.jsx(LN,{asChild:!0,...C,dir:x.dir,orientation:"vertical",loop:n,currentTabStopId:R,onCurrentTabStopIdChange:P,onEntryFocus:he(h,Q=>{x.isUsingKeyboardRef.current||Q.preventDefault()}),preventScrollOnEntryFocus:!0,children:E.jsx(vN,{role:"menu","aria-orientation":"vertical","data-state":rT(S.open),"data-radix-menu-content":"",dir:x.dir,...T,..._,ref:L,style:{outline:"none",..._.style},onKeyDown:he(_.onKeyDown,Q=>{const B=Q.target.closest("[data-radix-menu-content]")===Q.currentTarget,j=Q.ctrlKey||Q.altKey||Q.metaKey,K=Q.key.length===1;B&&(Q.key==="Tab"&&Q.preventDefault(),!j&&K&&z(Q.key));const nt=O.current;if(Q.target!==nt||!RL.includes(Q.key))return;Q.preventDefault();const gt=D().filter(ct=>!ct.disabled).map(ct=>ct.ref.current);IE.includes(Q.key)&&gt.reverse(),QL(gt)}),onBlur:he(a.onBlur,Q=>{Q.currentTarget.contains(Q.target)||(window.clearTimeout(F.current),X.current="")}),onPointerMove:he(a.onPointerMove,Du(Q=>{const ot=Q.target,B=W.current!==Q.clientX;if(Q.currentTarget.contains(ot)&&B){const j=Q.clientX>W.current?"right":"left";tt.current=j,W.current=Q.clientX}}))})})})})})})});GE.displayName=as;var HL="MenuGroup",Rv=M.forwardRef((a,t)=>{const{__scopeMenu:e,...n}=a;return E.jsx(Jn.div,{role:"group",...n,ref:t})});Rv.displayName=HL;var GL="MenuLabel",VE=M.forwardRef((a,t)=>{const{__scopeMenu:e,...n}=a;return E.jsx(Jn.div,{...n,ref:t})});VE.displayName=GL;var df="MenuItem",_x="menu.itemSelect",Nf=M.forwardRef((a,t)=>{const{disabled:e=!1,onSelect:n,...s}=a,o=M.useRef(null),l=Yu(df,a.__scopeMenu),c=Cv(df,a.__scopeMenu),h=gi(t,o),d=M.useRef(!1),p=()=>{const g=o.current;if(!e&&g){const v=new CustomEvent(_x,{bubbles:!0,cancelable:!0});g.addEventListener(_x,m=>n?.(m),{once:!0}),eE(g,v),v.defaultPrevented?d.current=!1:l.onClose()}};return E.jsx(YE,{...s,ref:h,disabled:e,onClick:he(a.onClick,p),onPointerDown:g=>{a.onPointerDown?.(g),d.current=!0},onPointerUp:he(a.onPointerUp,g=>{d.current||g.currentTarget?.click()}),onKeyDown:he(a.onKeyDown,g=>{const v=c.searchRef.current!=="";e||v&&g.key===" "||Oy.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});Nf.displayName=df;var YE=M.forwardRef((a,t)=>{const{__scopeMenu:e,disabled:n=!1,textValue:s,...o}=a,l=Cv(df,e),c=FE(e),h=M.useRef(null),d=gi(t,h),[p,g]=M.useState(!1),[v,m]=M.useState("");return M.useEffect(()=>{const w=h.current;w&&m((w.textContent??"").trim())},[o.children]),E.jsx(Ru.ItemSlot,{scope:e,disabled:n,textValue:s??v,children:E.jsx(PN,{asChild:!0,...c,focusable:!n,children:E.jsx(Jn.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:d,onPointerMove:he(a.onPointerMove,Du(w=>{n?l.onItemLeave(w):(l.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:he(a.onPointerLeave,Du(w=>l.onItemLeave(w))),onFocus:he(a.onFocus,()=>g(!0)),onBlur:he(a.onBlur,()=>g(!1))})})})}),VL="MenuCheckboxItem",XE=M.forwardRef((a,t)=>{const{checked:e=!1,onCheckedChange:n,...s}=a;return E.jsx(QE,{scope:a.__scopeMenu,checked:e,children:E.jsx(Nf,{role:"menuitemcheckbox","aria-checked":ff(e)?"mixed":e,...s,ref:t,"data-state":Ov(e),onSelect:he(s.onSelect,()=>n?.(ff(e)?!0:!e),{checkForDefaultPrevented:!1})})})});XE.displayName=VL;var qE="MenuRadioGroup",[YL,XL]=wo(qE,{value:void 0,onValueChange:()=>{}}),$E=M.forwardRef((a,t)=>{const{value:e,onValueChange:n,...s}=a,o=Tr(n);return E.jsx(YL,{scope:a.__scopeMenu,value:e,onValueChange:o,children:E.jsx(Rv,{...s,ref:t})})});$E.displayName=qE;var WE="MenuRadioItem",KE=M.forwardRef((a,t)=>{const{value:e,...n}=a,s=XL(WE,a.__scopeMenu),o=e===s.value;return E.jsx(QE,{scope:a.__scopeMenu,checked:o,children:E.jsx(Nf,{role:"menuitemradio","aria-checked":o,...n,ref:t,"data-state":Ov(o),onSelect:he(n.onSelect,()=>s.onValueChange?.(e),{checkForDefaultPrevented:!1})})})});KE.displayName=WE;var Dv="MenuItemIndicator",[QE,qL]=wo(Dv,{checked:!1}),ZE=M.forwardRef((a,t)=>{const{__scopeMenu:e,forceMount:n,...s}=a,o=qL(Dv,e);return E.jsx(Hu,{present:n||ff(o.checked)||o.checked===!0,children:E.jsx(Jn.span,{...s,ref:t,"data-state":Ov(o.checked)})})});ZE.displayName=Dv;var $L="MenuSeparator",JE=M.forwardRef((a,t)=>{const{__scopeMenu:e,...n}=a;return E.jsx(Jn.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});JE.displayName=$L;var WL="MenuArrow",tT=M.forwardRef((a,t)=>{const{__scopeMenu:e,...n}=a,s=kf(e);return E.jsx(bN,{...s,...n,ref:t})});tT.displayName=WL;var KL="MenuSub",[zF,eT]=wo(KL),nu="MenuSubTrigger",nT=M.forwardRef((a,t)=>{const e=So(nu,a.__scopeMenu),n=Yu(nu,a.__scopeMenu),s=eT(nu,a.__scopeMenu),o=Cv(nu,a.__scopeMenu),l=M.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:h}=o,d={__scopeMenu:a.__scopeMenu},p=M.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return M.useEffect(()=>p,[p]),M.useEffect(()=>{const g=c.current;return()=>{window.clearTimeout(g),h(null)}},[c,h]),E.jsx(Ev,{asChild:!0,...d,children:E.jsx(YE,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":e.open,"aria-controls":s.contentId,"data-state":rT(e.open),...a,ref:Wl(t,s.onTriggerChange),onClick:g=>{a.onClick?.(g),!(a.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),e.open||e.onOpenChange(!0))},onPointerMove:he(a.onPointerMove,Du(g=>{o.onItemEnter(g),!g.defaultPrevented&&!a.disabled&&!e.open&&!l.current&&(o.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{e.onOpenChange(!0),p()},100))})),onPointerLeave:he(a.onPointerLeave,Du(g=>{p();const v=e.content?.getBoundingClientRect();if(v){const m=e.content?.dataset.side,w=m==="right",_=w?-5:5,S=v[w?"left":"right"],x=v[w?"right":"left"];o.onPointerGraceIntentChange({area:[{x:g.clientX+_,y:g.clientY},{x:S,y:v.top},{x,y:v.top},{x,y:v.bottom},{x:S,y:v.bottom}],side:m}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(g),g.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:he(a.onKeyDown,g=>{const v=o.searchRef.current!=="";a.disabled||v&&g.key===" "||DL[n.dir].includes(g.key)&&(e.onOpenChange(!0),e.content?.focus(),g.preventDefault())})})})});nT.displayName=nu;var iT="MenuSubContent",sT=M.forwardRef((a,t)=>{const e=UE(as,a.__scopeMenu),{forceMount:n=e.forceMount,...s}=a,o=So(as,a.__scopeMenu),l=Yu(as,a.__scopeMenu),c=eT(iT,a.__scopeMenu),h=M.useRef(null),d=gi(t,h);return E.jsx(Ru.Provider,{scope:a.__scopeMenu,children:E.jsx(Hu,{present:n||o.open,children:E.jsx(Ru.Slot,{scope:a.__scopeMenu,children:E.jsx(Mv,{id:c.contentId,"aria-labelledby":c.triggerId,...s,ref:d,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{l.isUsingKeyboardRef.current&&h.current?.focus(),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:he(a.onFocusOutside,p=>{p.target!==c.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:he(a.onEscapeKeyDown,p=>{l.onClose(),p.preventDefault()}),onKeyDown:he(a.onKeyDown,p=>{const g=p.currentTarget.contains(p.target),v=OL[l.dir].includes(p.key);g&&v&&(o.onOpenChange(!1),c.trigger?.focus(),p.preventDefault())})})})})})});sT.displayName=iT;function rT(a){return a?"open":"closed"}function ff(a){return a==="indeterminate"}function Ov(a){return ff(a)?"indeterminate":a?"checked":"unchecked"}function QL(a){const t=document.activeElement;for(const e of a)if(e===t||(e.focus(),document.activeElement!==t))return}function ZL(a,t){return a.map((e,n)=>a[(t+n)%a.length])}function JL(a,t,e){const s=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,o=e?a.indexOf(e):-1;let l=ZL(a,Math.max(o,0));s.length===1&&(l=l.filter(d=>d!==e));const h=l.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return h!==e?h:void 0}function tP(a,t){const{x:e,y:n}=a;let s=!1;for(let o=0,l=t.length-1;o<t.length;l=o++){const c=t[o],h=t[l],d=c.x,p=c.y,g=h.x,v=h.y;p>n!=v>n&&e<(g-d)*(n-p)/(v-p)+d&&(s=!s)}return s}function eP(a,t){if(!t)return!1;const e={x:a.clientX,y:a.clientY};return tP(e,t)}function Du(a){return t=>t.pointerType==="mouse"?a(t):void 0}var nP=jE,iP=Ev,sP=HE,rP=GE,aP=Rv,oP=VE,lP=Nf,cP=XE,uP=$E,hP=KE,dP=ZE,fP=JE,pP=tT,gP=nT,mP=sT,Lf="DropdownMenu",[yP]=Uu(Lf,[zE]),ti=zE(),[vP,aT]=yP(Lf),oT=a=>{const{__scopeDropdownMenu:t,children:e,dir:n,open:s,defaultOpen:o,onOpenChange:l,modal:c=!0}=a,h=ti(t),d=M.useRef(null),[p,g]=tE({prop:s,defaultProp:o??!1,onChange:l,caller:Lf});return E.jsx(vP,{scope:t,triggerId:My(),triggerRef:d,contentId:My(),open:p,onOpenChange:g,onOpenToggle:M.useCallback(()=>g(v=>!v),[g]),modal:c,children:E.jsx(nP,{...h,open:p,onOpenChange:g,dir:n,modal:c,children:e})})};oT.displayName=Lf;var lT="DropdownMenuTrigger",cT=M.forwardRef((a,t)=>{const{__scopeDropdownMenu:e,disabled:n=!1,...s}=a,o=aT(lT,e),l=ti(e);return E.jsx(iP,{asChild:!0,...l,children:E.jsx(Jn.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Wl(t,o.triggerRef),onPointerDown:he(a.onPointerDown,c=>{!n&&c.button===0&&c.ctrlKey===!1&&(o.onOpenToggle(),o.open||c.preventDefault())}),onKeyDown:he(a.onKeyDown,c=>{n||(["Enter"," "].includes(c.key)&&o.onOpenToggle(),c.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});cT.displayName=lT;var bP="DropdownMenuPortal",uT=a=>{const{__scopeDropdownMenu:t,...e}=a,n=ti(t);return E.jsx(sP,{...n,...e})};uT.displayName=bP;var hT="DropdownMenuContent",dT=M.forwardRef((a,t)=>{const{__scopeDropdownMenu:e,...n}=a,s=aT(hT,e),o=ti(e),l=M.useRef(!1);return E.jsx(rP,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...n,ref:t,onCloseAutoFocus:he(a.onCloseAutoFocus,c=>{l.current||s.triggerRef.current?.focus(),l.current=!1,c.preventDefault()}),onInteractOutside:he(a.onInteractOutside,c=>{const h=c.detail.originalEvent,d=h.button===0&&h.ctrlKey===!0,p=h.button===2||d;(!s.modal||p)&&(l.current=!0)}),style:{...a.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});dT.displayName=hT;var _P="DropdownMenuGroup",wP=M.forwardRef((a,t)=>{const{__scopeDropdownMenu:e,...n}=a,s=ti(e);return E.jsx(aP,{...s,...n,ref:t})});wP.displayName=_P;var SP="DropdownMenuLabel",xP=M.forwardRef((a,t)=>{const{__scopeDropdownMenu:e,...n}=a,s=ti(e);return E.jsx(oP,{...s,...n,ref:t})});xP.displayName=SP;var AP="DropdownMenuItem",fT=M.forwardRef((a,t)=>{const{__scopeDropdownMenu:e,...n}=a,s=ti(e);return E.jsx(lP,{...s,...n,ref:t})});fT.displayName=AP;var EP="DropdownMenuCheckboxItem",TP=M.forwardRef((a,t)=>{const{__scopeDropdownMenu:e,...n}=a,s=ti(e);return E.jsx(cP,{...s,...n,ref:t})});TP.displayName=EP;var CP="DropdownMenuRadioGroup",MP=M.forwardRef((a,t)=>{const{__scopeDropdownMenu:e,...n}=a,s=ti(e);return E.jsx(uP,{...s,...n,ref:t})});MP.displayName=CP;var RP="DropdownMenuRadioItem",DP=M.forwardRef((a,t)=>{const{__scopeDropdownMenu:e,...n}=a,s=ti(e);return E.jsx(hP,{...s,...n,ref:t})});DP.displayName=RP;var OP="DropdownMenuItemIndicator",kP=M.forwardRef((a,t)=>{const{__scopeDropdownMenu:e,...n}=a,s=ti(e);return E.jsx(dP,{...s,...n,ref:t})});kP.displayName=OP;var NP="DropdownMenuSeparator",LP=M.forwardRef((a,t)=>{const{__scopeDropdownMenu:e,...n}=a,s=ti(e);return E.jsx(fP,{...s,...n,ref:t})});LP.displayName=NP;var PP="DropdownMenuArrow",BP=M.forwardRef((a,t)=>{const{__scopeDropdownMenu:e,...n}=a,s=ti(e);return E.jsx(pP,{...s,...n,ref:t})});BP.displayName=PP;var IP="DropdownMenuSubTrigger",zP=M.forwardRef((a,t)=>{const{__scopeDropdownMenu:e,...n}=a,s=ti(e);return E.jsx(gP,{...s,...n,ref:t})});zP.displayName=IP;var FP="DropdownMenuSubContent",jP=M.forwardRef((a,t)=>{const{__scopeDropdownMenu:e,...n}=a,s=ti(e);return E.jsx(mP,{...s,...n,ref:t,style:{...a.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});jP.displayName=FP;var UP=oT,HP=cT,GP=uT,VP=dT,YP=fT;const XP=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qP=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,n)=>n?n.toUpperCase():e.toLowerCase()),wx=a=>{const t=qP(a);return t.charAt(0).toUpperCase()+t.slice(1)},pT=(...a)=>a.filter((t,e,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===e).join(" ").trim(),$P=a=>{for(const t in a)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var WP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const KP=M.forwardRef(({color:a="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:l,...c},h)=>M.createElement("svg",{ref:h,...WP,width:t,height:t,stroke:a,strokeWidth:n?Number(e)*24/Number(t):e,className:pT("lucide",s),...!o&&!$P(c)&&{"aria-hidden":"true"},...c},[...l.map(([d,p])=>M.createElement(d,p)),...Array.isArray(o)?o:[o]]));const on=(a,t)=>{const e=M.forwardRef(({className:n,...s},o)=>M.createElement(KP,{ref:o,iconNode:t,className:pT(`lucide-${XP(wx(a))}`,`lucide-${a}`,n),...s}));return e.displayName=wx(a),e};const QP=[["path",{d:"M 22 14 L 22 10",key:"nqc4tb"}],["rect",{x:"2",y:"6",width:"16",height:"12",rx:"2",key:"13zb55"}]],ZP=on("battery",QP);const JP=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],tB=on("book-open",JP);const eB=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ky=on("check",eB);const nB=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],kv=on("chevron-left",nB);const iB=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Pf=on("chevron-right",iB);const sB=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],gT=on("copy",sB);const rB=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],aB=on("download",rB);const oB=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],mT=on("flag",oB);const lB=[["path",{d:"M18 5a2 2 0 0 1 2 2v8.526a2 2 0 0 0 .212.897l1.068 2.127a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45l1.068-2.127A2 2 0 0 0 4 15.526V7a2 2 0 0 1 2-2z",key:"1pdavp"}],["path",{d:"M20.054 15.987H3.946",key:"14rxg9"}]],cB=on("laptop",lB);const uB=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],hB=on("mail",uB);const dB=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],fB=on("mic",dB);const pB=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],gB=on("moon",pB);const mB=[["path",{d:"M18 8L22 12L18 16",key:"1r0oui"}],["path",{d:"M2 12H22",key:"1m8cig"}]],yT=on("move-right",mB);const yB=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],vB=on("panel-left",yB);const bB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],vT=on("plus",bB);const _B=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Bf=on("search",_B);const wB=[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]],Nv=on("share",wB);const SB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 22V2",key:"zs6s6o"}]],xB=on("shield-half",SB);const AB=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],EB=on("square-pen",AB);const TB=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],CB=on("sun",TB);const MB=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],RB=on("wifi",MB),DB=(a,t)=>{const e=new Array(a.length+t.length);for(let n=0;n<a.length;n++)e[n]=a[n];for(let n=0;n<t.length;n++)e[a.length+n]=t[n];return e},OB=(a,t)=>({classGroupId:a,validator:t}),bT=(a=new Map,t=null,e)=>({nextPart:a,validators:t,classGroupId:e}),pf="-",Sx=[],kB="arbitrary..",NB=a=>{const t=PB(a),{conflictingClassGroups:e,conflictingClassGroupModifiers:n}=a;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return LB(l);const c=l.split(pf),h=c[0]===""&&c.length>1?1:0;return _T(c,h,t)},getConflictingClassGroupIds:(l,c)=>{if(c){const h=n[l],d=e[l];return h?d?DB(d,h):h:d||Sx}return e[l]||Sx}}},_T=(a,t,e)=>{if(a.length-t===0)return e.classGroupId;const s=a[t],o=e.nextPart.get(s);if(o){const d=_T(a,t+1,o);if(d)return d}const l=e.validators;if(l===null)return;const c=t===0?a.join(pf):a.slice(t).join(pf),h=l.length;for(let d=0;d<h;d++){const p=l[d];if(p.validator(c))return p.classGroupId}},LB=a=>a.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=a.slice(1,-1),e=t.indexOf(":"),n=t.slice(0,e);return n?kB+n:void 0})(),PB=a=>{const{theme:t,classGroups:e}=a;return BB(e,t)},BB=(a,t)=>{const e=bT();for(const n in a){const s=a[n];Lv(s,e,n,t)}return e},Lv=(a,t,e,n)=>{const s=a.length;for(let o=0;o<s;o++){const l=a[o];IB(l,t,e,n)}},IB=(a,t,e,n)=>{if(typeof a=="string"){zB(a,t,e);return}if(typeof a=="function"){FB(a,t,e,n);return}jB(a,t,e,n)},zB=(a,t,e)=>{const n=a===""?t:wT(t,a);n.classGroupId=e},FB=(a,t,e,n)=>{if(UB(a)){Lv(a(n),t,e,n);return}t.validators===null&&(t.validators=[]),t.validators.push(OB(e,a))},jB=(a,t,e,n)=>{const s=Object.entries(a),o=s.length;for(let l=0;l<o;l++){const[c,h]=s[l];Lv(h,wT(t,c),e,n)}},wT=(a,t)=>{let e=a;const n=t.split(pf),s=n.length;for(let o=0;o<s;o++){const l=n[o];let c=e.nextPart.get(l);c||(c=bT(),e.nextPart.set(l,c)),e=c}return e},UB=a=>"isThemeGetter"in a&&a.isThemeGetter===!0,HB=a=>{if(a<1)return{get:()=>{},set:()=>{}};let t=0,e=Object.create(null),n=Object.create(null);const s=(o,l)=>{e[o]=l,t++,t>a&&(t=0,n=e,e=Object.create(null))};return{get(o){let l=e[o];if(l!==void 0)return l;if((l=n[o])!==void 0)return s(o,l),l},set(o,l){o in e?e[o]=l:s(o,l)}}},Ny="!",xx=":",GB=[],Ax=(a,t,e,n,s)=>({modifiers:a,hasImportantModifier:t,baseClassName:e,maybePostfixModifierPosition:n,isExternal:s}),VB=a=>{const{prefix:t,experimentalParseClassName:e}=a;let n=s=>{const o=[];let l=0,c=0,h=0,d;const p=s.length;for(let _=0;_<p;_++){const S=s[_];if(l===0&&c===0){if(S===xx){o.push(s.slice(h,_)),h=_+1;continue}if(S==="/"){d=_;continue}}S==="["?l++:S==="]"?l--:S==="("?c++:S===")"&&c--}const g=o.length===0?s:s.slice(h);let v=g,m=!1;g.endsWith(Ny)?(v=g.slice(0,-1),m=!0):g.startsWith(Ny)&&(v=g.slice(1),m=!0);const w=d&&d>h?d-h:void 0;return Ax(o,m,v,w)};if(t){const s=t+xx,o=n;n=l=>l.startsWith(s)?o(l.slice(s.length)):Ax(GB,!1,l,void 0,!0)}if(e){const s=n;n=o=>e({className:o,parseClassName:s})}return n},YB=a=>{const t=new Map;return a.orderSensitiveModifiers.forEach((e,n)=>{t.set(e,1e6+n)}),e=>{const n=[];let s=[];for(let o=0;o<e.length;o++){const l=e[o],c=l[0]==="[",h=t.has(l);c||h?(s.length>0&&(s.sort(),n.push(...s),s=[]),n.push(l)):s.push(l)}return s.length>0&&(s.sort(),n.push(...s)),n}},XB=a=>({cache:HB(a.cacheSize),parseClassName:VB(a),sortModifiers:YB(a),...NB(a)}),qB=/\s+/,$B=(a,t)=>{const{parseClassName:e,getClassGroupId:n,getConflictingClassGroupIds:s,sortModifiers:o}=t,l=[],c=a.trim().split(qB);let h="";for(let d=c.length-1;d>=0;d-=1){const p=c[d],{isExternal:g,modifiers:v,hasImportantModifier:m,baseClassName:w,maybePostfixModifierPosition:_}=e(p);if(g){h=p+(h.length>0?" "+h:h);continue}let S=!!_,x=n(S?w.substring(0,_):w);if(!x){if(!S){h=p+(h.length>0?" "+h:h);continue}if(x=n(w),!x){h=p+(h.length>0?" "+h:h);continue}S=!1}const T=v.length===0?"":v.length===1?v[0]:o(v).join(":"),C=m?T+Ny:T,D=C+x;if(l.indexOf(D)>-1)continue;l.push(D);const R=s(x,S);for(let P=0;P<R.length;++P){const O=R[P];l.push(C+O)}h=p+(h.length>0?" "+h:h)}return h},WB=(...a)=>{let t=0,e,n,s="";for(;t<a.length;)(e=a[t++])&&(n=ST(e))&&(s&&(s+=" "),s+=n);return s},ST=a=>{if(typeof a=="string")return a;let t,e="";for(let n=0;n<a.length;n++)a[n]&&(t=ST(a[n]))&&(e&&(e+=" "),e+=t);return e},KB=(a,...t)=>{let e,n,s,o;const l=h=>{const d=t.reduce((p,g)=>g(p),a());return e=XB(d),n=e.cache.get,s=e.cache.set,o=c,c(h)},c=h=>{const d=n(h);if(d)return d;const p=$B(h,e);return s(h,p),p};return o=l,(...h)=>o(WB(...h))},QB=[],yn=a=>{const t=e=>e[a]||QB;return t.isThemeGetter=!0,t},xT=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,AT=/^\((?:(\w[\w-]*):)?(.+)\)$/i,ZB=/^\d+\/\d+$/,JB=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,tI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,eI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,nI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,iI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,fl=a=>ZB.test(a),Wt=a=>!!a&&!Number.isNaN(Number(a)),ia=a=>!!a&&Number.isInteger(Number(a)),Pm=a=>a.endsWith("%")&&Wt(a.slice(0,-1)),dr=a=>JB.test(a),sI=()=>!0,rI=a=>tI.test(a)&&!eI.test(a),ET=()=>!1,aI=a=>nI.test(a),oI=a=>iI.test(a),lI=a=>!Ct(a)&&!Mt(a),cI=a=>Kl(a,MT,ET),Ct=a=>xT.test(a),qa=a=>Kl(a,RT,rI),Bm=a=>Kl(a,pI,Wt),Ex=a=>Kl(a,TT,ET),uI=a=>Kl(a,CT,oI),Ed=a=>Kl(a,DT,aI),Mt=a=>AT.test(a),Yc=a=>Ql(a,RT),hI=a=>Ql(a,gI),Tx=a=>Ql(a,TT),dI=a=>Ql(a,MT),fI=a=>Ql(a,CT),Td=a=>Ql(a,DT,!0),Kl=(a,t,e)=>{const n=xT.exec(a);return n?n[1]?t(n[1]):e(n[2]):!1},Ql=(a,t,e=!1)=>{const n=AT.exec(a);return n?n[1]?t(n[1]):e:!1},TT=a=>a==="position"||a==="percentage",CT=a=>a==="image"||a==="url",MT=a=>a==="length"||a==="size"||a==="bg-size",RT=a=>a==="length",pI=a=>a==="number",gI=a=>a==="family-name",DT=a=>a==="shadow",mI=()=>{const a=yn("color"),t=yn("font"),e=yn("text"),n=yn("font-weight"),s=yn("tracking"),o=yn("leading"),l=yn("breakpoint"),c=yn("container"),h=yn("spacing"),d=yn("radius"),p=yn("shadow"),g=yn("inset-shadow"),v=yn("text-shadow"),m=yn("drop-shadow"),w=yn("blur"),_=yn("perspective"),S=yn("aspect"),x=yn("ease"),T=yn("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],R=()=>[...D(),Mt,Ct],P=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],L=()=>[Mt,Ct,h],F=()=>[fl,"full","auto",...L()],X=()=>[ia,"none","subgrid",Mt,Ct],G=()=>["auto",{span:["full",ia,Mt,Ct]},ia,Mt,Ct],rt=()=>[ia,"auto",Mt,Ct],tt=()=>["auto","min","max","fr",Mt,Ct],W=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],$=()=>["start","end","center","stretch","center-safe","end-safe"],k=()=>["auto",...L()],z=()=>[fl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...L()],I=()=>[a,Mt,Ct],Q=()=>[...D(),Tx,Ex,{position:[Mt,Ct]}],ot=()=>["no-repeat",{repeat:["","x","y","space","round"]}],B=()=>["auto","cover","contain",dI,cI,{size:[Mt,Ct]}],j=()=>[Pm,Yc,qa],K=()=>["","none","full",d,Mt,Ct],nt=()=>["",Wt,Yc,qa],pt=()=>["solid","dashed","dotted","double"],gt=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ct=()=>[Wt,Pm,Tx,Ex],Et=()=>["","none",w,Mt,Ct],Tt=()=>["none",Wt,Mt,Ct],bt=()=>["none",Wt,Mt,Ct],Ft=()=>[Wt,Mt,Ct],zt=()=>[fl,"full",...L()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[dr],breakpoint:[dr],color:[sI],container:[dr],"drop-shadow":[dr],ease:["in","out","in-out"],font:[lI],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[dr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[dr],shadow:[dr],spacing:["px",Wt],text:[dr],"text-shadow":[dr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",fl,Ct,Mt,S]}],container:["container"],columns:[{columns:[Wt,Ct,Mt,c]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:R()}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:F()}],"inset-x":[{"inset-x":F()}],"inset-y":[{"inset-y":F()}],start:[{start:F()}],end:[{end:F()}],top:[{top:F()}],right:[{right:F()}],bottom:[{bottom:F()}],left:[{left:F()}],visibility:["visible","invisible","collapse"],z:[{z:[ia,"auto",Mt,Ct]}],basis:[{basis:[fl,"full","auto",c,...L()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Wt,fl,"auto","initial","none",Ct]}],grow:[{grow:["",Wt,Mt,Ct]}],shrink:[{shrink:["",Wt,Mt,Ct]}],order:[{order:[ia,"first","last","none",Mt,Ct]}],"grid-cols":[{"grid-cols":X()}],"col-start-end":[{col:G()}],"col-start":[{"col-start":rt()}],"col-end":[{"col-end":rt()}],"grid-rows":[{"grid-rows":X()}],"row-start-end":[{row:G()}],"row-start":[{"row-start":rt()}],"row-end":[{"row-end":rt()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":tt()}],"auto-rows":[{"auto-rows":tt()}],gap:[{gap:L()}],"gap-x":[{"gap-x":L()}],"gap-y":[{"gap-y":L()}],"justify-content":[{justify:[...W(),"normal"]}],"justify-items":[{"justify-items":[...$(),"normal"]}],"justify-self":[{"justify-self":["auto",...$()]}],"align-content":[{content:["normal",...W()]}],"align-items":[{items:[...$(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...$(),{baseline:["","last"]}]}],"place-content":[{"place-content":W()}],"place-items":[{"place-items":[...$(),"baseline"]}],"place-self":[{"place-self":["auto",...$()]}],p:[{p:L()}],px:[{px:L()}],py:[{py:L()}],ps:[{ps:L()}],pe:[{pe:L()}],pt:[{pt:L()}],pr:[{pr:L()}],pb:[{pb:L()}],pl:[{pl:L()}],m:[{m:k()}],mx:[{mx:k()}],my:[{my:k()}],ms:[{ms:k()}],me:[{me:k()}],mt:[{mt:k()}],mr:[{mr:k()}],mb:[{mb:k()}],ml:[{ml:k()}],"space-x":[{"space-x":L()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":L()}],"space-y-reverse":["space-y-reverse"],size:[{size:z()}],w:[{w:[c,"screen",...z()]}],"min-w":[{"min-w":[c,"screen","none",...z()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...z()]}],h:[{h:["screen","lh",...z()]}],"min-h":[{"min-h":["screen","lh","none",...z()]}],"max-h":[{"max-h":["screen","lh",...z()]}],"font-size":[{text:["base",e,Yc,qa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Mt,Bm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Pm,Ct]}],"font-family":[{font:[hI,Ct,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Mt,Ct]}],"line-clamp":[{"line-clamp":[Wt,"none",Mt,Bm]}],leading:[{leading:[o,...L()]}],"list-image":[{"list-image":["none",Mt,Ct]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Mt,Ct]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:I()}],"text-color":[{text:I()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...pt(),"wavy"]}],"text-decoration-thickness":[{decoration:[Wt,"from-font","auto",Mt,qa]}],"text-decoration-color":[{decoration:I()}],"underline-offset":[{"underline-offset":[Wt,"auto",Mt,Ct]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Mt,Ct]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Mt,Ct]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Q()}],"bg-repeat":[{bg:ot()}],"bg-size":[{bg:B()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ia,Mt,Ct],radial:["",Mt,Ct],conic:[ia,Mt,Ct]},fI,uI]}],"bg-color":[{bg:I()}],"gradient-from-pos":[{from:j()}],"gradient-via-pos":[{via:j()}],"gradient-to-pos":[{to:j()}],"gradient-from":[{from:I()}],"gradient-via":[{via:I()}],"gradient-to":[{to:I()}],rounded:[{rounded:K()}],"rounded-s":[{"rounded-s":K()}],"rounded-e":[{"rounded-e":K()}],"rounded-t":[{"rounded-t":K()}],"rounded-r":[{"rounded-r":K()}],"rounded-b":[{"rounded-b":K()}],"rounded-l":[{"rounded-l":K()}],"rounded-ss":[{"rounded-ss":K()}],"rounded-se":[{"rounded-se":K()}],"rounded-ee":[{"rounded-ee":K()}],"rounded-es":[{"rounded-es":K()}],"rounded-tl":[{"rounded-tl":K()}],"rounded-tr":[{"rounded-tr":K()}],"rounded-br":[{"rounded-br":K()}],"rounded-bl":[{"rounded-bl":K()}],"border-w":[{border:nt()}],"border-w-x":[{"border-x":nt()}],"border-w-y":[{"border-y":nt()}],"border-w-s":[{"border-s":nt()}],"border-w-e":[{"border-e":nt()}],"border-w-t":[{"border-t":nt()}],"border-w-r":[{"border-r":nt()}],"border-w-b":[{"border-b":nt()}],"border-w-l":[{"border-l":nt()}],"divide-x":[{"divide-x":nt()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":nt()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...pt(),"hidden","none"]}],"divide-style":[{divide:[...pt(),"hidden","none"]}],"border-color":[{border:I()}],"border-color-x":[{"border-x":I()}],"border-color-y":[{"border-y":I()}],"border-color-s":[{"border-s":I()}],"border-color-e":[{"border-e":I()}],"border-color-t":[{"border-t":I()}],"border-color-r":[{"border-r":I()}],"border-color-b":[{"border-b":I()}],"border-color-l":[{"border-l":I()}],"divide-color":[{divide:I()}],"outline-style":[{outline:[...pt(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Wt,Mt,Ct]}],"outline-w":[{outline:["",Wt,Yc,qa]}],"outline-color":[{outline:I()}],shadow:[{shadow:["","none",p,Td,Ed]}],"shadow-color":[{shadow:I()}],"inset-shadow":[{"inset-shadow":["none",g,Td,Ed]}],"inset-shadow-color":[{"inset-shadow":I()}],"ring-w":[{ring:nt()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:I()}],"ring-offset-w":[{"ring-offset":[Wt,qa]}],"ring-offset-color":[{"ring-offset":I()}],"inset-ring-w":[{"inset-ring":nt()}],"inset-ring-color":[{"inset-ring":I()}],"text-shadow":[{"text-shadow":["none",v,Td,Ed]}],"text-shadow-color":[{"text-shadow":I()}],opacity:[{opacity:[Wt,Mt,Ct]}],"mix-blend":[{"mix-blend":[...gt(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":gt()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Wt]}],"mask-image-linear-from-pos":[{"mask-linear-from":ct()}],"mask-image-linear-to-pos":[{"mask-linear-to":ct()}],"mask-image-linear-from-color":[{"mask-linear-from":I()}],"mask-image-linear-to-color":[{"mask-linear-to":I()}],"mask-image-t-from-pos":[{"mask-t-from":ct()}],"mask-image-t-to-pos":[{"mask-t-to":ct()}],"mask-image-t-from-color":[{"mask-t-from":I()}],"mask-image-t-to-color":[{"mask-t-to":I()}],"mask-image-r-from-pos":[{"mask-r-from":ct()}],"mask-image-r-to-pos":[{"mask-r-to":ct()}],"mask-image-r-from-color":[{"mask-r-from":I()}],"mask-image-r-to-color":[{"mask-r-to":I()}],"mask-image-b-from-pos":[{"mask-b-from":ct()}],"mask-image-b-to-pos":[{"mask-b-to":ct()}],"mask-image-b-from-color":[{"mask-b-from":I()}],"mask-image-b-to-color":[{"mask-b-to":I()}],"mask-image-l-from-pos":[{"mask-l-from":ct()}],"mask-image-l-to-pos":[{"mask-l-to":ct()}],"mask-image-l-from-color":[{"mask-l-from":I()}],"mask-image-l-to-color":[{"mask-l-to":I()}],"mask-image-x-from-pos":[{"mask-x-from":ct()}],"mask-image-x-to-pos":[{"mask-x-to":ct()}],"mask-image-x-from-color":[{"mask-x-from":I()}],"mask-image-x-to-color":[{"mask-x-to":I()}],"mask-image-y-from-pos":[{"mask-y-from":ct()}],"mask-image-y-to-pos":[{"mask-y-to":ct()}],"mask-image-y-from-color":[{"mask-y-from":I()}],"mask-image-y-to-color":[{"mask-y-to":I()}],"mask-image-radial":[{"mask-radial":[Mt,Ct]}],"mask-image-radial-from-pos":[{"mask-radial-from":ct()}],"mask-image-radial-to-pos":[{"mask-radial-to":ct()}],"mask-image-radial-from-color":[{"mask-radial-from":I()}],"mask-image-radial-to-color":[{"mask-radial-to":I()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[Wt]}],"mask-image-conic-from-pos":[{"mask-conic-from":ct()}],"mask-image-conic-to-pos":[{"mask-conic-to":ct()}],"mask-image-conic-from-color":[{"mask-conic-from":I()}],"mask-image-conic-to-color":[{"mask-conic-to":I()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Q()}],"mask-repeat":[{mask:ot()}],"mask-size":[{mask:B()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Mt,Ct]}],filter:[{filter:["","none",Mt,Ct]}],blur:[{blur:Et()}],brightness:[{brightness:[Wt,Mt,Ct]}],contrast:[{contrast:[Wt,Mt,Ct]}],"drop-shadow":[{"drop-shadow":["","none",m,Td,Ed]}],"drop-shadow-color":[{"drop-shadow":I()}],grayscale:[{grayscale:["",Wt,Mt,Ct]}],"hue-rotate":[{"hue-rotate":[Wt,Mt,Ct]}],invert:[{invert:["",Wt,Mt,Ct]}],saturate:[{saturate:[Wt,Mt,Ct]}],sepia:[{sepia:["",Wt,Mt,Ct]}],"backdrop-filter":[{"backdrop-filter":["","none",Mt,Ct]}],"backdrop-blur":[{"backdrop-blur":Et()}],"backdrop-brightness":[{"backdrop-brightness":[Wt,Mt,Ct]}],"backdrop-contrast":[{"backdrop-contrast":[Wt,Mt,Ct]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Wt,Mt,Ct]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Wt,Mt,Ct]}],"backdrop-invert":[{"backdrop-invert":["",Wt,Mt,Ct]}],"backdrop-opacity":[{"backdrop-opacity":[Wt,Mt,Ct]}],"backdrop-saturate":[{"backdrop-saturate":[Wt,Mt,Ct]}],"backdrop-sepia":[{"backdrop-sepia":["",Wt,Mt,Ct]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":L()}],"border-spacing-x":[{"border-spacing-x":L()}],"border-spacing-y":[{"border-spacing-y":L()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Mt,Ct]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Wt,"initial",Mt,Ct]}],ease:[{ease:["linear","initial",x,Mt,Ct]}],delay:[{delay:[Wt,Mt,Ct]}],animate:[{animate:["none",T,Mt,Ct]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,Mt,Ct]}],"perspective-origin":[{"perspective-origin":R()}],rotate:[{rotate:Tt()}],"rotate-x":[{"rotate-x":Tt()}],"rotate-y":[{"rotate-y":Tt()}],"rotate-z":[{"rotate-z":Tt()}],scale:[{scale:bt()}],"scale-x":[{"scale-x":bt()}],"scale-y":[{"scale-y":bt()}],"scale-z":[{"scale-z":bt()}],"scale-3d":["scale-3d"],skew:[{skew:Ft()}],"skew-x":[{"skew-x":Ft()}],"skew-y":[{"skew-y":Ft()}],transform:[{transform:[Mt,Ct,"","none","gpu","cpu"]}],"transform-origin":[{origin:R()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:zt()}],"translate-x":[{"translate-x":zt()}],"translate-y":[{"translate-y":zt()}],"translate-z":[{"translate-z":zt()}],"translate-none":["translate-none"],accent:[{accent:I()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:I()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Mt,Ct]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Mt,Ct]}],fill:[{fill:["none",...I()]}],"stroke-w":[{stroke:[Wt,Yc,qa,Bm]}],stroke:[{stroke:["none",...I()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},yI=KB(mI);function OT(...a){return yI(rs(a))}function vI({...a}){return E.jsx(UP,{"data-slot":"dropdown-menu",...a})}function bI({...a}){return E.jsx(HP,{"data-slot":"dropdown-menu-trigger",...a})}function _I({className:a,sideOffset:t=4,...e}){return E.jsx(GP,{children:E.jsx(VP,{"data-slot":"dropdown-menu-content",sideOffset:t,className:OT("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",a),...e})})}function Im({className:a,inset:t,variant:e="default",...n}){return E.jsx(YP,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":e,className:OT("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...n})}const wI=()=>{const[a,t]=M.useState("system");M.useEffect(()=>{const n=localStorage.getItem("theme");n&&t(n),e(n||"system")},[]),M.useEffect(()=>{e(a)},[a]);const e=n=>{if(n==="light")document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light");else if(n==="dark")document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark");else{localStorage.removeItem("theme");const s=window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.classList.toggle("dark",s)}};return E.jsxs(vI,{children:[E.jsx(bI,{asChild:!0,children:E.jsx("button",{className:"cursor-pointer mt-1.5 select-none outline-0",children:E.jsx("img",{src:"/icons/mode.svg",className:"icon dark:invert"})})}),E.jsxs(_I,{className:"w-fit",children:[E.jsxs(Im,{value:"light",onClick:()=>t("light"),className:rs(a==="light"&&"bg-accent text-accent-foreground"),children:[E.jsx(CB,{className:"mr-2",fill:a==="light"?"#ffc030":""}),"Light"]}),E.jsxs(Im,{value:"dark",onClick:()=>t("dark"),className:rs(a==="dark"&&"bg-accent text-accent-foreground"),children:[E.jsx(gB,{className:"mr-2",fill:a==="dark"?"#ff6157":"transparent"}),"Dark"]}),E.jsxs(Im,{value:"system",onClick:()=>t("system"),className:rs(a==="system"&&"bg-accent text-accent-foreground"),children:[E.jsx(cB,{className:"mr-2"}),"System"]})]})]})},SI=()=>{const{openWindow:a}=qn();return E.jsxs("nav",{children:[E.jsxs("div",{children:[E.jsx("img",{src:"/images/logo.svg",className:"dark:invert"}),E.jsx("p",{className:"font-bold",children:"Adrian's Portfolio"}),E.jsx("ul",{children:mO.map(({id:t,type:e,name:n})=>E.jsx("li",{children:E.jsx("p",{onClick:()=>a(e),children:n})},t))})]}),E.jsxs("div",{children:[E.jsx("ul",{children:yO.map(t=>E.jsx("li",{children:t.id===4?E.jsx(wI,{}):E.jsx("img",{src:t.img,className:"icon dark:invert dark:hover:bg-dark-500!"})},t.id))}),E.jsx("time",{children:J1().format("ddd MMM D h:mm A")})]})]})},xI={subtitle:{min:100,max:400,default:100},title:{min:400,max:900,default:400}},Cx=(a,t,e=400)=>[...a].map((n,s)=>E.jsx("span",{className:t,style:{fontVariationSettings:`'wght' ${e}`},children:n===" "?"":n},s)),Mx=(a,t)=>{if(!a)return;const e=a.querySelectorAll("span"),{min:n,max:s,default:o}=xI[t],l=(d,p,g=.25)=>ga.to(d,{duration:g,ease:"power2.out",fontVariationSettings:`'wght' ${p}`}),c=d=>{const{left:p}=a.getBoundingClientRect(),g=d.clientX-p;e.forEach(v=>{const{left:m,width:w}=v.getBoundingClientRect(),_=Math.abs(g-(m-p+w/2)),S=Math.exp(-(_**2)/2e4);l(v,n+(s-n)*S)})},h=()=>e.forEach(d=>l(d,o,.3));return a.addEventListener("mousemove",c),a.addEventListener("mouseleave",h),()=>{a.removeEventListener("mousemove",c),a.removeEventListener("mouseleave",h)}},AI=()=>{const a=M.useRef(null),t=M.useRef(null);return ho(()=>{const e=Mx(a.current,"subtitle"),n=Mx(t.current,"title");return()=>{e(),n()}},[]),E.jsxs("section",{id:"welcome",children:[E.jsx("p",{ref:a,children:Cx("Hey, I'm Adrian! welcome to my","max-sm:text-2xl text-3xl font-georama",100)}),E.jsx("h1",{ref:t,className:"mt-7",children:Cx("portfolio.","max-sm:text-7xl text-9xl italic font-georama",400)})]})},Sa=({target:a})=>{const{closeWindow:t}=qn();return E.jsxs("div",{id:"window-controls",children:[E.jsx("div",{className:"close",onClick:()=>t(a)}),E.jsx("div",{className:"minimize"}),E.jsx("div",{className:"maximize"})]})},EI=()=>E.jsxs("section",{id:"mobile-navbar",className:"flex justify-between items-center py-3 px-5 gap-5 sm:hidden relative z-10000",children:[E.jsx("time",{children:J1().format("h:mm A")}),E.jsx("div",{className:"bg-black flex-1 rounded-full px-2 py-5"}),E.jsxs("ul",{className:"flex items-center gap-2",children:[E.jsx("li",{children:E.jsx(RB,{size:26,className:"icon"})}),E.jsx("li",{children:E.jsx(ZP,{size:26,className:"icon"})})]})]});ga.registerPlugin(wa);const xa=(a,t)=>{const e=n=>{const{focusWindow:s,windows:o}=qn(),{isOpen:l,zIndex:c}=o[t],h=M.useRef(null),[d,p]=M.useState(!0);return M.useEffect(()=>{const g=()=>{p(window.innerWidth>=640)};return g(),window.addEventListener("resize",g),()=>window.removeEventListener("resize",g)},[]),ho(()=>{const g=h.current;!g||!l||!d||(g.style.display="block",ga.fromTo(g,{scale:.8,opacity:0,y:40},{scale:1,opacity:1,y:0,duration:.4,ease:"power3.out"}))},[l,d]),ho(()=>{const g=h.current;if(!g||!d)return;const[v]=wa.create(g,{onPress:()=>s(t)});return()=>v.kill()},[d]),M.useLayoutEffect(()=>{const g=h.current;g&&(g.style.display=l&&d?"block":"none")},[l,d]),d?E.jsx("section",{id:t,ref:h,style:{zIndex:c},className:"absolute",children:E.jsx(a,{...n})}):null};return e.displayName=`WindowWrapper(${a.displayName||a.name||"Component"})`,e},TI=()=>E.jsxs(E.Fragment,{children:[E.jsxs("div",{id:"window-header",children:[E.jsx(Sa,{target:"contact"}),E.jsx("h2",{children:"Contact Me"})]}),E.jsxs("div",{className:"p-5 space-y-5",children:[E.jsx("img",{src:"/images/adrian.jpg",alt:"Adrian",className:"w-20 rounded-full"}),E.jsx("h3",{children:"Let's Connect"}),E.jsx("p",{children:"Got an idea? A bug to squash? Or just wanna talk tech? I'm in."}),E.jsx("ul",{children:D1.map(({id:a,bg:t,link:e,icon:n,text:s})=>E.jsx("li",{style:{backgroundColor:t},children:E.jsxs("a",{href:e,target:"_blank",rel:"noopener noreferrer",title:s,children:[E.jsx("img",{src:n,alt:s,className:"size-5"}),E.jsx("p",{children:s})]})},a))})]})]}),CI=xa(TI,"contact"),MI=()=>{const{openWindow:a}=qn(),{activeLocation:t,setActiveLocation:e}=Z1(),n=o=>{if(o.kind==="folder")return e(o);if(o.fileType==="pdf")return a("resume");if(["fig","url"].includes(o.fileType)&&o.href)return window.open(o.href,"_blank");a(`${o.fileType}${o.kind}`,o)},s=o=>o?.map(l=>E.jsxs("li",{onClick:()=>e(l),className:rs(l.id===t?.id?"active":"not-active"),children:[E.jsx("img",{src:l.icon,className:"w-4",alt:l.name}),E.jsx("p",{className:"text-sm font-medium truncate",children:l.name})]},l.id));return E.jsxs(E.Fragment,{children:[E.jsxs("div",{id:"window-header",children:[E.jsx(Sa,{target:"finder"}),E.jsx(Bf,{className:"icon"})]}),E.jsxs("div",{className:"bg-white flex h-full",children:[E.jsxs("div",{className:"sidebar",children:[E.jsxs("div",{children:[E.jsx("h3",{children:"Favorites"}),E.jsx("ul",{children:s(Object.values(xu))})]}),E.jsxs("div",{children:[E.jsx("h3",{children:"Work"}),E.jsx("ul",{children:s(xu.work.children)})]})]}),E.jsx("ul",{className:"content",children:t?.children?.map(o=>E.jsxs("li",{className:o.position,onClick:()=>n(o),children:[E.jsx("img",{src:o.icon,alt:o.name}),E.jsx("p",{children:o.name})]},o.id))})]})]})},RI=xa(MI,"finder"),DI=()=>{const{openWindow:a}=qn();return E.jsxs(E.Fragment,{children:[E.jsxs("div",{id:"window-header",children:[E.jsx(Sa,{target:"photos"}),E.jsxs("div",{className:"w-full flex justify-end items-center gap-3 text-gray-500",children:[E.jsx(hB,{className:"icon"}),E.jsx(Bf,{className:"icon"})]})]}),E.jsxs("div",{className:"flex w-full",children:[E.jsxs("div",{className:"sidebar",children:[E.jsx("h2",{children:"Photos"}),E.jsx("ul",{children:bO.map(({id:t,icon:e,title:n})=>E.jsxs("li",{children:[E.jsx("img",{src:e,alt:n}),E.jsx("p",{children:n})]},t))})]}),E.jsx("div",{className:"gallery",children:E.jsx("ul",{children:O1.map(({id:t,img:e})=>E.jsx("li",{onClick:()=>a("imgfile",{id:t,name:"Gallery image",icon:"/images/image.png",kind:"file",fileType:"img",imageUrl:e}),children:E.jsx("img",{src:e,alt:`Gallery image ${t}`})},t))})})]})]})},OI=xa(DI,"photos"),Kn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Ly=[.001,0,0,.001,0,0],zm=1.35,Ei={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},zs={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Ou="pdfjs_internal_editor_",Ut={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},ne={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},kT={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Pn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},du={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},sn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},gl={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Xu={ERRORS:0,WARNINGS:1,INFOS:5},Vl={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Cd={moveTo:0,lineTo:1,curveTo:2,closePath:3},NT={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let If=Xu.WARNINGS;function kI(a){Number.isInteger(a)&&(If=a)}function NI(){return If}function zf(a){If>=Xu.INFOS&&console.info(`Info: ${a}`)}function Ht(a){If>=Xu.WARNINGS&&console.warn(`Warning: ${a}`)}function De(a){throw new Error(a)}function oe(a,t){a||De(t)}function LI(a){switch(a?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Pv(a,t=null,e=null){if(!a)return null;if(e&&typeof a=="string"&&(e.addDefaultProtocol&&a.startsWith("www.")&&a.match(/\./g)?.length>=2&&(a=`http://${a}`),e.tryConvertEncoding))try{a=FI(a)}catch{}const n=t?URL.parse(a,t):URL.parse(a);return LI(n)?n:null}function Bv(a,t,e=!1){const n=URL.parse(a);return n?(n.hash=t,n.href):e&&Pv(a,"http://example.com")?a.split("#",1)[0]+`${t?`#${t}`:""}`:""}function Xt(a,t,e,n=!1){return Object.defineProperty(a,t,{value:e,enumerable:!n,configurable:!0,writable:!1}),e}const xo=(function(){function t(e,n){this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t})();class Rx extends xo{constructor(t,e){super(t,"PasswordException"),this.code=e}}class Fm extends xo{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class gf extends xo{constructor(t){super(t,"InvalidPDFException")}}class ku extends xo{constructor(t,e,n){super(t,"ResponseException"),this.status=e,this.missing=n}}class PI extends xo{constructor(t){super(t,"FormatError")}}class Cr extends xo{constructor(t){super(t,"AbortException")}}function LT(a){(typeof a!="object"||a?.length===void 0)&&De("Invalid argument for bytesToString");const t=a.length,e=8192;if(t<e)return String.fromCharCode.apply(null,a);const n=[];for(let s=0;s<t;s+=e){const o=Math.min(s+e,t),l=a.subarray(s,o);n.push(String.fromCharCode.apply(null,l))}return n.join("")}function qu(a){typeof a!="string"&&De("Invalid argument for stringToBytes");const t=a.length,e=new Uint8Array(t);for(let n=0;n<t;++n)e[n]=a.charCodeAt(n)&255;return e}function BI(a){return String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255)}function II(){const a=new Uint8Array(4);return a[0]=1,new Uint32Array(a.buffer,0,1)[0]===1}function zI(){try{return new Function(""),!0}catch{return!1}}class Cn{static get isLittleEndian(){return Xt(this,"isLittleEndian",II())}static get isEvalSupported(){return Xt(this,"isEvalSupported",zI())}static get isOffscreenCanvasSupported(){return Xt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Xt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return Xt(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){return Xt(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const jm=Array.from(Array(256).keys(),a=>a.toString(16).padStart(2,"0"));class St{static makeHexColor(t,e,n){return`#${jm[t]}${jm[e]}${jm[n]}`}static domMatrixToTransform(t){return[t.a,t.b,t.c,t.d,t.e,t.f]}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static multiplyByDOMMatrix(t,e){return[t[0]*e.a+t[2]*e.b,t[1]*e.a+t[3]*e.b,t[0]*e.c+t[2]*e.d,t[1]*e.c+t[3]*e.d,t[0]*e.e+t[2]*e.f+t[4],t[1]*e.e+t[3]*e.f+t[5]]}static applyTransform(t,e,n=0){const s=t[n],o=t[n+1];t[n]=s*e[0]+o*e[2]+e[4],t[n+1]=s*e[1]+o*e[3]+e[5]}static applyTransformToBezier(t,e,n=0){const s=e[0],o=e[1],l=e[2],c=e[3],h=e[4],d=e[5];for(let p=0;p<6;p+=2){const g=t[n+p],v=t[n+p+1];t[n+p]=g*s+v*l+h,t[n+p+1]=g*o+v*c+d}}static applyInverseTransform(t,e){const n=t[0],s=t[1],o=e[0]*e[3]-e[1]*e[2];t[0]=(n*e[3]-s*e[2]+e[2]*e[5]-e[4]*e[3])/o,t[1]=(-n*e[1]+s*e[0]+e[4]*e[1]-e[5]*e[0])/o}static axialAlignedBoundingBox(t,e,n){const s=e[0],o=e[1],l=e[2],c=e[3],h=e[4],d=e[5],p=t[0],g=t[1],v=t[2],m=t[3];let w=s*p+h,_=w,S=s*v+h,x=S,T=c*g+d,C=T,D=c*m+d,R=D;if(o!==0||l!==0){const P=o*p,O=o*v,L=l*g,F=l*m;w+=L,x+=L,S+=F,_+=F,T+=P,R+=P,D+=O,C+=O}n[0]=Math.min(n[0],w,S,_,x),n[1]=Math.min(n[1],T,D,C,R),n[2]=Math.max(n[2],w,S,_,x),n[3]=Math.max(n[3],T,D,C,R)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const n=t[0],s=t[1],o=t[2],l=t[3],c=n**2+s**2,h=n*o+s*l,d=o**2+l**2,p=(c+d)/2,g=Math.sqrt(p**2-(c*d-h**2));e[0]=Math.sqrt(p+g||1),e[1]=Math.sqrt(p-g||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),s=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>s)return null;const o=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),l=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return o>l?null:[n,o,s,l]}static pointBoundingBox(t,e,n){n[0]=Math.min(n[0],t),n[1]=Math.min(n[1],e),n[2]=Math.max(n[2],t),n[3]=Math.max(n[3],e)}static rectBoundingBox(t,e,n,s,o){o[0]=Math.min(o[0],t,n),o[1]=Math.min(o[1],e,s),o[2]=Math.max(o[2],t,n),o[3]=Math.max(o[3],e,s)}static#t(t,e,n,s,o,l,c,h,d,p){if(d<=0||d>=1)return;const g=1-d,v=d*d,m=v*d,w=g*(g*(g*t+3*d*e)+3*v*n)+m*s,_=g*(g*(g*o+3*d*l)+3*v*c)+m*h;p[0]=Math.min(p[0],w),p[1]=Math.min(p[1],_),p[2]=Math.max(p[2],w),p[3]=Math.max(p[3],_)}static#e(t,e,n,s,o,l,c,h,d,p,g,v){if(Math.abs(d)<1e-12){Math.abs(p)>=1e-12&&this.#t(t,e,n,s,o,l,c,h,-g/p,v);return}const m=p**2-4*g*d;if(m<0)return;const w=Math.sqrt(m),_=2*d;this.#t(t,e,n,s,o,l,c,h,(-p+w)/_,v),this.#t(t,e,n,s,o,l,c,h,(-p-w)/_,v)}static bezierBoundingBox(t,e,n,s,o,l,c,h,d){d[0]=Math.min(d[0],t,c),d[1]=Math.min(d[1],e,h),d[2]=Math.max(d[2],t,c),d[3]=Math.max(d[3],e,h),this.#e(t,n,o,c,e,s,l,h,3*(-t+3*(n-o)+c),6*(t-2*n+o),3*(n-t),d),this.#e(t,n,o,c,e,s,l,h,3*(-e+3*(s-l)+h),6*(e-2*s+l),3*(s-e),d)}}function FI(a){return decodeURIComponent(escape(a))}let Um=null,Dx=null;function PT(a){return Um||(Um=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Dx=new Map([["","t"]])),a.replaceAll(Um,(t,e,n)=>e?e.normalize("NFKC"):Dx.get(n))}function Iv(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const a=new Uint8Array(32);return crypto.getRandomValues(a),LT(a)}const zv="pdfjs_internal_id_";function jI(a,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[n,s,...o]=e;if(!a(n)&&!Number.isInteger(n)||!t(s))return!1;const l=o.length;let c=!0;switch(s.name){case"XYZ":if(l<2||l>3)return!1;break;case"Fit":case"FitB":return l===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(l>1)return!1;break;case"FitR":if(l!==4)return!1;c=!1;break;default:return!1}for(const h of o)if(!(typeof h=="number"||c&&h===null))return!1;return!0}function Gn(a,t,e){return Math.min(Math.max(a,t),e)}function BT(a){return Uint8Array.prototype.toBase64?a.toBase64():btoa(LT(a))}function UI(a){return Uint8Array.fromBase64?Uint8Array.fromBase64(a):qu(atob(a))}typeof Promise.try!="function"&&(Promise.try=function(a,...t){return new Promise(e=>{e(a(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(a){return a.reduce((t,e)=>t+e,0)});class Nu{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};function s(o){if(!o)return;let l=null;const c=o.name;if(c==="#text")l=o.value;else if(Nu.shouldBuildText(c))o?.attributes?.textContent?l=o.attributes.textContent:o.value&&(l=o.value);else return;if(l!==null&&e.push({str:l}),!!o.children)for(const h of o.children)s(h)}return s(t),n}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}class Fv{static setupStorage(t,e,n,s,o){const l=s.getValue(e,{value:null});switch(n.name){case"textarea":if(l.value!==null&&(t.textContent=l.value),o==="print")break;t.addEventListener("input",c=>{s.setValue(e,{value:c.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(l.value===n.attributes.xfaOn?t.setAttribute("checked",!0):l.value===n.attributes.xfaOff&&t.removeAttribute("checked"),o==="print")break;t.addEventListener("change",c=>{s.setValue(e,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&t.setAttribute("value",l.value),o==="print")break;t.addEventListener("input",c=>{s.setValue(e,{value:c.target.value})})}break;case"select":if(l.value!==null){t.setAttribute("value",l.value);for(const c of n.children)c.attributes.value===l.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}t.addEventListener("input",c=>{const h=c.target.options,d=h.selectedIndex===-1?"":h[h.selectedIndex].value;s.setValue(e,{value:d})});break}}static setAttributes({html:t,element:e,storage:n=null,intent:s,linkService:o}){const{attributes:l}=e,c=t instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${s}`);for(const[h,d]of Object.entries(l))if(d!=null)switch(h){case"class":d.length&&t.setAttribute(h,d.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",d);break;case"style":Object.assign(t.style,d);break;case"textContent":t.textContent=d;break;default:(!c||h!=="href"&&h!=="newWindow")&&t.setAttribute(h,d)}c&&o.addLinkAttributes(t,l.href,l.newWindow),n&&l.dataId&&this.setupStorage(t,l.dataId,e,n)}static render(t){const e=t.annotationStorage,n=t.linkService,s=t.xfaHtml,o=t.intent||"display",l=document.createElement(s.name);s.attributes&&this.setAttributes({html:l,element:s,intent:o,linkService:n});const c=o!=="richText",h=t.div;if(h.append(l),t.viewport){const g=`matrix(${t.viewport.transform.join(",")})`;h.style.transform=g}c&&h.setAttribute("class","xfaLayer xfaFont");const d=[];if(s.children.length===0){if(s.value){const g=document.createTextNode(s.value);l.append(g),c&&Nu.shouldBuildText(s.name)&&d.push(g)}return{textDivs:d}}const p=[[s,-1,l]];for(;p.length>0;){const[g,v,m]=p.at(-1);if(v+1===g.children.length){p.pop();continue}const w=g.children[++p.at(-1)[1]];if(w===null)continue;const{name:_}=w;if(_==="#text"){const x=document.createTextNode(w.value);d.push(x),m.append(x);continue}const S=w?.attributes?.xmlns?document.createElementNS(w.attributes.xmlns,_):document.createElement(_);if(m.append(S),w.attributes&&this.setAttributes({html:S,element:w,storage:e,intent:o,linkService:n}),w.children?.length>0)p.push([w,-1,S]);else if(w.value){const x=document.createTextNode(w.value);c&&Nu.shouldBuildText(_)&&d.push(x),S.append(x)}}for(const g of h.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))g.setAttribute("readOnly",!0);return{textDivs:d}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const pr="http://www.w3.org/2000/svg";class yo{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function Zl(a,t="text"){if(iu(a,document.baseURI)){const e=await fetch(a);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,n)=>{const s=new XMLHttpRequest;s.open("GET",a,!0),s.responseType=t,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(s.response);return}e(s.responseText);return}n(new Error(s.statusText))}},s.send(null)})}class $u{constructor({viewBox:t,userUnit:e,scale:n,rotation:s,offsetX:o=0,offsetY:l=0,dontFlip:c=!1}){this.viewBox=t,this.userUnit=e,this.scale=n,this.rotation=s,this.offsetX=o,this.offsetY=l,n*=e;const h=(t[2]+t[0])/2,d=(t[3]+t[1])/2;let p,g,v,m;switch(s%=360,s<0&&(s+=360),s){case 180:p=-1,g=0,v=0,m=1;break;case 90:p=0,g=1,v=1,m=0;break;case 270:p=0,g=-1,v=-1,m=0;break;case 0:p=1,g=0,v=0,m=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(v=-v,m=-m);let w,_,S,x;p===0?(w=Math.abs(d-t[1])*n+o,_=Math.abs(h-t[0])*n+l,S=(t[3]-t[1])*n,x=(t[2]-t[0])*n):(w=Math.abs(h-t[0])*n+o,_=Math.abs(d-t[1])*n+l,S=(t[2]-t[0])*n,x=(t[3]-t[1])*n),this.transform=[p*n,g*n,v*n,m*n,w-p*n*h-v*n*d,_-g*n*h-m*n*d],this.width=S,this.height=x}get rawDims(){const t=this.viewBox;return Xt(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:s=this.offsetY,dontFlip:o=!1}={}){return new $u({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:s,dontFlip:o})}convertToViewportPoint(t,e){const n=[t,e];return St.applyTransform(n,this.transform),n}convertToViewportRectangle(t){const e=[t[0],t[1]];St.applyTransform(e,this.transform);const n=[t[2],t[3]];return St.applyTransform(n,this.transform),[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){const n=[t,e];return St.applyInverseTransform(n,this.transform),n}}class Ff extends xo{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function Wu(a){const t=a.length;let e=0;for(;e<t&&a[e].trim()==="";)e++;return a.substring(e,e+5).toLowerCase()==="data:"}function jf(a){return typeof a=="string"&&/\.pdf$/i.test(a)}function IT(a){return[a]=a.split(/[#?]/,1),a.substring(a.lastIndexOf("/")+1)}function zT(a,t="document.pdf"){if(typeof a!="string")return t;if(Wu(a))return Ht('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=(c=>{try{return new URL(c)}catch{try{return new URL(decodeURIComponent(c))}catch{try{return new URL(c,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(c),"https://foo.bar")}catch{return null}}}}})(a);if(!n)return t;const s=c=>{try{let h=decodeURIComponent(c);return h.includes("/")?(h=h.split("/").at(-1),h.test(/^\.pdf$/i)?h:c):h}catch{return c}},o=/\.pdf$/i,l=n.pathname.split("/").at(-1);if(o.test(l))return s(l);if(n.searchParams.size>0){const c=Array.from(n.searchParams.values()).reverse();for(const d of c)if(o.test(d))return s(d);const h=Array.from(n.searchParams.keys()).reverse();for(const d of h)if(o.test(d))return s(d)}if(n.hash){const h=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(h)return s(h[0])}return t}class Ox{started=Object.create(null);times=[];time(t){t in this.started&&Ht(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Ht(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:s,end:o}of this.times)t.push(`${n.padEnd(e)} ${o-s}ms
`);return t.join("")}}function iu(a,t){const e=t?URL.parse(a,t):URL.parse(a);return e?.protocol==="http:"||e?.protocol==="https:"}function zi(a){a.preventDefault()}function Xe(a){a.preventDefault(),a.stopPropagation()}function HI(a){console.log("Deprecated API usage: "+a)}class mf{static#t;static toDateObject(t){if(t instanceof Date)return t;if(!t||typeof t!="string")return null;this.#t||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const e=this.#t.exec(t);if(!e)return null;const n=parseInt(e[1],10);let s=parseInt(e[2],10);s=s>=1&&s<=12?s-1:0;let o=parseInt(e[3],10);o=o>=1&&o<=31?o:1;let l=parseInt(e[4],10);l=l>=0&&l<=23?l:0;let c=parseInt(e[5],10);c=c>=0&&c<=59?c:0;let h=parseInt(e[6],10);h=h>=0&&h<=59?h:0;const d=e[7]||"Z";let p=parseInt(e[8],10);p=p>=0&&p<=23?p:0;let g=parseInt(e[9],10)||0;return g=g>=0&&g<=59?g:0,d==="-"?(l+=p,c+=g):d==="+"&&(l-=p,c-=g),new Date(Date.UTC(n,s,o,l,c,h))}}function FT(a,{scale:t=1,rotation:e=0}){const{width:n,height:s}=a.attributes.style,o=[0,0,parseInt(n),parseInt(s)];return new $u({viewBox:o,userUnit:1,scale:t,rotation:e})}function Jl(a){if(a.startsWith("#")){const t=parseInt(a.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return a.startsWith("rgb(")?a.slice(4,-1).split(",").map(t=>parseInt(t)):a.startsWith("rgba(")?a.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Ht(`Not a valid color format: "${a}"`),[0,0,0])}function GI(a){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of a.keys()){t.style.color=e;const n=window.getComputedStyle(t).color;a.set(e,Jl(n))}t.remove()}function Ve(a){const{a:t,b:e,c:n,d:s,e:o,f:l}=a.getTransform();return[t,e,n,s,o,l]}function Rs(a){const{a:t,b:e,c:n,d:s,e:o,f:l}=a.getTransform().invertSelf();return[t,e,n,s,o,l]}function ba(a,t,e=!1,n=!0){if(t instanceof $u){const{pageWidth:s,pageHeight:o}=t.rawDims,{style:l}=a,c=Cn.isCSSRoundSupported,h=`var(--total-scale-factor) * ${s}px`,d=`var(--total-scale-factor) * ${o}px`,p=c?`round(down, ${h}, var(--scale-round-x))`:`calc(${h})`,g=c?`round(down, ${d}, var(--scale-round-y))`:`calc(${d})`;!e||t.rotation%180===0?(l.width=p,l.height=g):(l.width=g,l.height=p)}n&&a.setAttribute("data-main-rotation",t.rotation)}class ws{constructor(){const{pixelRatio:t}=ws;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,n,s,o=-1){let l=1/0,c=1/0,h=1/0;n=ws.capPixels(n,o),n>0&&(l=Math.sqrt(n/(t*e))),s!==-1&&(c=s/t,h=s/e);const d=Math.min(l,c,h);return this.sx>d||this.sy>d?(this.sx=d,this.sy=d,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,n):n}return t}}const yf=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class VI{static get isDarkMode(){return Xt(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class jT{static get commentForegroundColor(){const t=document.createElement("span");t.classList.add("comment","sidebar");const{style:e}=t;e.width=e.height="0",e.display="none",e.color="var(--comment-fg-color)",document.body.append(t);const{color:n}=window.getComputedStyle(t);return t.remove(),Xt(this,"commentForegroundColor",Jl(n))}}function UT(a,t,e,n){n=Math.min(Math.max(n??1,0),1);const s=255*(1-n);return a=Math.round(a*n+s),t=Math.round(t*n+s),e=Math.round(e*n+s),[a,t,e]}function kx(a,t){const e=a[0]/255,n=a[1]/255,s=a[2]/255,o=Math.max(e,n,s),l=Math.min(e,n,s),c=(o+l)/2;if(o===l)t[0]=t[1]=0;else{const h=o-l;switch(t[1]=c<.5?h/(o+l):h/(2-o-l),o){case e:t[0]=((n-s)/h+(n<s?6:0))*60;break;case n:t[0]=((s-e)/h+2)*60;break;case s:t[0]=((e-n)/h+4)*60;break}}t[2]=c}function Py(a,t){const e=a[0],n=a[1],s=a[2],o=(1-Math.abs(2*s-1))*n,l=o*(1-Math.abs(e/60%2-1)),c=s-o/2;switch(Math.floor(e/60)){case 0:t[0]=o+c,t[1]=l+c,t[2]=c;break;case 1:t[0]=l+c,t[1]=o+c,t[2]=c;break;case 2:t[0]=c,t[1]=o+c,t[2]=l+c;break;case 3:t[0]=c,t[1]=l+c,t[2]=o+c;break;case 4:t[0]=l+c,t[1]=c,t[2]=o+c;break;case 5:case 6:t[0]=o+c,t[1]=c,t[2]=l+c;break}}function Nx(a){return a<=.03928?a/12.92:((a+.055)/1.055)**2.4}function Lx(a,t,e){Py(a,e),e.map(Nx);const n=.2126*e[0]+.7152*e[1]+.0722*e[2];Py(t,e),e.map(Nx);const s=.2126*e[0]+.7152*e[1]+.0722*e[2];return n>s?(n+.05)/(s+.05):(s+.05)/(n+.05)}const Px=new Map;function HT(a,t){const e=a[0]+a[1]*256+a[2]*65536+t[0]*16777216+t[1]*4294967296+t[2]*1099511627776;let n=Px.get(e);if(n)return n;const s=new Float32Array(9),o=s.subarray(0,3),l=s.subarray(3,6);kx(a,l);const c=s.subarray(6,9);kx(t,c);const h=c[2]<.5,d=h?12:4.5;if(l[2]=h?Math.sqrt(l[2]):1-Math.sqrt(1-l[2]),Lx(l,c,o)<d){let p,g;h?(p=l[2],g=1):(p=0,g=l[2]);const v=.005;for(;g-p>v;){const m=l[2]=(p+g)/2;h===Lx(l,c,o)<d?p=m:g=m}l[2]=h?g:p}return Py(l,o),n=St.makeHexColor(Math.round(o[0]*255),Math.round(o[1]*255),Math.round(o[2]*255)),Px.set(e,n),n}function jv({html:a,dir:t,className:e},n){const s=document.createDocumentFragment();if(typeof a=="string"){const o=document.createElement("p");o.dir=t||"auto";const l=a.split(/(?:\r\n?|\n)/);for(let c=0,h=l.length;c<h;++c){const d=l[c];o.append(document.createTextNode(d)),c<h-1&&o.append(document.createElement("br"))}s.append(o)}else Fv.render({xfaHtml:a,div:s,intent:"richText"});s.firstChild.classList.add("richText",e),n.append(s)}class fu{#t=null;#e=null;#i;#n=null;#a=null;#s=null;#r=null;#o=null;static#c=null;constructor(t){this.#i=t,fu.#c||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const t=this.#t=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=this.#i._uiManager._signal;e instanceof AbortSignal&&!e.aborted&&(t.addEventListener("contextmenu",zi,{signal:e}),t.addEventListener("pointerdown",fu.#l,{signal:e}));const n=this.#n=document.createElement("div");n.className="buttons",t.append(n);const s=this.#i.toolbarPosition;if(s){const{style:o}=t,l=this.#i._uiManager.direction==="ltr"?1-s[0]:s[0];o.insetInlineEnd=`${100*l}%`,o.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return this.#t}static#l(t){t.stopPropagation()}#d(t){this.#i._focusEventsAllowed=!1,Xe(t)}#h(t){this.#i._focusEventsAllowed=!0,Xe(t)}#f(t){const e=this.#i._uiManager._signal;return!(e instanceof AbortSignal)||e.aborted?!1:(t.addEventListener("focusin",this.#d.bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",this.#h.bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",zi,{signal:e}),!0)}hide(){this.#t.classList.add("hidden"),this.#e?.hideDropdown()}show(){this.#t.classList.remove("hidden"),this.#a?.shown(),this.#s?.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=this.#i,n=document.createElement("button");n.classList.add("basic","deleteButton"),n.tabIndex=0,n.setAttribute("data-l10n-id",fu.#c[t]),this.#f(n)&&n.addEventListener("click",s=>{e.delete()},{signal:e._signal}),this.#n.append(n)}get#m(){const t=document.createElement("div");return t.className="divider",t}async addAltText(t){const e=await t.render();this.#f(e),this.#n.append(e,this.#m),this.#a=t}addComment(t,e=null){if(this.#s)return;const n=t.renderForToolbar();if(!n)return;this.#f(n);const s=this.#r=this.#m;e?(this.#n.insertBefore(n,e),this.#n.insertBefore(s,e)):this.#n.append(n,s),this.#s=t,t.toolbar=this}addColorPicker(t){if(this.#e)return;this.#e=t;const e=t.renderButton();this.#f(e),this.#n.append(e,this.#m)}async addEditSignatureButton(t){const e=this.#o=await t.renderEditButton(this.#i);this.#f(e),this.#n.append(e,this.#m)}removeButton(t){switch(t){case"comment":this.#s?.removeToolbarCommentButton(),this.#s=null,this.#r?.remove(),this.#r=null;break}}async addButton(t,e){switch(t){case"colorPicker":this.addColorPicker(e);break;case"altText":await this.addAltText(e);break;case"editSignature":await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(e);break}}async addButtonBefore(t,e,n){const s=this.#n.querySelector(n);s&&t==="comment"&&this.addComment(e,s)}updateEditSignatureButton(t){this.#o&&(this.#o.title=t)}remove(){this.#t.remove(),this.#e?.destroy(),this.#e=null}}class YI{#t=null;#e=null;#i;constructor(t){this.#i=t}#n(){const t=this.#e=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar");const e=this.#i._signal;e instanceof AbortSignal&&!e.aborted&&t.addEventListener("contextmenu",zi,{signal:e});const n=this.#t=document.createElement("div");return n.className="buttons",t.append(n),this.#i.hasCommentManager()&&this.#s("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#i.commentSelection("floating_button")}),this.#s("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#i.highlightSelection("floating_button")}),t}#a(t,e){let n=0,s=0;for(const o of t){const l=o.y+o.height;if(l<n)continue;const c=o.x+(e?o.width:0);if(l>n){s=c,n=l;continue}e?c>s&&(s=c):c<s&&(s=c)}return[e?1-s:s,n]}show(t,e,n){const[s,o]=this.#a(e,n),{style:l}=this.#e||=this.#n();t.append(this.#e),l.insetInlineEnd=`${100*s}%`,l.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){this.#e.remove()}#s(t,e,n,s){const o=document.createElement("button");o.classList.add("basic",t),o.tabIndex=0,o.setAttribute("data-l10n-id",e);const l=document.createElement("span");o.append(l),l.className="visuallyHidden",l.setAttribute("data-l10n-id",n);const c=this.#i._signal;c instanceof AbortSignal&&!c.aborted&&(o.addEventListener("contextmenu",zi,{signal:c}),o.addEventListener("click",s,{signal:c})),this.#t.append(o)}}function GT(a,t,e){for(const n of e)t.addEventListener(n,a[n].bind(a))}class XI{#t=0;get id(){return`${Ou}${this.#t++}`}}class Uv{#t=Iv();#e=0;#i=null;static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=t;const o=s.decode().then(()=>(n.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Xt(this,"_isSVGFittingCanvas",o)}async#n(t,e){this.#i||=new Map;let n=this.#i.get(t);if(n===null)return null;if(n?.bitmap)return n.refCounter+=1,n;try{n||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let s;if(typeof e=="string"?(n.url=e,s=await Zl(e,"blob")):e instanceof File?s=n.file=e:e instanceof Blob&&(s=e),s.type==="image/svg+xml"){const o=Uv._isSVGFittingCanvas,l=new FileReader,c=new Image,h=new Promise((d,p)=>{c.onload=()=>{n.bitmap=c,n.isSvg=!0,d()},l.onload=async()=>{const g=n.svgUrl=l.result;c.src=await o?`${g}#svgView(preserveAspectRatio(none))`:g},c.onerror=l.onerror=p});l.readAsDataURL(s),await h}else n.bitmap=await createImageBitmap(s);n.refCounter=1}catch(s){Ht(s),n=null}return this.#i.set(t,n),n&&this.#i.set(n.id,n),n}async getFromFile(t){const{lastModified:e,name:n,size:s,type:o}=t;return this.#n(`${e}_${n}_${s}_${o}`,t)}async getFromUrl(t){return this.#n(t,t)}async getFromBlob(t,e){const n=await e;return this.#n(t,n)}async getFromId(t){this.#i||=new Map;const e=this.#i.get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:n}=e;return delete e.blobPromise,this.getFromBlob(e.id,n)}return this.getFromUrl(e.url)}getFromCanvas(t,e){this.#i||=new Map;let n=this.#i.get(t);if(n?.bitmap)return n.refCounter+=1,n;const s=new OffscreenCanvas(e.width,e.height);return s.getContext("2d").drawImage(e,0,0),n={bitmap:s.transferToImageBitmap(),id:`image_${this.#t}_${this.#e++}`,refCounter:1,isSvg:!1},this.#i.set(t,n),this.#i.set(n.id,n),n}getSvgUrl(t){const e=this.#i.get(t);return e?.isSvg?e.svgUrl:null}deleteId(t){this.#i||=new Map;const e=this.#i.get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:n}=e;if(!e.url&&!e.file){const s=new OffscreenCanvas(n.width,n.height);s.getContext("bitmaprenderer").transferFromImageBitmap(n),e.blobPromise=s.convertToBlob()}n.close?.(),e.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#t}_`)}}class qI{#t=[];#e=!1;#i;#n=-1;constructor(t=128){this.#i=t}add({cmd:t,undo:e,post:n,mustExec:s,type:o=NaN,overwriteIfSameType:l=!1,keepUndo:c=!1}){if(s&&t(),this.#e)return;const h={cmd:t,undo:e,post:n,type:o};if(this.#n===-1){this.#t.length>0&&(this.#t.length=0),this.#n=0,this.#t.push(h);return}if(l&&this.#t[this.#n].type===o){c&&(h.undo=this.#t[this.#n].undo),this.#t[this.#n]=h;return}const d=this.#n+1;d===this.#i?this.#t.splice(0,1):(this.#n=d,d<this.#t.length&&this.#t.splice(d)),this.#t.push(h)}undo(){if(this.#n===-1)return;this.#e=!0;const{undo:t,post:e}=this.#t[this.#n];t(),e?.(),this.#e=!1,this.#n-=1}redo(){if(this.#n<this.#t.length-1){this.#n+=1,this.#e=!0;const{cmd:t,post:e}=this.#t[this.#n];t(),e?.(),this.#e=!1}}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#t.length-1}cleanType(t){if(this.#n!==-1){for(let e=this.#n;e>=0;e--)if(this.#t[e].type!==t){this.#t.splice(e+1,this.#n-e),this.#n=e;return}this.#t.length=0,this.#n=-1}}destroy(){this.#t=null}}class Ku{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Cn.platform;for(const[n,s,o={}]of t)for(const l of n){const c=l.startsWith("mac+");e&&c?(this.callbacks.set(l.slice(4),{callback:s,options:o}),this.allKeys.add(l.split("+").at(-1))):!e&&!c&&(this.callbacks.set(l,{callback:s,options:o}),this.allKeys.add(l.split("+").at(-1)))}}#t(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(this.#t(e));if(!n)return;const{callback:s,options:{bubbles:o=!1,args:l=[],checker:c=null}}=n;c&&!c(t,e)||(s.bind(t,...l,e)(),o||Xe(e))}}class Hv{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return GI(t),Xt(this,"_colors",t)}convert(t){const e=Jl(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,s]of this._colors)if(s.every((o,l)=>o===e[l]))return Hv._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?St.makeHexColor(...e):t}}class Mr{#t=new AbortController;#e=null;#i=null;#n=new Map;#a=new Map;#s=null;#r=null;#o=null;#c=new qI;#l=null;#d=null;#h=null;#f=0;#m=new Set;#p=null;#u=null;#g=new Set;_editorUndoBar=null;#y=!1;#b=!1;#v=!1;#E=null;#x=null;#_=null;#C=null;#S=!1;#A=null;#D=new XI;#M=!1;#R=!1;#I=!1;#k=null;#L=null;#z=null;#P=null;#V=null;#T=Ut.NONE;#w=new Set;#N=null;#F=null;#U=null;#q=null;#X=null;#$={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#H=[0,0];#B=null;#Y=null;#Z=null;#J=null;#j=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=Mr.prototype,e=l=>l.#Y.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&l.hasSomethingToControl(),n=(l,{target:c})=>{if(c instanceof HTMLInputElement){const{type:h}=c;return h!=="text"&&h!=="number"}return!0},s=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return Xt(this,"_keyboardManager",new Ku([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(l,{target:c})=>!(c instanceof HTMLButtonElement)&&l.#Y.contains(c)&&!l.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(l,{target:c})=>!(c instanceof HTMLButtonElement)&&l.#Y.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-o,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[o,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-o],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,o],checker:e}]]))}constructor(t,e,n,s,o,l,c,h,d,p,g,v,m,w,_,S){const x=this._signal=this.#t.signal;this.#Y=t,this.#Z=e,this.#J=n,this.#s=s,this.#l=o,this.#F=l,this.#X=h,this._eventBus=c,c._on("editingaction",this.onEditingAction.bind(this),{signal:x}),c._on("pagechanging",this.onPageChanging.bind(this),{signal:x}),c._on("scalechanging",this.onScaleChanging.bind(this),{signal:x}),c._on("rotationchanging",this.onRotationChanging.bind(this),{signal:x}),c._on("setpreference",this.onSetPreference.bind(this),{signal:x}),c._on("switchannotationeditorparams",T=>this.updateParams(T.type,T.value),{signal:x}),window.addEventListener("pointerdown",()=>{this.#R=!0},{capture:!0,signal:x}),window.addEventListener("pointerup",()=>{this.#R=!1},{capture:!0,signal:x}),this.#lt(),this.#dt(),this.#et(),this.#r=h.annotationStorage,this.#E=h.filterFactory,this.#U=d,this.#C=p||null,this.#y=g,this.#b=v,this.#v=m,this.#V=w||null,this.viewParameters={realScale:yo.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=_||null,this._supportsPinchToZoom=S!==!1,o?.setSidebarUiManager(this)}destroy(){this.#j?.resolve(),this.#j=null,this.#t?.abort(),this.#t=null,this._signal=null;for(const t of this.#a.values())t.destroy();this.#a.clear(),this.#n.clear(),this.#g.clear(),this.#P?.clear(),this.#e=null,this.#w.clear(),this.#c.destroy(),this.#s?.destroy(),this.#l?.destroy(),this.#F?.destroy(),this.#A?.hide(),this.#A=null,this.#z?.destroy(),this.#z=null,this.#i=null,this.#x&&(clearTimeout(this.#x),this.#x=null),this.#B&&(clearTimeout(this.#B),this.#B=null),this._editorUndoBar?.destroy(),this.#X=null}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#V}get useNewAltTextFlow(){return this.#b}get useNewAltTextWhenAddingImage(){return this.#v}get hcmFilter(){return Xt(this,"hcmFilter",this.#U?this.#E.addHCMFilter(this.#U.foreground,this.#U.background):"none")}get direction(){return Xt(this,"direction",getComputedStyle(this.#Y).direction)}get _highlightColors(){return Xt(this,"_highlightColors",this.#C?new Map(this.#C.split(",").map(t=>(t=t.split("=").map(e=>e.trim()),t[1]=t[1].toUpperCase(),t))):null)}get highlightColors(){const{_highlightColors:t}=this;if(!t)return Xt(this,"highlightColors",null);const e=new Map,n=!!this.#U;for(const[s,o]of t){const l=s.endsWith("_HCM");if(n&&l){e.set(s.replace("_HCM",""),o);continue}!n&&!l&&e.set(s,o)}return Xt(this,"highlightColors",e)}get highlightColorNames(){return Xt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}getNonHCMColor(t){if(!this._highlightColors)return t;const e=this.highlightColorNames.get(t);return this._highlightColors.get(e)||t}getNonHCMColorName(t){return this.highlightColorNames.get(t)||t}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#h=t}setMainHighlightColorPicker(t){this.#z=t}editAltText(t,e=!1){this.#s?.editAltText(this,t,e)}hasCommentManager(){return!!this.#l}editComment(t,e,n,s){this.#l?.showDialog(this,t,e,n,s)}selectComment(t,e){this.#a.get(t)?.getEditorByUID(e)?.toggleComment(!0,!0)}updateComment(t){this.#l?.updateComment(t.getData())}updatePopupColor(t){this.#l?.updatePopupColor(t)}removeComment(t){this.#l?.removeComments([t.uid])}toggleComment(t,e,n=void 0){this.#l?.toggleCommentPopup(t,e,n)}makeCommentColor(t,e){return t&&this.#l?.makeCommentColor(t,e)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}async waitForEditorsRendered(t){if(this.#a.has(t-1))return;const{resolve:e,promise:n}=Promise.withResolvers(),s=o=>{o.pageNumber===t&&(this._eventBus._off("editorsrendered",s),e())};this._eventBus.on("editorsrendered",s),await n}getSignature(t){this.#F?.getSignature({uiManager:this,editor:t})}get signatureManager(){return this.#F}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":this.#v=e;break}}onPageChanging({pageNumber:t}){this.#f=t-1}focusMainContainer(){this.#Y.focus()}findParent(t,e){for(const n of this.#a.values()){const{x:s,y:o,width:l,height:c}=n.div.getBoundingClientRect();if(t>=s&&t<=s+l&&e>=o&&e<=o+c)return n}return null}disableUserSelect(t=!1){this.#Z.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#g.add(t)}removeShouldRescale(t){this.#g.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*yo.PDF_TO_CSS_UNITS;for(const e of this.#g)e.onScaleChanging();this.#h?.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#Q({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#tt(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const n of this.#a.values())if(n.hasTextLayer(t))return n;return null}highlightSelection(t="",e=!1){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:s,anchorOffset:o,focusNode:l,focusOffset:c}=n,h=n.toString(),p=this.#Q(n).closest(".textLayer"),g=this.getSelectionBoxes(p);if(!g)return;n.empty();const v=this.#tt(p),m=this.#T===Ut.NONE,w=()=>{const _=v?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:g,anchorNode:s,anchorOffset:o,focusNode:l,focusOffset:c,text:h});m&&this.showAllEditors("highlight",!0,!0),e&&_?.editComment()};if(m){this.switchToMode(Ut.HIGHLIGHT,w);return}w()}commentSelection(t=""){this.highlightSelection(t,!0)}#at(){const t=document.getSelection();if(!t||t.isCollapsed)return;const n=this.#Q(t).closest(".textLayer"),s=this.getSelectionBoxes(n);s&&(this.#A||=new YI(this),this.#A.show(n,s,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(t){if(!this.#r)return null;const e=`${Ou}${t}`,n=this.#r.getRawValue(e);return n&&this.#r.remove(e),n}addToAnnotationStorage(t){!t.isEmpty()&&this.#r&&!this.#r.has(t.id)&&this.#r.setValue(t.id,t)}a11yAlert(t,e=null){const n=this.#J;n&&(n.setAttribute("data-l10n-id",t),e?n.setAttribute("data-l10n-args",JSON.stringify(e)):n.removeAttribute("data-l10n-args"))}#ot(){const t=document.getSelection();if(!t||t.isCollapsed){this.#N&&(this.#A?.hide(),this.#N=null,this.#O({hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===this.#N)return;const s=this.#Q(t).closest(".textLayer");if(!s){this.#N&&(this.#A?.hide(),this.#N=null,this.#O({hasSelectedText:!1}));return}if(this.#A?.hide(),this.#N=e,this.#O({hasSelectedText:!0}),!(this.#T!==Ut.HIGHLIGHT&&this.#T!==Ut.NONE)&&(this.#T===Ut.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#S=this.isShiftKeyDown,!this.isShiftKeyDown)){const o=this.#T===Ut.HIGHLIGHT?this.#tt(s):null;if(o?.toggleDrawing(),this.#R){const l=new AbortController,c=this.combinedSignal(l),h=d=>{d.type==="pointerup"&&d.button!==0||(l.abort(),o?.toggleDrawing(!0),d.type==="pointerup"&&this.#W("main_toolbar"))};window.addEventListener("pointerup",h,{signal:c}),window.addEventListener("blur",h,{signal:c})}else o?.toggleDrawing(!0),this.#W("main_toolbar")}}#W(t=""){this.#T===Ut.HIGHLIGHT?this.highlightSelection(t):this.#y&&this.#at()}#lt(){document.addEventListener("selectionchange",this.#ot.bind(this),{signal:this._signal})}#ct(){if(this.#_)return;this.#_=new AbortController;const t=this.combinedSignal(this.#_);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#ut(){this.#_?.abort(),this.#_=null}blur(){if(this.isShiftKeyDown=!1,this.#S&&(this.#S=!1,this.#W("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of this.#w)if(e.div.contains(t)){this.#L=[e,t],e._focusEventsAllowed=!1;break}}focus(){if(!this.#L)return;const[t,e]=this.#L;this.#L=null,e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}#et(){if(this.#k)return;this.#k=new AbortController;const t=this.combinedSignal(this.#k);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#ht(){this.#k?.abort(),this.#k=null}#nt(){if(this.#d)return;this.#d=new AbortController;const t=this.combinedSignal(this.#d);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#it(){this.#d?.abort(),this.#d=null}#dt(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#et(),this.#nt()}removeEditListeners(){this.#ht(),this.#it()}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const n of this.#u)if(n.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const n of this.#u)if(n.isHandlingMimeForPasting(e.type)){n.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const e=[];for(const n of this.#w){const s=n.serialize(!0);s&&e.push(s)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const o of e.items)for(const l of this.#u)if(l.isHandlingMimeForPasting(o.type)){l.paste(o,this.currentLayer);return}let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(o){Ht(`paste: "${o.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const s=this.currentLayer;try{const o=[];for(const h of n){const d=await s.deserialize(h);if(!d)return;o.push(d)}const l=()=>{for(const h of o)this.#st(h);this.#rt(o)},c=()=>{for(const h of o)h.remove()};this.addCommands({cmd:l,undo:c,mustExec:!0})}catch(o){Ht(`paste: "${o.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#T!==Ut.NONE&&!this.isEditorHandlingKeyboard&&Mr._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#S&&(this.#S=!1,this.#W("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#O(t){Object.entries(t).some(([n,s])=>this.#$[n]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#$,t)}),this.#T===Ut.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#G([[ne.HIGHLIGHT_FREE,!0]]))}#G(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#ct(),this.#nt(),this.#O({isEditing:this.#T!==Ut.NONE,isEmpty:this.#K(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#ut(),this.#it(),this.#O({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#u){this.#u=t;for(const e of this.#u)this.#G(e.defaultPropertiesToUpdate)}}getId(){return this.#D.id}get currentLayer(){return this.#a.get(this.#f)}getLayer(t){return this.#a.get(t)}get currentPageIndex(){return this.#f}addLayer(t){this.#a.set(t.pageIndex,t),this.#M?t.enable():t.disable()}removeLayer(t){this.#a.delete(t.pageIndex)}async updateMode(t,e=null,n=!1,s=!1,o=!1){if(this.#T!==t&&!(this.#j&&(await this.#j.promise,!this.#j))){if(this.#j=Promise.withResolvers(),this.#h?.commitOrRemove(),this.#T===Ut.POPUP&&this.#l?.hideSidebar(),this.#l?.destroyPopup(),this.#T=t,t===Ut.NONE){this.setEditingState(!1),this.#pt();for(const l of this.#n.values())l.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#j.resolve();return}for(const l of this.#n.values())l.addStandaloneCommentButton();t===Ut.SIGNATURE&&await this.#F?.loadSignatures(),this.setEditingState(!0),await this.#ft(),this.unselectAll();for(const l of this.#a.values())l.updateMode(t);if(t===Ut.POPUP){this.#i||=await this.#X.getAnnotationsByType(new Set(this.#u.map(h=>h._editorType)));const l=new Set,c=[];for(const h of this.#n.values()){const{annotationElementId:d,hasComment:p,deleted:g}=h;d&&l.add(d),p&&!g&&c.push(h.getData())}for(const h of this.#i){const{id:d,popupRef:p,contentsObj:g}=h;p&&g?.str&&!l.has(d)&&!this.#m.has(d)&&c.push(h)}this.#l?.showSidebar(c)}if(!e){n&&this.addNewEditorFromKeyboard(),this.#j.resolve();return}for(const l of this.#n.values())l.uid===e?(this.setSelected(l),o?l.editComment():s?l.enterInEditMode():l.focus()):l.unselect();this.#j.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==this.#T&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(this.#u){switch(t){case ne.CREATE:this.currentLayer.addNewEditor(e);return;case ne.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#q||=new Map).set(t,e),this.showAllEditors("highlight",e);break}if(this.hasSelection)for(const n of this.#w)n.updateParams(t,e);else for(const n of this.#u)n.updateDefaultParams(t,e)}}showAllEditors(t,e,n=!1){for(const o of this.#n.values())o.editorType===t&&o.show(e);(this.#q?.get(ne.HIGHLIGHT_SHOW_ALL)??!0)!==e&&this.#G([[ne.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(this.#I!==t){this.#I=t;for(const e of this.#a.values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}async#ft(){if(!this.#M){this.#M=!0;const t=[];for(const e of this.#a.values())t.push(e.enable());await Promise.all(t);for(const e of this.#n.values())e.enable()}}#pt(){if(this.unselectAll(),this.#M){this.#M=!1;for(const t of this.#a.values())t.disable();for(const t of this.#n.values())t.disable()}}*getEditors(t){for(const e of this.#n.values())e.pageIndex===t&&(yield e)}getEditor(t){return this.#n.get(t)}addEditor(t){this.#n.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#x&&clearTimeout(this.#x),this.#x=setTimeout(()=>{this.focusMainContainer(),this.#x=null},0)),this.#n.delete(t.id),t.annotationElementId&&this.#P?.delete(t.annotationElementId),this.unselect(t),(!t.annotationElementId||!this.#m.has(t.annotationElementId))&&this.#r?.remove(t.id)}addDeletedAnnotationElement(t){this.#m.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#m.has(t)}removeDeletedAnnotationElement(t){this.#m.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#st(t){const e=this.#a.get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#e!==t&&(this.#e=t,t&&this.#G(t.propertiesToUpdate))}get#gt(){let t=null;for(t of this.#w);return t}updateUI(t){this.#gt===t&&this.#G(t.propertiesToUpdate)}updateUIForDefaultProperties(t){this.#G(t.defaultPropertiesToUpdate)}toggleSelected(t){if(this.#w.has(t)){this.#w.delete(t),t.unselect(),this.#O({hasSelectedEditor:this.hasSelection});return}this.#w.add(t),t.select(),this.#G(t.propertiesToUpdate),this.#O({hasSelectedEditor:!0})}setSelected(t){this.updateToolbar({mode:t.mode,editId:t.id}),this.#h?.commitOrRemove();for(const e of this.#w)e!==t&&e.unselect();this.#w.clear(),this.#w.add(t),t.select(),this.#G(t.propertiesToUpdate),this.#O({hasSelectedEditor:!0})}isSelected(t){return this.#w.has(t)}get firstSelectedEditor(){return this.#w.values().next().value}unselect(t){t.unselect(),this.#w.delete(t),this.#O({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#w.size!==0}get isEnterHandled(){return this.#w.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#O({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#K()}),this._editorUndoBar?.hide()}redo(){this.#c.redo(),this.#O({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#K()})}addCommands(t){this.#c.add(t),this.#O({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#K()})}cleanUndoStack(t){this.#c.cleanType(t)}#K(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const t of this.#n.values())return t.isEmpty();return!1}delete(){this.commitOrRemove();const t=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...this.#w],n=()=>{this._editorUndoBar?.show(s,e.length===1?e[0].editorType:e.length);for(const o of e)o.remove()},s=()=>{for(const o of e)this.#st(o)};this.addCommands({cmd:n,undo:s,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#rt(t){for(const e of this.#w)e.unselect();this.#w.clear();for(const e of t)e.isEmpty()||(this.#w.add(e),e.select());this.#O({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#w)t.commit();this.#rt(this.#n.values())}unselectAll(){if(!(this.#e&&(this.#e.commitOrRemove(),this.#T!==Ut.NONE))&&!this.#h?.commitOrRemove()&&this.hasSelection){for(const t of this.#w)t.unselect();this.#w.clear(),this.#O({hasSelectedEditor:!1})}}translateSelectedEditors(t,e,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;this.#H[0]+=t,this.#H[1]+=e;const[s,o]=this.#H,l=[...this.#w],c=1e3;this.#B&&clearTimeout(this.#B),this.#B=setTimeout(()=>{this.#B=null,this.#H[0]=this.#H[1]=0,this.addCommands({cmd:()=>{for(const h of l)this.#n.has(h.id)&&(h.translateInPage(s,o),h.translationDone())},undo:()=>{for(const h of l)this.#n.has(h.id)&&(h.translateInPage(-s,-o),h.translationDone())},mustExec:!1})},c);for(const h of l)h.translateInPage(t,e),h.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#p=new Map;for(const t of this.#w)this.#p.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#p)return!1;this.disableUserSelect(!1);const t=this.#p;this.#p=null;let e=!1;for(const[{x:s,y:o,pageIndex:l},c]of t)c.newX=s,c.newY=o,c.newPageIndex=l,e||=s!==c.savedX||o!==c.savedY||l!==c.savedPageIndex;if(!e)return!1;const n=(s,o,l,c)=>{if(this.#n.has(s.id)){const h=this.#a.get(c);h?s._setParentAndPosition(h,o,l):(s.pageIndex=c,s.x=o,s.y=l)}};return this.addCommands({cmd:()=>{for(const[s,{newX:o,newY:l,newPageIndex:c}]of t)n(s,o,l,c)},undo:()=>{for(const[s,{savedX:o,savedY:l,savedPageIndex:c}]of t)n(s,o,l,c)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(this.#p)for(const n of this.#p.keys())n.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#w.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#e===t}getActive(){return this.#e}getMode(){return this.#T}isEditingMode(){return this.#T!==Ut.NONE}get imageManager(){return Xt(this,"imageManager",new Uv)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let d=0,p=e.rangeCount;d<p;d++)if(!t.contains(e.getRangeAt(d).commonAncestorContainer))return null;const{x:n,y:s,width:o,height:l}=t.getBoundingClientRect();let c;switch(t.getAttribute("data-main-rotation")){case"90":c=(d,p,g,v)=>({x:(p-s)/l,y:1-(d+g-n)/o,width:v/l,height:g/o});break;case"180":c=(d,p,g,v)=>({x:1-(d+g-n)/o,y:1-(p+v-s)/l,width:g/o,height:v/l});break;case"270":c=(d,p,g,v)=>({x:1-(p+v-s)/l,y:(d-n)/o,width:v/l,height:g/o});break;default:c=(d,p,g,v)=>({x:(d-n)/o,y:(p-s)/l,width:g/o,height:v/l});break}const h=[];for(let d=0,p=e.rangeCount;d<p;d++){const g=e.getRangeAt(d);if(!g.collapsed)for(const{x:v,y:m,width:w,height:_}of g.getClientRects())w===0||_===0||h.push(c(v,m,w,_))}return h.length===0?null:h}addChangedExistingAnnotation({annotationElementId:t,id:e}){(this.#o||=new Map).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){this.#o?.delete(t)}renderAnnotationElement(t){const e=this.#o?.get(t.data.id);if(!e)return;const n=this.#r.getRawValue(e);n&&(this.#T===Ut.NONE&&!n.hasBeenModified||n.renderAnnotationElement(t))}setMissingCanvas(t,e,n){const s=this.#P?.get(t);s&&(s.setCanvas(e,n),this.#P.delete(t))}addMissingCanvas(t,e){(this.#P||=new Map).set(t,e)}}class Ls{#t=null;#e=!1;#i=null;#n=null;#a=null;#s=null;#r=!1;#o=null;#c=null;#l=null;#d=null;#h=!1;static#f=null;static _l10n=null;constructor(t){this.#c=t,this.#h=t._uiManager.useNewAltTextFlow,Ls.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){Ls._l10n??=t}async render(){const t=this.#i=document.createElement("button");t.className="altText",t.tabIndex="0";const e=this.#n=document.createElement("span");t.append(e),this.#h?(t.classList.add("new"),t.setAttribute("data-l10n-id",Ls.#f.missing),e.setAttribute("data-l10n-id",Ls.#f["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=this.#c._uiManager._signal;t.addEventListener("contextmenu",zi,{signal:n}),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:n});const s=o=>{o.preventDefault(),this.#c._uiManager.editAltText(this.#c),this.#h&&this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#m}})};return t.addEventListener("click",s,{capture:!0,signal:n}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(this.#r=!0,s(o))},{signal:n}),await this.#p(),t}get#m(){return this.#t&&"added"||this.#t===null&&this.guessedText&&"review"||"missing"}finish(){this.#i&&(this.#i.focus({focusVisible:this.#r}),this.#r=!1)}isEmpty(){return this.#h?this.#t===null:!this.#t&&!this.#e}hasData(){return this.#h?this.#t!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(t){this.#t===null&&(this.#l=t,this.#d=await Ls._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#p())}toggleAltTextBadge(t=!1){if(!this.#h||this.#t){this.#o?.remove(),this.#o=null;return}if(!this.#o){const e=this.#o=document.createElement("div");e.className="noAltTextBadge",this.#c.div.append(e)}this.#o.classList.toggle("hidden",!t)}serialize(t){let e=this.#t;return!t&&this.#l===e&&(e=this.#d),{altText:e,decorative:this.#e,guessedText:this.#l,textWithDisclaimer:this.#d}}get data(){return{altText:this.#t,decorative:this.#e}}set data({altText:t,decorative:e,guessedText:n,textWithDisclaimer:s,cancel:o=!1}){n&&(this.#l=n,this.#d=s),!(this.#t===t&&this.#e===e)&&(o||(this.#t=t,this.#e=e),this.#p())}toggle(t=!1){this.#i&&(!t&&this.#s&&(clearTimeout(this.#s),this.#s=null),this.#i.disabled=!t)}shown(){this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#m}})}destroy(){this.#i?.remove(),this.#i=null,this.#n=null,this.#a=null,this.#o?.remove(),this.#o=null}async#p(){const t=this.#i;if(!t)return;if(this.#h){if(t.classList.toggle("done",!!this.#t),t.setAttribute("data-l10n-id",Ls.#f[this.#m]),this.#n?.setAttribute("data-l10n-id",Ls.#f[`${this.#m}-label`]),!this.#t){this.#a?.remove();return}}else{if(!this.#t&&!this.#e){t.classList.remove("done"),this.#a?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=this.#a;if(!e){this.#a=e=document.createElement("span"),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${this.#c.id}`;const s=100,o=this.#c._uiManager._signal;o.addEventListener("abort",()=>{clearTimeout(this.#s),this.#s=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#s=setTimeout(()=>{this.#s=null,this.#a.classList.add("show"),this.#c._reportTelemetry({action:"alt_text_tooltip"})},s)},{signal:o}),t.addEventListener("mouseleave",()=>{this.#s&&(clearTimeout(this.#s),this.#s=null),this.#a?.classList.remove("show")},{signal:o})}this.#e?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=this.#t),e.parentNode||t.append(e),this.#c.getElementForAltText()?.setAttribute("aria-describedby",e.id)}}class Md{#t=null;#e=null;#i=!1;#n=null;#a=null;#s=null;#r=null;#o=null;#c=!1;#l=null;constructor(t){this.#n=t}renderForToolbar(){const t=this.#e=document.createElement("button");return t.className="comment",this.#d(t,!1)}renderForStandalone(){const t=this.#t=document.createElement("button");t.className="annotationCommentButton";const e=this.#n.commentButtonPosition;if(e){const{style:n}=t;n.insetInlineEnd=`calc(${100*(this.#n._uiManager.direction==="ltr"?1-e[0]:e[0])}% - var(--comment-button-dim))`,n.top=`calc(${100*e[1]}% - var(--comment-button-dim))`;const s=this.#n.commentButtonColor;s&&(n.backgroundColor=s)}return this.#d(t,!0)}focusButton(){setTimeout(()=>{(this.#t??this.#e)?.focus()},0)}onUpdatedColor(){if(!this.#t)return;const t=this.#n.commentButtonColor;t&&(this.#t.style.backgroundColor=t),this.#n._uiManager.updatePopupColor(this.#n)}get commentButtonWidth(){return(this.#t?.getBoundingClientRect().width??0)/this.#n.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#t)return null;const{x:t,y:e,height:n}=this.#t.getBoundingClientRect(),{x:s,y:o,width:l,height:c}=this.#n.parent.boundingClientRect;return[(t-s)/l,(e+n-o)/c]}set commentPopupPositionInLayer(t){this.#l=t}hasDefaultPopupPosition(){return this.#l===null}removeStandaloneCommentButton(){this.#t?.remove(),this.#t=null}removeToolbarCommentButton(){this.#e?.remove(),this.#e=null}setCommentButtonStates({selected:t,hasPopup:e}){this.#t&&(this.#t.classList.toggle("selected",t),this.#t.ariaExpanded=e)}#d(t,e){if(!this.#n._uiManager.hasCommentManager())return null;t.tabIndex="0",t.ariaHasPopup="dialog",e?(t.ariaControls="commentPopup",t.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(t.ariaControlsElements=[this.#n._uiManager.getCommentDialogElement()],t.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const n=this.#n._uiManager._signal;if(!(n instanceof AbortSignal)||n.aborted)return t;t.addEventListener("contextmenu",zi,{signal:n}),e&&(t.addEventListener("focusin",o=>{this.#n._focusEventsAllowed=!1,Xe(o)},{capture:!0,signal:n}),t.addEventListener("focusout",o=>{this.#n._focusEventsAllowed=!0,Xe(o)},{capture:!0,signal:n})),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:n});const s=o=>{o.preventDefault(),t===this.#e?this.edit():this.#n.toggleComment(!0)};return t.addEventListener("click",s,{capture:!0,signal:n}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(this.#i=!0,s(o))},{signal:n}),t.addEventListener("pointerenter",()=>{this.#n.toggleComment(!1,!0)},{signal:n}),t.addEventListener("pointerleave",()=>{this.#n.toggleComment(!1,!1)},{signal:n}),t}edit(t){const e=this.commentPopupPositionInLayer;let n,s;if(e)[n,s]=e;else{[n,s]=this.#n.commentButtonPosition;const{width:p,height:g,x:v,y:m}=this.#n;n=v+n*p,s=m+s*g}const o=this.#n.parent.boundingClientRect,{x:l,y:c,width:h,height:d}=o;this.#n._uiManager.editComment(this.#n,l+n*h,c+s*d,{...t,parentDimensions:o})}finish(){this.#e&&(this.#e.focus({focusVisible:this.#i}),this.#i=!1)}isDeleted(){return this.#c||this.#r===""}isEmpty(){return this.#r===null}hasBeenEdited(){return this.isDeleted()||this.#r!==this.#a}serialize(){return this.data}get data(){return{text:this.#r,richText:this.#s,date:this.#o,deleted:this.isDeleted()}}set data(t){if(t!==this.#r&&(this.#s=null),t===null){this.#r="",this.#c=!0;return}this.#r=t,this.#o=new Date,this.#c=!1}setInitialText(t,e=null){this.#a=t,this.data=t,this.#o=null,this.#s=e}shown(){}destroy(){this.#e?.remove(),this.#e=null,this.#t?.remove(),this.#t=null,this.#r="",this.#s=null,this.#o=null,this.#n=null,this.#i=!1,this.#c=!1}}class Qu{#t;#e=!1;#i=null;#n;#a;#s;#r;#o=null;#c;#l=null;#d;#h=null;constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:n=null,onPinchStart:s=null,onPinching:o=null,onPinchEnd:l=null,signal:c}){this.#t=t,this.#i=n,this.#n=e,this.#a=s,this.#s=o,this.#r=l,this.#d=new AbortController,this.#c=AbortSignal.any([c,this.#d.signal]),t.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#c})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/ws.pixelRatio}#f(t){if(this.#n?.())return;if(t.touches.length===1){if(this.#o)return;const s=this.#o=new AbortController,o=AbortSignal.any([this.#c,s.signal]),l=this.#t,c={capture:!0,signal:o,passive:!1},h=d=>{d.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};l.addEventListener("pointerdown",d=>{d.pointerType==="touch"&&(Xe(d),h(d))},c),l.addEventListener("pointerup",h,c),l.addEventListener("pointercancel",h,c);return}if(!this.#h){this.#h=new AbortController;const s=AbortSignal.any([this.#c,this.#h.signal]),o=this.#t,l={signal:s,capture:!1,passive:!1};o.addEventListener("touchmove",this.#m.bind(this),l);const c=this.#p.bind(this);o.addEventListener("touchend",c,l),o.addEventListener("touchcancel",c,l),l.capture=!0,o.addEventListener("pointerdown",Xe,l),o.addEventListener("pointermove",Xe,l),o.addEventListener("pointercancel",Xe,l),o.addEventListener("pointerup",Xe,l),this.#a?.()}if(Xe(t),t.touches.length!==2||this.#i?.()){this.#l=null;return}let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]),this.#l={touch0X:e.screenX,touch0Y:e.screenY,touch1X:n.screenX,touch1Y:n.screenY}}#m(t){if(!this.#l||t.touches.length!==2)return;Xe(t);let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]);const{screenX:s,screenY:o}=e,{screenX:l,screenY:c}=n,h=this.#l,{touch0X:d,touch0Y:p,touch1X:g,touch1Y:v}=h,m=g-d,w=v-p,_=l-s,S=c-o,x=Math.hypot(_,S)||1,T=Math.hypot(m,w)||1;if(!this.#e&&Math.abs(T-x)<=Qu.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(h.touch0X=s,h.touch0Y=o,h.touch1X=l,h.touch1Y=c,!this.#e){this.#e=!0;return}const C=[(s+l)/2,(o+c)/2];this.#s?.(C,T,x)}#p(t){t.touches.length>=2||(this.#h&&(this.#h.abort(),this.#h=null,this.#r?.()),this.#l&&(Xe(t),this.#l=null,this.#e=!1))}destroy(){this.#d?.abort(),this.#d=null,this.#o?.abort(),this.#o=null}}class Lt{#t=null;#e=null;#i=null;#n=null;#a=null;#s=!1;#r=null;#o="";#c=null;#l=null;#d=null;#h=null;#f=null;#m="";#p=!1;#u=null;#g=!1;#y=!1;#b=!1;#v=null;#E=0;#x=0;#_=null;#C=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#S=!1;#A=Lt._zIndex++;static _borderLineWidth=-1;static _colorManager=new Hv;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=Lt.prototype._resizeWithKeyboard,e=Mr.TRANSLATE_SMALL,n=Mr.TRANSLATE_BIG;return Xt(this,"_resizerKeyboardManager",new Ku([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],Lt.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null,this.creationDate=t.creationDate||new Date,this.modificationDate=t.modificationDate||null;const{rotation:e,rawDims:{pageWidth:n,pageHeight:s,pageX:o,pageY:l}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,s],this.pageTranslation=[o,l];const[c,h]=this.parentDimensions;this.x=t.x/c,this.y=t.y/h,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Xt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new $I({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(Lt._l10n??=t,Lt._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),Lt._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);Lt._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){De("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#S}set _isDraggable(t){this.#S=t,this.div?.classList.toggle("draggable",t)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#A}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):(this.#B(),this.#h?.remove(),this.#h=null),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#p?this.#p=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,s){const[o,l]=this.parentDimensions;[n,s]=this.screenToPageTranslation(n,s),this.x=(t+n)/o,this.y=(e+s)/l,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[n,s]=this.parentDimensions;this.setAt(t*n,e*s,this.width*n,this.height*s),this._onTranslated()}#D([t,e],n,s){[n,s]=this.screenToPageTranslation(n,s),this.x+=n/t,this.y+=s/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(t,e){this.#D(this.parentDimensions,t,e)}translateInPage(t,e){this.#u||=[this.x,this.y,this.width,this.height],this.#D(this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){this.#u||=[this.x,this.y,this.width,this.height];const{div:n,parentDimensions:[s,o]}=this;if(this.x+=t/s,this.y+=e/o,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:g,y:v}=this.div.getBoundingClientRect();this.parent.findNewParent(this,g,v)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:c}=this;const[h,d]=this.getBaseTranslation();l+=h,c+=d;const{style:p}=n;p.left=`${(100*l).toFixed(2)}%`,p.top=`${(100*c).toFixed(2)}%`,this._onTranslating(l,c),n.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}get _hasBeenResized(){return!!this.#u&&(this.#u[2]!==this.width||this.#u[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=Lt,s=n/t,o=n/e;switch(this.rotation){case 90:return[-s,o];case 180:return[s,o];case 270:return[s,-o];default:return[-s,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[n,s]}=this;let{x:o,y:l,width:c,height:h}=this;if(c*=n,h*=s,o*=n,l*=s,this._mustFixPosition)switch(t){case 0:o=Gn(o,0,n-c),l=Gn(l,0,s-h);break;case 90:o=Gn(o,0,n-h),l=Gn(l,c,s);break;case 180:o=Gn(o,c,n),l=Gn(l,h,s);break;case 270:o=Gn(o,h,n),l=Gn(l,0,s-c);break}this.x=o/=n,this.y=l/=s;const[d,p]=this.getBaseTranslation();o+=d,l+=p,e.left=`${(100*o).toFixed(2)}%`,e.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}static#M(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}screenToPageTranslation(t,e){return Lt.#M(t,e,this.parentRotation)}pageTranslationToScreen(t,e){return Lt.#M(t,e,360-this.parentRotation)}#R(t){switch(t){case 90:{const[e,n]=this.pageDimensions;return[0,-e/n,n/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,n]=this.pageDimensions;return[0,e/n,-n/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this;return[e*t,n*t]}setDims(){const{div:{style:t},width:e,height:n}=this;t.width=`${(100*e).toFixed(2)}%`,t.height=`${(100*n).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#I(){if(this.#c)return;this.#c=document.createElement("div"),this.#c.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const n of t){const s=document.createElement("div");this.#c.append(s),s.classList.add("resizer",n),s.setAttribute("data-resizer-name",n),s.addEventListener("pointerdown",this.#k.bind(this,n),{signal:e}),s.addEventListener("contextmenu",zi,{signal:e}),s.tabIndex=-1}this.div.prepend(this.#c)}#k(t,e){e.preventDefault();const{isMac:n}=Cn.platform;if(e.button!==0||e.ctrlKey&&n)return;this.#i?.toggle(!1);const s=this._isDraggable;this._isDraggable=!1,this.#l=[e.screenX,e.screenY];const o=new AbortController,l=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#P.bind(this,t),{passive:!0,capture:!0,signal:l}),window.addEventListener("touchmove",Xe,{passive:!1,signal:l}),window.addEventListener("contextmenu",zi,{signal:l}),this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const c=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const d=()=>{o.abort(),this.parent.togglePointerEvents(!0),this.#i?.toggle(!0),this._isDraggable=s,this.parent.div.style.cursor=c,this.div.style.cursor=h,this.#z()};window.addEventListener("pointerup",d,{signal:l}),window.addEventListener("blur",d,{signal:l})}#L(t,e,n,s){this.width=n,this.height=s,this.x=t,this.y=e,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#z(){if(!this.#d)return;const{savedX:t,savedY:e,savedWidth:n,savedHeight:s}=this.#d;this.#d=null;const o=this.x,l=this.y,c=this.width,h=this.height;o===t&&l===e&&c===n&&h===s||this.addCommands({cmd:this.#L.bind(this,o,l,c,h),undo:this.#L.bind(this,t,e,n,s),mustExec:!0})}static _round(t){return Math.round(t*1e4)/1e4}#P(t,e){const[n,s]=this.parentDimensions,o=this.x,l=this.y,c=this.width,h=this.height,d=Lt.MIN_SIZE/n,p=Lt.MIN_SIZE/s,g=this.#R(this.rotation),v=(k,z)=>[g[0]*k+g[2]*z,g[1]*k+g[3]*z],m=this.#R(360-this.rotation),w=(k,z)=>[m[0]*k+m[2]*z,m[1]*k+m[3]*z];let _,S,x=!1,T=!1;switch(t){case"topLeft":x=!0,_=(k,z)=>[0,0],S=(k,z)=>[k,z];break;case"topMiddle":_=(k,z)=>[k/2,0],S=(k,z)=>[k/2,z];break;case"topRight":x=!0,_=(k,z)=>[k,0],S=(k,z)=>[0,z];break;case"middleRight":T=!0,_=(k,z)=>[k,z/2],S=(k,z)=>[0,z/2];break;case"bottomRight":x=!0,_=(k,z)=>[k,z],S=(k,z)=>[0,0];break;case"bottomMiddle":_=(k,z)=>[k/2,z],S=(k,z)=>[k/2,0];break;case"bottomLeft":x=!0,_=(k,z)=>[0,z],S=(k,z)=>[k,0];break;case"middleLeft":T=!0,_=(k,z)=>[0,z/2],S=(k,z)=>[k,z/2];break}const C=_(c,h),D=S(c,h);let R=v(...D);const P=Lt._round(o+R[0]),O=Lt._round(l+R[1]);let L=1,F=1,X,G;if(e.fromKeyboard)({deltaX:X,deltaY:G}=e);else{const{screenX:k,screenY:z}=e,[I,Q]=this.#l;[X,G]=this.screenToPageTranslation(k-I,z-Q),this.#l[0]=k,this.#l[1]=z}if([X,G]=w(X/n,G/s),x){const k=Math.hypot(c,h);L=F=Math.max(Math.min(Math.hypot(D[0]-C[0]-X,D[1]-C[1]-G)/k,1/c,1/h),d/c,p/h)}else T?L=Gn(Math.abs(D[0]-C[0]-X),d,1)/c:F=Gn(Math.abs(D[1]-C[1]-G),p,1)/h;const rt=Lt._round(c*L),tt=Lt._round(h*F);R=v(...S(rt,tt));const W=P-R[0],$=O-R[1];this.#u||=[this.x,this.y,this.width,this.height],this.width=rt,this.height=tt,this.x=W,this.y=$,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#i?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#y)return this._editToolbar;this._editToolbar=new fu(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[e,n]of t)await this._editToolbar.addButton(e,n);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#i?.destroy()}addContainer(t){const e=this._editToolbar?.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#i||(Ls.initialize(Lt._l10n),this.#i=new Ls(this),this.#t&&(this.#i.data=this.#t,this.#t=null)),this.#i}get altTextData(){return this.#i?.data}set altTextData(t){this.#i&&(this.#i.data=t)}get guessedAltText(){return this.#i?.guessedText}async setGuessedAltText(t){await this.#i?.setGuessedText(t)}serializeAltText(t){return this.#i?.serialize(t)}hasAltText(){return!!this.#i&&!this.#i.isEmpty()}hasAltTextData(){return this.#i?.hasData()??!1}focusCommentButton(){this.#n?.focusButton()}addCommentButton(){return this.#n||=new Md(this)}addStandaloneCommentButton(){if(this.#a){this._uiManager.isEditingMode()&&this.#a.classList.remove("hidden");return}this.hasComment&&(this.#a=this.#n.renderForStandalone(),this.div.append(this.#a))}removeStandaloneCommentButton(){this.#n.removeStandaloneCommentButton(),this.#a=null}hideStandaloneCommentButton(){this.#a?.classList.add("hidden")}get comment(){const{data:{richText:t,text:e,date:n,deleted:s}}=this.#n;return{text:e,richText:t,date:n,deleted:s,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(t){this.#n||=new Md(this),this.#n.data=t,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:t,popupRef:e,richText:n}){if(!e||(this.#n||=new Md(this),this.#n.setInitialText(t,n),!this.annotationElementId))return;const s=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);s&&this.updateFromAnnotationLayer(s)}get hasEditedComment(){return this.#n?.hasBeenEdited()}get hasDeletedComment(){return this.#n?.isDeleted()}get hasComment(){return!!this.#n&&!this.#n.isEmpty()&&!this.#n.isDeleted()}async editComment(t){this.#n||=new Md(this),this.#n.edit(t)}toggleComment(t,e=void 0){this.hasComment&&this._uiManager.toggleComment(this,t,e)}setSelectedCommentButton(t){this.#n.setSelectedButton(t)}addComment(t){if(this.hasEditedComment){const[,,,s]=t.rect,[o]=this.pageDimensions,[l]=this.pageTranslation,c=l+o+1,h=s-100,d=c+180;t.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[c,h,d,s]}}}updateFromAnnotationLayer({popup:{contents:t,deleted:e}}){this.#n.data=e?null:t}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=this.#s?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),this.#U();const[e,n]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*n/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/n).toFixed(2)}%`);const[s,o]=this.getInitialTranslation();return this.translate(s,o),GT(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#C||=new Qu({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#V.bind(this),onPinching:this.#T.bind(this),onPinchEnd:this.#w.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),t}#V(){this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#i?.toggle(!1),this.parent.togglePointerEvents(!1)}#T(t,e,n){let o=.7*(n/e)+1-.7;if(o===1)return;const l=this.#R(this.rotation),c=(P,O)=>[l[0]*P+l[2]*O,l[1]*P+l[3]*O],[h,d]=this.parentDimensions,p=this.x,g=this.y,v=this.width,m=this.height,w=Lt.MIN_SIZE/h,_=Lt.MIN_SIZE/d;o=Math.max(Math.min(o,1/v,1/m),w/v,_/m);const S=Lt._round(v*o),x=Lt._round(m*o);if(S===v&&x===m)return;this.#u||=[p,g,v,m];const T=c(v/2,m/2),C=Lt._round(p+T[0]),D=Lt._round(g+T[1]),R=c(S/2,x/2);this.x=C-R[0],this.y=D-R[1],this.width=S,this.height=x,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#w(){this.#i?.toggle(!0),this.parent.togglePointerEvents(!0),this.#z()}pointerdown(t){const{isMac:e}=Cn.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(this.#p=!0,this._isDraggable){this.#F(t);return}this.#N(t)}#N(t){const{isMac:e}=Cn.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#F(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let n=!1;const s=new AbortController,o=this._uiManager.combinedSignal(s),l={capture:!0,passive:!1,signal:o},c=d=>{s.abort(),this.#r=null,this.#p=!1,this._uiManager.endDragSession()||this.#N(d),n&&this._onStopDragging()};e&&(this.#E=t.clientX,this.#x=t.clientY,this.#r=t.pointerId,this.#o=t.pointerType,window.addEventListener("pointermove",d=>{n||(n=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:p,clientY:g,pointerId:v}=d;if(v!==this.#r){Xe(d);return}const[m,w]=this.screenToPageTranslation(p-this.#E,g-this.#x);this.#E=p,this.#x=g,this._uiManager.dragSelectedEditors(m,w)},l),window.addEventListener("touchmove",Xe,l),window.addEventListener("pointerdown",d=>{d.pointerType===this.#o&&(this.#C||d.isPrimary)&&c(d),Xe(d)},l));const h=d=>{if(!this.#r||this.#r===d.pointerId){c(d);return}Xe(d)};window.addEventListener("pointerup",h,{signal:o}),window.addEventListener("blur",h,{signal:o})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#v&&clearTimeout(this.#v),this.#v=setTimeout(()=>{this.#v=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,n=this.rotation){const s=this.parentScale,[o,l]=this.pageDimensions,[c,h]=this.pageTranslation,d=t/s,p=e/s,g=this.x*o,v=this.y*l,m=this.width*o,w=this.height*l;switch(n){case 0:return[g+d+c,l-v-p-w+h,g+d+m+c,l-v-p+h];case 90:return[g+p+c,l-v+d+h,g+p+w+c,l-v+d+m+h];case 180:return[g-d-m+c,l-v+p+h,g-d+c,l-v+p+w+h];case 270:return[g-p-w+c,l-v-d-m+h,g-p+c,l-v-d+h];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,s,o,l]=t,c=o-n,h=l-s;switch(this.rotation){case 0:return[n,e-l,c,h];case 90:return[n,e-s,h,c];case 180:return[o,e-s,c,h];case 270:return[o,e-l,h,c];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&Lt._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#n?.onUpdatedColor()}getData(){const{comment:{text:t,color:e,date:n,opacity:s,deleted:o,richText:l},uid:c,pageIndex:h,creationDate:d,modificationDate:p}=this;return{id:c,pageIndex:h,rect:this.getPDFRect(),richText:l,contentsObj:{str:t},creationDate:d,modificationDate:n||p,popupRef:!o,color:e,opacity:s}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#y=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#y=!1,!0):!1}isInEditMode(){return this.#y}shouldGetKeyboardEvents(){return this.#b}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:n,right:s}=this.getClientDimensions(),{innerHeight:o,innerWidth:l}=window;return e<l&&s>0&&t<o&&n>0}#U(){if(this.#f||!this.div)return;this.#f=new AbortController;const t=this._uiManager.combinedSignal(this.#f);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#U()}rotate(t){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,e=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(t,e,n){const s=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n,annotationElementId:t.annotationElementId,creationDate:t.creationDate,modificationDate:t.modificationDate});s.rotation=t.rotation,s.#t=t.accessibilityData,s._isCopy=t.isCopy||!1;const[o,l]=s.pageDimensions,[c,h,d,p]=s.getRectInCurrentCoords(t.rect,l);return s.x=c/o,s.y=h/l,s.width=d/o,s.height=p/l,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#f?.abort(),this.#f=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#v&&(clearTimeout(this.#v),this.#v=null),this.#B(),this.removeEditToolbar(),this.#_){for(const t of this.#_.values())clearTimeout(t);this.#_=null}this.parent=null,this.#C?.destroy(),this.#C=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#I(),this.#c.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[t,e]}=this,[n,s,o,l]=this.getPDFRect();return[Lt._round(n+(o-n)*t),Lt._round(s+(l-s)*(1-e))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#n.commentPopupPositionInLayer}set commentPopupPosition(t){this.#n.commentPopupPositionInLayer=t}hasDefaultPopupPosition(){return this.#n.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#n.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(t){this.#n.setCommentButtonStates(t)}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const e=this.#c.children;if(!this.#e){this.#e=Array.from(e);const l=this.#q.bind(this),c=this.#X.bind(this),h=this._uiManager._signal;for(const d of this.#e){const p=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",l,{signal:h}),d.addEventListener("blur",c,{signal:h}),d.addEventListener("focus",this.#$.bind(this,p),{signal:h}),d.setAttribute("data-l10n-id",Lt._l10nResizer[p])}}const n=this.#e[0];let s=0;for(const l of e){if(l===n)break;s++}const o=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(o!==s){if(o<s)for(let c=0;c<s-o;c++)this.#c.append(this.#c.firstChild);else if(o>s)for(let c=0;c<o-s;c++)this.#c.firstChild.before(this.#c.lastChild);let l=0;for(const c of e){const d=this.#e[l++].getAttribute("data-resizer-name");c.setAttribute("data-l10n-id",Lt._l10nResizer[d])}}this.#H(0),this.#b=!0,this.#c.firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#q(t){Lt._resizerKeyboardManager.exec(this,t)}#X(t){this.#b&&t.relatedTarget?.parentNode!==this.#c&&this.#B()}#$(t){this.#m=this.#b?t:""}#H(t){if(this.#e)for(const e of this.#e)e.tabIndex=t}_resizeWithKeyboard(t,e){this.#b&&this.#P(this.#m,{deltaX:t,deltaY:e,fromKeyboard:!0})}#B(){this.#b=!1,this.#H(-1),this.#z()}_stopResizingWithKeyboard(){this.#B(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#i?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#c?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#i?.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){t.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#g}set isEditing(t){this.#g=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){this.#_||=new Map;const{action:n}=t;let s=this.#_.get(n);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(t),this.#_.delete(n),this.#_.size===0&&(this.#_=null)},Lt._telemetryTimeout),this.#_.set(n,s);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#s=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#s=!0}updateFakeAnnotationElement(t){if(!this.#h&&!this.deleted){this.#h=t.addFakeAnnotation(this);return}if(this.deleted){this.#h.remove(),this.#h=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#h.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const n=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),n.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;e?.nodeName==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}}class $I extends Lt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const Bx=3285377520,Zi=4294901760,Ds=65535;class VT{constructor(t){this.h1=t?t&4294967295:Bx,this.h2=t?t&4294967295:Bx}update(t){let e,n;if(typeof t=="string"){e=new Uint8Array(t.length*2),n=0;for(let _=0,S=t.length;_<S;_++){const x=t.charCodeAt(_);x<=255?e[n++]=x:(e[n++]=x>>>8,e[n++]=x&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),n=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=n>>2,o=n-s*4,l=new Uint32Array(e.buffer,0,s);let c=0,h=0,d=this.h1,p=this.h2;const g=3432918353,v=461845907,m=g&Ds,w=v&Ds;for(let _=0;_<s;_++)_&1?(c=l[_],c=c*g&Zi|c*m&Ds,c=c<<15|c>>>17,c=c*v&Zi|c*w&Ds,d^=c,d=d<<13|d>>>19,d=d*5+3864292196):(h=l[_],h=h*g&Zi|h*m&Ds,h=h<<15|h>>>17,h=h*v&Zi|h*w&Ds,p^=h,p=p<<13|p>>>19,p=p*5+3864292196);switch(c=0,o){case 3:c^=e[s*4+2]<<16;case 2:c^=e[s*4+1]<<8;case 1:c^=e[s*4],c=c*g&Zi|c*m&Ds,c=c<<15|c>>>17,c=c*v&Zi|c*w&Ds,s&1?d^=c:p^=c}this.h1=d,this.h2=p}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&Zi|t*36045&Ds,e=e*4283543511&Zi|((e<<16|t>>>16)*2950163797&Zi)>>>16,t^=e>>>1,t=t*444984403&Zi|t*60499&Ds,e=e*3301882366&Zi|((e<<16|t>>>16)*3120437893&Zi)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const By=Object.freeze({map:null,hash:"",transfer:void 0});class Gv{#t=!1;#e=null;#i=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=this.#n.get(t);return n===void 0?e:Object.assign(e,n)}getRawValue(t){return this.#n.get(t)}remove(t){const e=this.#n.get(t);if(e!==void 0&&(e instanceof Lt&&this.#i.delete(e.annotationElementId),this.#n.delete(t),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const n of this.#n.values())if(n instanceof Lt)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=this.#n.get(t);let s=!1;if(n!==void 0)for(const[o,l]of Object.entries(e))n[o]!==l&&(s=!0,n[o]=l);else s=!0,this.#n.set(t,e);s&&this.#a(),e instanceof Lt&&((this.#i||=new Map).set(e.annotationElementId,e),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type))}has(t){return this.#n.has(t)}get size(){return this.#n.size}#a(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new YT(this)}get serializable(){if(this.#n.size===0)return By;const t=new Map,e=new VT,n=[],s=Object.create(null);let o=!1;for(const[l,c]of this.#n){const h=c instanceof Lt?c.serialize(!1,s):c;h&&(t.set(l,h),e.update(`${l}:${JSON.stringify(h)}`),o||=!!h.bitmap)}if(o)for(const l of t.values())l.bitmap&&n.push(l.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:By}get editorStats(){let t=null;const e=new Map;let n=0,s=0;for(const o of this.#n.values()){if(!(o instanceof Lt)){o.popup&&(o.popup.deleted?s+=1:n+=1);continue}o.isCommentDeleted?s+=1:o.hasEditedComment&&(n+=1);const l=o.telemetryFinalData;if(!l)continue;const{type:c}=l;e.has(c)||e.set(c,Object.getPrototypeOf(o).constructor),t||=Object.create(null);const h=t[c]||=new Map;for(const[d,p]of Object.entries(l)){if(d==="type")continue;let g=h.get(d);g||(g=new Map,h.set(d,g));const v=g.get(p)??0;g.set(p,v+1)}}if((s>0||n>0)&&(t||=Object.create(null),t.comments={deleted:s,edited:n}),!t)return null;for(const[o,l]of e)t[o]=l.computeTelemetryFinalData(t[o]);return t}resetModifiedIds(){this.#e=null}updateEditor(t,e){const n=this.#i?.get(t);return n?(n.updateFromAnnotationLayer(e),!0):!1}getEditor(t){return this.#i?.get(t)||null}get modifiedIds(){if(this.#e)return this.#e;const t=[];if(this.#i)for(const e of this.#i.values())e.serialize()&&t.push(e.annotationElementId);return this.#e={ids:new Set(t),hash:t.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class YT extends Gv{#t;constructor(t){super();const{map:e,hash:n,transfer:s}=t.serializable,o=structuredClone(e,s?{transfer:s}:null);this.#t={map:o,hash:n,transfer:s}}get print(){De("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}get modifiedIds(){return Xt(this,"modifiedIds",{ids:new Set,hash:""})}}class WI{#t=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:n}){if(!(!t||this.#t.has(t.loadedName))){if(oe(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:o,style:l}=t,c=new FontFace(s,o,l);this.addNativeFontFace(c);try{await c.load(),this.#t.add(s),n?.(t)}catch{Ht(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}De("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const n=t.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(s){throw Ht(`Failed to load font '${n.family}': '${s}'.`),t.disableFontFace=!0,s}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const s=this._queueLoadingCallback(n);this._prepareFontLoadEvent(t,s)})}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return Xt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return Xt(this,"isSyncFontLoadingSupported",Kn||Cn.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(oe(!s.done,"completeRequest() cannot be called twice."),s.done=!0;n.length>0&&n[0].done;){const o=n.shift();setTimeout(o.callback,0)}}const{loadingRequests:n}=this,s={done:!1,complete:e,callback:t};return n.push(s),s}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Xt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function n(D,R){return D.charCodeAt(R)<<24|D.charCodeAt(R+1)<<16|D.charCodeAt(R+2)<<8|D.charCodeAt(R+3)&255}function s(D,R,P,O){const L=D.substring(0,R),F=D.substring(R+P);return L+O+F}let o,l;const c=this._document.createElement("canvas");c.width=1,c.height=1;const h=c.getContext("2d");let d=0;function p(D,R){if(++d>30){Ht("Load test font never loaded."),R();return}if(h.font="30px "+D,h.fillText(".",0,20),h.getImageData(0,0,1,1).data[3]>0){R();return}setTimeout(p.bind(null,D,R))}const g=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=s(v,976,g.length,g);const w=16,_=1482184792;let S=n(v,w);for(o=0,l=g.length-3;o<l;o+=4)S=S-_+n(g,o)|0;o<g.length&&(S=S-_+n(g+"XXX",o)|0),v=s(v,w,4,BI(S));const x=`url(data:font/opentype;base64,${btoa(v)});`,T=`@font-face {font-family:"${g}";src:${x}}`;this.insertRule(T);const C=this._document.createElement("div");C.style.visibility="hidden",C.style.width=C.style.height="10px",C.style.position="absolute",C.style.top=C.style.left="0px";for(const D of[t.loadedName,g]){const R=this._document.createElement("span");R.textContent="Hi",R.style.fontFamily=D,C.append(R)}this._document.body.append(C),p(g,()=>{C.remove(),e.complete()})}}class KI{#t;constructor(t,e=null,n,s){this.compiledGlyphs=Object.create(null),this.#t=t,this._inspectFont=e,n&&Object.assign(this,n),s&&(this.charProcOperatorList=s)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${BT(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let n=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(n+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${n}src:${t}}`}return this._inspectFont?.(this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const n=this.loadedName+"_path_"+e;let s;try{s=t.get(n)}catch(l){Ht(`getPathGenerator - ignoring character: "${l}".`)}const o=new Path2D(s||"");return this.fontExtraProperties||t.delete(n),this.compiledGlyphs[e]=o}get black(){return this.#t.black}get bold(){return this.#t.bold}get disableFontFace(){return this.#t.disableFontFace??!1}get fontExtraProperties(){return this.#t.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#t.isInvalidPDFjsFont}get isType3Font(){return this.#t.isType3Font}get italic(){return this.#t.italic}get missingFile(){return this.#t.missingFile}get remeasure(){return this.#t.remeasure}get vertical(){return this.#t.vertical}get ascent(){return this.#t.ascent}get defaultWidth(){return this.#t.defaultWidth}get descent(){return this.#t.descent}get bbox(){return this.#t.bbox}get fontMatrix(){return this.#t.fontMatrix}get fallbackName(){return this.#t.fallbackName}get loadedName(){return this.#t.loadedName}get mimetype(){return this.#t.mimetype}get name(){return this.#t.name}get data(){return this.#t.data}clearData(){this.#t.clearData()}get cssFontInfo(){return this.#t.cssFontInfo}get systemFontInfo(){return this.#t.systemFontInfo}get defaultVMetrics(){return this.#t.defaultVMetrics}}function QI(a){if(a instanceof URL)return a.href;if(typeof a=="string"){if(Kn)return a;const t=URL.parse(a,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function ZI(a){if(Kn&&typeof Buffer<"u"&&a instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength)return a;if(typeof a=="string")return qu(a);if(a instanceof ArrayBuffer||ArrayBuffer.isView(a)||typeof a=="object"&&!isNaN(a?.length))return new Uint8Array(a);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Rd(a){if(typeof a!="string")return null;if(a.endsWith("/"))return a;throw new Error(`Invalid factory url: "${a}" must include trailing slash.`)}const Iy=a=>typeof a=="object"&&Number.isInteger(a?.num)&&a.num>=0&&Number.isInteger(a?.gen)&&a.gen>=0,JI=a=>typeof a=="object"&&typeof a?.name=="string",XT=jI.bind(null,Iy,JI);class t3{#t=new Map;#e=Promise.resolve();postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};this.#e.then(()=>{for(const[s]of this.#t)s.call(this,n)})}addEventListener(t,e,n=null){let s=null;if(n?.signal instanceof AbortSignal){const{signal:o}=n;if(o.aborted){Ht("LoopbackPort - cannot use an `aborted` signal.");return}const l=()=>this.removeEventListener(t,e);s=()=>o.removeEventListener("abort",l),o.addEventListener("abort",l)}this.#t.set(e,s)}removeEventListener(t,e){this.#t.get(e)?.(),this.#t.delete(e)}terminate(){for(const[,t]of this.#t)t?.();this.#t.clear()}}const Dd={DATA:1,ERROR:2},dn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Ix(){}function li(a){if(a instanceof Cr||a instanceof gf||a instanceof Rx||a instanceof ku||a instanceof Fm)return a;switch(a instanceof Error||typeof a=="object"&&a!==null||De('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),a.name){case"AbortException":return new Cr(a.message);case"InvalidPDFException":return new gf(a.message);case"PasswordException":return new Rx(a.message,a.code);case"ResponseException":return new ku(a.message,a.status,a.missing);case"UnknownErrorException":return new Fm(a.message,a.details)}return new Fm(a.message,a.toString())}class su{#t=new AbortController;constructor(t,e,n){this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",this.#e.bind(this),{signal:this.#t.signal})}#e({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){this.#n(t);return}if(t.callback){const n=t.callbackId,s=this.callbackCapabilities[n];if(!s)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],t.callback===Dd.DATA)s.resolve(t.data);else if(t.callback===Dd.ERROR)s.reject(li(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const n=this.sourceName,s=t.sourceName,o=this.comObj;Promise.try(e,t.data).then(function(l){o.postMessage({sourceName:n,targetName:s,callback:Dd.DATA,callbackId:t.callbackId,data:l})},function(l){o.postMessage({sourceName:n,targetName:s,callback:Dd.ERROR,callbackId:t.callbackId,reason:li(l)})});return}if(t.streamId){this.#i(t);return}e(t.data)}on(t,e){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const s=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[s]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:s,data:e},n)}catch(l){o.reject(l)}return o.promise}sendWithStream(t,e,n,s){const o=this.streamId++,l=this.sourceName,c=this.targetName,h=this.comObj;return new ReadableStream({start:d=>{const p=Promise.withResolvers();return this.streamControllers[o]={controller:d,startCall:p,pullCall:null,cancelCall:null,isClosed:!1},h.postMessage({sourceName:l,targetName:c,action:t,streamId:o,data:e,desiredSize:d.desiredSize},s),p.promise},pull:d=>{const p=Promise.withResolvers();return this.streamControllers[o].pullCall=p,h.postMessage({sourceName:l,targetName:c,stream:dn.PULL,streamId:o,desiredSize:d.desiredSize}),p.promise},cancel:d=>{oe(d instanceof Error,"cancel must have a valid reason");const p=Promise.withResolvers();return this.streamControllers[o].cancelCall=p,this.streamControllers[o].isClosed=!0,h.postMessage({sourceName:l,targetName:c,stream:dn.CANCEL,streamId:o,reason:li(d)}),p.promise}},n)}#i(t){const e=t.streamId,n=this.sourceName,s=t.sourceName,o=this.comObj,l=this,c=this.actionHandler[t.action],h={enqueue(d,p=1,g){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=p,v>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:n,targetName:s,stream:dn.ENQUEUE,streamId:e,chunk:d},g)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:s,stream:dn.CLOSE,streamId:e}),delete l.streamSinks[e])},error(d){oe(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:s,stream:dn.ERROR,streamId:e,reason:li(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};h.sinkCapability.resolve(),h.ready=h.sinkCapability.promise,this.streamSinks[e]=h,Promise.try(c,t.data,h).then(function(){o.postMessage({sourceName:n,targetName:s,stream:dn.START_COMPLETE,streamId:e,success:!0})},function(d){o.postMessage({sourceName:n,targetName:s,stream:dn.START_COMPLETE,streamId:e,reason:li(d)})})}#n(t){const e=t.streamId,n=this.sourceName,s=t.sourceName,o=this.comObj,l=this.streamControllers[e],c=this.streamSinks[e];switch(t.stream){case dn.START_COMPLETE:t.success?l.startCall.resolve():l.startCall.reject(li(t.reason));break;case dn.PULL_COMPLETE:t.success?l.pullCall.resolve():l.pullCall.reject(li(t.reason));break;case dn.PULL:if(!c){o.postMessage({sourceName:n,targetName:s,stream:dn.PULL_COMPLETE,streamId:e,success:!0});break}c.desiredSize<=0&&t.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=t.desiredSize,Promise.try(c.onPull||Ix).then(function(){o.postMessage({sourceName:n,targetName:s,stream:dn.PULL_COMPLETE,streamId:e,success:!0})},function(d){o.postMessage({sourceName:n,targetName:s,stream:dn.PULL_COMPLETE,streamId:e,reason:li(d)})});break;case dn.ENQUEUE:if(oe(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(t.chunk);break;case dn.CLOSE:if(oe(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),this.#a(l,e);break;case dn.ERROR:oe(l,"error should have stream controller"),l.controller.error(li(t.reason)),this.#a(l,e);break;case dn.CANCEL_COMPLETE:t.success?l.cancelCall.resolve():l.cancelCall.reject(li(t.reason)),this.#a(l,e);break;case dn.CANCEL:if(!c)break;const h=li(t.reason);Promise.try(c.onCancel||Ix,h).then(function(){o.postMessage({sourceName:n,targetName:s,stream:dn.CANCEL_COMPLETE,streamId:e,success:!0})},function(d){o.postMessage({sourceName:n,targetName:s,stream:dn.CANCEL_COMPLETE,streamId:e,reason:li(d)})}),c.sinkCapability.reject(h),c.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async#a(t,e){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[e]}destroy(){this.#t?.abort(),this.#t=null}}class qT{#t=!1;constructor({enableHWA:t=!1}){this.#t=t}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!this.#t})}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){De("Abstract method `_createCanvas` called.")}}class e3 extends qT{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}class $T{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){De("Abstract method `_fetch` called.")}}class zx extends $T{async _fetch(t){const e=await Zl(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):qu(e)}}class WT{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,s,o){return"none"}destroy(t=!1){}}class n3 extends WT{#t;#e;#i;#n;#a;#s;#r=0;constructor({docId:t,ownerDocument:e=globalThis.document}){super(),this.#n=t,this.#a=e}get#o(){return this.#e||=new Map}get#c(){return this.#s||=new Map}get#l(){if(!this.#i){const t=this.#a.createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const n=this.#a.createElementNS(pr,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#i=this.#a.createElementNS(pr,"defs"),t.append(n),n.append(this.#i),this.#a.body.append(t)}return this.#i}#d(t){if(t.length===1){const h=t[0],d=new Array(256);for(let g=0;g<256;g++)d[g]=h[g]/255;const p=d.join(",");return[p,p,p]}const[e,n,s]=t,o=new Array(256),l=new Array(256),c=new Array(256);for(let h=0;h<256;h++)o[h]=e[h]/255,l[h]=n[h]/255,c[h]=s[h]/255;return[o.join(","),l.join(","),c.join(",")]}#h(t){if(this.#t===void 0){this.#t="";const e=this.#a.URL;e!==this.#a.baseURI&&(Wu(e)?Ht('#createUrl: ignore "data:"-URL for performance reasons.'):this.#t=Bv(e,""))}return`url(${this.#t}#${t})`}addFilter(t){if(!t)return"none";let e=this.#o.get(t);if(e)return e;const[n,s,o]=this.#d(t),l=t.length===1?n:`${n}${s}${o}`;if(e=this.#o.get(l),e)return this.#o.set(t,e),e;const c=`g_${this.#n}_transfer_map_${this.#r++}`,h=this.#h(c);this.#o.set(t,h),this.#o.set(l,h);const d=this.#p(c);return this.#g(n,s,o,d),h}addHCMFilter(t,e){const n=`${t}-${e}`,s="base";let o=this.#c.get(s);if(o?.key===n||(o?(o.filter?.remove(),o.key=n,o.url="none",o.filter=null):(o={key:n,url:"none",filter:null},this.#c.set(s,o)),!t||!e))return o.url;const l=this.#b(t);t=St.makeHexColor(...l);const c=this.#b(e);if(e=St.makeHexColor(...c),this.#l.style.color="",t==="#000000"&&e==="#ffffff"||t===e)return o.url;const h=new Array(256);for(let m=0;m<=255;m++){const w=m/255;h[m]=w<=.03928?w/12.92:((w+.055)/1.055)**2.4}const d=h.join(","),p=`g_${this.#n}_hcm_filter`,g=o.filter=this.#p(p);this.#g(d,d,d,g),this.#m(g);const v=(m,w)=>{const _=l[m]/255,S=c[m]/255,x=new Array(w+1);for(let T=0;T<=w;T++)x[T]=_+T/w*(S-_);return x.join(",")};return this.#g(v(0,5),v(1,5),v(2,5),g),o.url=this.#h(p),o.url}addAlphaFilter(t){let e=this.#o.get(t);if(e)return e;const[n]=this.#d([t]),s=`alpha_${n}`;if(e=this.#o.get(s),e)return this.#o.set(t,e),e;const o=`g_${this.#n}_alpha_map_${this.#r++}`,l=this.#h(o);this.#o.set(t,l),this.#o.set(s,l);const c=this.#p(o);return this.#y(n,c),l}addLuminosityFilter(t){let e=this.#o.get(t||"luminosity");if(e)return e;let n,s;if(t?([n]=this.#d([t]),s=`luminosity_${n}`):s="luminosity",e=this.#o.get(s),e)return this.#o.set(t,e),e;const o=`g_${this.#n}_luminosity_map_${this.#r++}`,l=this.#h(o);this.#o.set(t,l),this.#o.set(s,l);const c=this.#p(o);return this.#f(c),t&&this.#y(n,c),l}addHighlightHCMFilter(t,e,n,s,o){const l=`${e}-${n}-${s}-${o}`;let c=this.#c.get(t);if(c?.key===l||(c?(c.filter?.remove(),c.key=l,c.url="none",c.filter=null):(c={key:l,url:"none",filter:null},this.#c.set(t,c)),!e||!n))return c.url;const[h,d]=[e,n].map(this.#b.bind(this));let p=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),g=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[v,m]=[s,o].map(this.#b.bind(this));g<p&&([p,g,v,m]=[g,p,m,v]),this.#l.style.color="";const w=(x,T,C)=>{const D=new Array(256),R=(g-p)/C,P=x/255,O=(T-x)/(255*C);let L=0;for(let F=0;F<=C;F++){const X=Math.round(p+F*R),G=P+F*O;for(let rt=L;rt<=X;rt++)D[rt]=G;L=X+1}for(let F=L;F<256;F++)D[F]=D[L-1];return D.join(",")},_=`g_${this.#n}_hcm_${t}_filter`,S=c.filter=this.#p(_);return this.#m(S),this.#g(w(v[0],m[0],5),w(v[1],m[1],5),w(v[2],m[2],5),S),c.url=this.#h(_),c.url}destroy(t=!1){t&&this.#s?.size||(this.#i?.parentNode.parentNode.remove(),this.#i=null,this.#e?.clear(),this.#e=null,this.#s?.clear(),this.#s=null,this.#r=0)}#f(t){const e=this.#a.createElementNS(pr,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}#m(t){const e=this.#a.createElementNS(pr,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}#p(t){const e=this.#a.createElementNS(pr,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),this.#l.append(e),e}#u(t,e,n){const s=this.#a.createElementNS(pr,e);s.setAttribute("type","discrete"),s.setAttribute("tableValues",n),t.append(s)}#g(t,e,n,s){const o=this.#a.createElementNS(pr,"feComponentTransfer");s.append(o),this.#u(o,"feFuncR",t),this.#u(o,"feFuncG",e),this.#u(o,"feFuncB",n)}#y(t,e){const n=this.#a.createElementNS(pr,"feComponentTransfer");e.append(n),this.#u(n,"feFuncA",t)}#b(t){return this.#l.style.color=t,Jl(getComputedStyle(this.#l).getPropertyValue("color"))}}class KT{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){De("Abstract method `_fetch` called.")}}class Fx extends KT{async _fetch(t){const e=await Zl(t,"arraybuffer");return new Uint8Array(e)}}class QT{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){De("Abstract method `_fetch` called.")}}class jx extends QT{async _fetch(t){const e=await Zl(t,"arraybuffer");return new Uint8Array(e)}}Kn&&Ht("Please use the `legacy` build in Node.js environments.");async function Vv(a){const e=await process.getBuiltinModule("fs").promises.readFile(a);return new Uint8Array(e)}class i3 extends WT{}class s3 extends qT{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class r3 extends $T{async _fetch(t){return Vv(t)}}class a3 extends KT{async _fetch(t){return Vv(t)}}class o3 extends QT{async _fetch(t){return Vv(t)}}const pl="__forcedDependency",{floor:Ux,ceil:Hx}=Math;function Od(a,t,e,n,s,o){a[t*4+0]=Math.min(a[t*4+0],e),a[t*4+1]=Math.min(a[t*4+1],n),a[t*4+2]=Math.max(a[t*4+2],s),a[t*4+3]=Math.max(a[t*4+3],o)}const zy=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class l3{#t;#e;constructor(t,e){this.#t=t,this.#e=e}get length(){return this.#t.length}isEmpty(t){return this.#t[t]===zy}minX(t){return this.#e[t*4+0]/256}minY(t){return this.#e[t*4+1]/256}maxX(t){return(this.#e[t*4+2]+1)/256}maxY(t){return(this.#e[t*4+3]+1)/256}}const kd=(a,t)=>{if(!a)return;let e=a.get(t);return e||(e={dependencies:new Set,isRenderingOperation:!1},a.set(t,e)),e};class c3{#t={__proto__:null};#e={__proto__:null,transform:[],moveText:[],sameLineText:[],[pl]:[]};#i=new Map;#n=[];#a=[];#s=[[1,0,0,1,0,0]];#r=[-1/0,-1/0,1/0,1/0];#o=new Float64Array([1/0,1/0,-1/0,-1/0]);#c=-1;#l=new Set;#d=new Map;#h=new Map;#f;#m;#p;#u;#g;constructor(t,e,n=!1){this.#f=t.width,this.#m=t.height,this.#y(e),n&&(this.#g=new Map)}growOperationsCount(t){t>=this.#u.length&&this.#y(t,this.#u)}#y(t,e){const n=new ArrayBuffer(t*4);this.#p=new Uint8ClampedArray(n),this.#u=new Uint32Array(n),e&&e.length>0?(this.#u.set(e),this.#u.fill(zy,e.length)):this.#u.fill(zy)}save(t){return this.#t={__proto__:this.#t},this.#e={__proto__:this.#e,transform:{__proto__:this.#e.transform},moveText:{__proto__:this.#e.moveText},sameLineText:{__proto__:this.#e.sameLineText},[pl]:{__proto__:this.#e[pl]}},this.#r={__proto__:this.#r},this.#n.push(t),this}restore(t){const e=Object.getPrototypeOf(this.#t);if(e===null)return this;this.#t=e,this.#e=Object.getPrototypeOf(this.#e),this.#r=Object.getPrototypeOf(this.#r);const n=this.#n.pop();return n!==void 0&&(kd(this.#g,t)?.dependencies.add(n),this.#u[t]=this.#u[n]),this}recordOpenMarker(t){return this.#n.push(t),this}getOpenMarker(){return this.#n.length===0?null:this.#n.at(-1)}recordCloseMarker(t){const e=this.#n.pop();return e!==void 0&&(kd(this.#g,t)?.dependencies.add(e),this.#u[t]=this.#u[e]),this}beginMarkedContent(t){return this.#a.push(t),this}endMarkedContent(t){const e=this.#a.pop();return e!==void 0&&(kd(this.#g,t)?.dependencies.add(e),this.#u[t]=this.#u[e]),this}pushBaseTransform(t){return this.#s.push(St.multiplyByDOMMatrix(this.#s.at(-1),t.getTransform())),this}popBaseTransform(){return this.#s.length>1&&this.#s.pop(),this}recordSimpleData(t,e){return this.#t[t]=e,this}recordIncrementalData(t,e){return this.#e[t].push(e),this}resetIncrementalData(t,e){return this.#e[t].length=0,this}recordNamedData(t,e){return this.#i.set(t,e),this}recordSimpleDataFromNamed(t,e,n){this.#t[t]=this.#i.get(e)??n}recordFutureForcedDependency(t,e){return this.recordIncrementalData(pl,e),this}inheritSimpleDataAsFutureForcedDependencies(t){for(const e of t)e in this.#t&&this.recordFutureForcedDependency(e,this.#t[e]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const t of this.#l)this.recordFutureForcedDependency(pl,t);return this}resetBBox(t){return this.#c!==t&&(this.#c=t,this.#o[0]=1/0,this.#o[1]=1/0,this.#o[2]=-1/0,this.#o[3]=-1/0),this}recordClipBox(t,e,n,s,o,l){const c=St.multiplyByDOMMatrix(this.#s.at(-1),e.getTransform()),h=[1/0,1/0,-1/0,-1/0];St.axialAlignedBoundingBox([n,o,s,l],c,h);const d=St.intersect(this.#r,h);return d?(this.#r[0]=d[0],this.#r[1]=d[1],this.#r[2]=d[2],this.#r[3]=d[3]):(this.#r[0]=this.#r[1]=1/0,this.#r[2]=this.#r[3]=-1/0),this}recordBBox(t,e,n,s,o,l){const c=this.#r;if(c[0]===1/0)return this;const h=St.multiplyByDOMMatrix(this.#s.at(-1),e.getTransform());if(c[0]===-1/0)return St.axialAlignedBoundingBox([n,o,s,l],h,this.#o),this;const d=[1/0,1/0,-1/0,-1/0];return St.axialAlignedBoundingBox([n,o,s,l],h,d),this.#o[0]=Math.min(this.#o[0],Math.max(d[0],c[0])),this.#o[1]=Math.min(this.#o[1],Math.max(d[1],c[1])),this.#o[2]=Math.max(this.#o[2],Math.min(d[2],c[2])),this.#o[3]=Math.max(this.#o[3],Math.min(d[3],c[3])),this}recordCharacterBBox(t,e,n,s=1,o=0,l=0,c){const h=n.bbox;let d,p;if(h&&(d=h[2]!==h[0]&&h[3]!==h[1]&&this.#h.get(n),d!==!1&&(p=[0,0,0,0],St.axialAlignedBoundingBox(h,n.fontMatrix,p),(s!==1||o!==0||l!==0)&&St.scaleMinMax([s,0,0,-s,o,l],p),d)))return this.recordBBox(t,e,p[0],p[2],p[1],p[3]);if(!c)return this.recordFullPageBBox(t);const g=c();return h&&p&&d===void 0&&(d=p[0]<=o-g.actualBoundingBoxLeft&&p[2]>=o+g.actualBoundingBoxRight&&p[1]<=l-g.actualBoundingBoxAscent&&p[3]>=l+g.actualBoundingBoxDescent,this.#h.set(n,d),d)?this.recordBBox(t,e,p[0],p[2],p[1],p[3]):this.recordBBox(t,e,o-g.actualBoundingBoxLeft,o+g.actualBoundingBoxRight,l-g.actualBoundingBoxAscent,l+g.actualBoundingBoxDescent)}recordFullPageBBox(t){return this.#o[0]=Math.max(0,this.#r[0]),this.#o[1]=Math.max(0,this.#r[1]),this.#o[2]=Math.min(this.#f,this.#r[2]),this.#o[3]=Math.min(this.#m,this.#r[3]),this}getSimpleIndex(t){return this.#t[t]}recordDependencies(t,e){const n=this.#l,s=this.#t,o=this.#e;for(const l of e)l in this.#t?n.add(s[l]):l in o&&o[l].forEach(n.add,n);return this}recordNamedDependency(t,e){return this.#i.has(e)&&this.#l.add(this.#i.get(e)),this}recordOperation(t,e=!1){if(this.recordDependencies(t,[pl]),this.#g){const n=kd(this.#g,t),{dependencies:s}=n;this.#l.forEach(s.add,s),this.#n.forEach(s.add,s),this.#a.forEach(s.add,s),s.delete(t),n.isRenderingOperation=!0}if(this.#c===t){const n=Ux(this.#o[0]*256/this.#f),s=Ux(this.#o[1]*256/this.#m),o=Hx(this.#o[2]*256/this.#f),l=Hx(this.#o[3]*256/this.#m);Od(this.#p,t,n,s,o,l);for(const c of this.#l)c!==t&&Od(this.#p,c,n,s,o,l);for(const c of this.#n)c!==t&&Od(this.#p,c,n,s,o,l);for(const c of this.#a)c!==t&&Od(this.#p,c,n,s,o,l);e||(this.#l.clear(),this.#c=-1)}return this}recordShowTextOperation(t,e=!1){const n=Array.from(this.#l);this.recordOperation(t,e),this.recordIncrementalData("sameLineText",t);for(const s of n)this.recordIncrementalData("sameLineText",s);return this}bboxToClipBoxDropOperation(t,e=!1){return this.#c===t&&(this.#c=-1,this.#r[0]=Math.max(this.#r[0],this.#o[0]),this.#r[1]=Math.max(this.#r[1],this.#o[1]),this.#r[2]=Math.min(this.#r[2],this.#o[2]),this.#r[3]=Math.min(this.#r[3],this.#o[3]),e||this.#l.clear()),this}_takePendingDependencies(){const t=this.#l;return this.#l=new Set,t}_extractOperation(t){const e=this.#d.get(t);return this.#d.delete(t),e}_pushPendingDependencies(t){for(const e of t)this.#l.add(e)}take(){return this.#h.clear(),new l3(this.#u,this.#p)}takeDebugMetadata(){return this.#g}}class vf{#t;#e;#i;#n=0;#a=0;constructor(t,e,n){if(t instanceof vf&&t.#i===!!n)return t;this.#t=t,this.#e=e,this.#i=!!n}growOperationsCount(){throw new Error("Unreachable")}save(t){return this.#a++,this.#t.save(this.#e),this}restore(t){return this.#a>0&&(this.#t.restore(this.#e),this.#a--),this}recordOpenMarker(t){return this.#n++,this}getOpenMarker(){return this.#n>0?this.#e:this.#t.getOpenMarker()}recordCloseMarker(t){return this.#n--,this}beginMarkedContent(t){return this}endMarkedContent(t){return this}pushBaseTransform(t){return this.#t.pushBaseTransform(t),this}popBaseTransform(){return this.#t.popBaseTransform(),this}recordSimpleData(t,e){return this.#t.recordSimpleData(t,this.#e),this}recordIncrementalData(t,e){return this.#t.recordIncrementalData(t,this.#e),this}resetIncrementalData(t,e){return this.#t.resetIncrementalData(t,this.#e),this}recordNamedData(t,e){return this}recordSimpleDataFromNamed(t,e,n){return this.#t.recordSimpleDataFromNamed(t,e,this.#e),this}recordFutureForcedDependency(t,e){return this.#t.recordFutureForcedDependency(t,this.#e),this}inheritSimpleDataAsFutureForcedDependencies(t){return this.#t.inheritSimpleDataAsFutureForcedDependencies(t),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#t.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(t){return this.#i||this.#t.resetBBox(this.#e),this}recordClipBox(t,e,n,s,o,l){return this.#i||this.#t.recordClipBox(this.#e,e,n,s,o,l),this}recordBBox(t,e,n,s,o,l){return this.#i||this.#t.recordBBox(this.#e,e,n,s,o,l),this}recordCharacterBBox(t,e,n,s,o,l,c){return this.#i||this.#t.recordCharacterBBox(this.#e,e,n,s,o,l,c),this}recordFullPageBBox(t){return this.#i||this.#t.recordFullPageBBox(this.#e),this}getSimpleIndex(t){return this.#t.getSimpleIndex(t)}recordDependencies(t,e){return this.#t.recordDependencies(this.#e,e),this}recordNamedDependency(t,e){return this.#t.recordNamedDependency(this.#e,e),this}recordOperation(t){return this.#t.recordOperation(this.#e,!0),this}recordShowTextOperation(t){return this.#t.recordShowTextOperation(this.#e,!0),this}bboxToClipBoxDropOperation(t){return this.#i||this.#t.bboxToClipBoxDropOperation(this.#e,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const Ji={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Bn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Fy(a,t){if(!t)return;const e=t[2]-t[0],n=t[3]-t[1],s=new Path2D;s.rect(t[0],t[1],e,n),a.clip(s)}class Yv{isModifyingCurrentTransform(){return!1}getPattern(){De("Abstract method `getPattern` called.")}}class u3 extends Yv{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,s){let o;if(s===Bn.STROKE||s===Bn.FILL){const l=e.current.getClippedPathBoundingBox(s,Ve(t))||[0,0,0,0],c=Math.ceil(l[2]-l[0])||1,h=Math.ceil(l[3]-l[1])||1,d=e.cachedCanvases.getCanvas("pattern",c,h),p=d.context;p.clearRect(0,0,p.canvas.width,p.canvas.height),p.beginPath(),p.rect(0,0,p.canvas.width,p.canvas.height),p.translate(-l[0],-l[1]),n=St.transform(n,[1,0,0,1,l[0],l[1]]),p.transform(...e.baseTransform),this.matrix&&p.transform(...this.matrix),Fy(p,this._bbox),p.fillStyle=this._createGradient(p),p.fill(),o=t.createPattern(d.canvas,"no-repeat");const g=new DOMMatrix(n);o.setTransform(g)}else Fy(t,this._bbox),o=this._createGradient(t);return o}}function Hm(a,t,e,n,s,o,l,c){const h=t.coords,d=t.colors,p=a.data,g=a.width*4;let v;h[e+1]>h[n+1]&&(v=e,e=n,n=v,v=o,o=l,l=v),h[n+1]>h[s+1]&&(v=n,n=s,s=v,v=l,l=c,c=v),h[e+1]>h[n+1]&&(v=e,e=n,n=v,v=o,o=l,l=v);const m=(h[e]+t.offsetX)*t.scaleX,w=(h[e+1]+t.offsetY)*t.scaleY,_=(h[n]+t.offsetX)*t.scaleX,S=(h[n+1]+t.offsetY)*t.scaleY,x=(h[s]+t.offsetX)*t.scaleX,T=(h[s+1]+t.offsetY)*t.scaleY;if(w>=T)return;const C=d[o],D=d[o+1],R=d[o+2],P=d[l],O=d[l+1],L=d[l+2],F=d[c],X=d[c+1],G=d[c+2],rt=Math.round(w),tt=Math.round(T);let W,$,k,z,I,Q,ot,B;for(let j=rt;j<=tt;j++){if(j<S){const ct=j<w?0:(w-j)/(w-S);W=m-(m-_)*ct,$=C-(C-P)*ct,k=D-(D-O)*ct,z=R-(R-L)*ct}else{let ct;j>T?ct=1:S===T?ct=0:ct=(S-j)/(S-T),W=_-(_-x)*ct,$=P-(P-F)*ct,k=O-(O-X)*ct,z=L-(L-G)*ct}let K;j<w?K=0:j>T?K=1:K=(w-j)/(w-T),I=m-(m-x)*K,Q=C-(C-F)*K,ot=D-(D-X)*K,B=R-(R-G)*K;const nt=Math.round(Math.min(W,I)),pt=Math.round(Math.max(W,I));let gt=g*j+nt*4;for(let ct=nt;ct<=pt;ct++)K=(W-ct)/(W-I),K<0?K=0:K>1&&(K=1),p[gt++]=$-($-Q)*K|0,p[gt++]=k-(k-ot)*K|0,p[gt++]=z-(z-B)*K|0,p[gt++]=255}}function h3(a,t,e){const n=t.coords,s=t.colors;let o,l;switch(t.type){case"lattice":const c=t.verticesPerRow,h=Math.floor(n.length/c)-1,d=c-1;for(o=0;o<h;o++){let p=o*c;for(let g=0;g<d;g++,p++)Hm(a,e,n[p],n[p+1],n[p+c],s[p],s[p+1],s[p+c]),Hm(a,e,n[p+c+1],n[p+1],n[p+c],s[p+c+1],s[p+1],s[p+c])}break;case"triangles":for(o=0,l=n.length;o<l;o+=3)Hm(a,e,n[o],n[o+1],n[o+2],s[o],s[o+1],s[o+2]);break;default:throw new Error("illegal figure")}}class d3 extends Yv{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,n){const c=Math.floor(this._bounds[0]),h=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-c,p=Math.ceil(this._bounds[3])-h,g=Math.min(Math.ceil(Math.abs(d*t[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(p*t[1]*1.1)),3e3),m=d/g,w=p/v,_={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-h,scaleX:1/m,scaleY:1/w},S=g+4,x=v+4,T=n.getCanvas("mesh",S,x),C=T.context,D=C.createImageData(g,v);if(e){const P=D.data;for(let O=0,L=P.length;O<L;O+=4)P[O]=e[0],P[O+1]=e[1],P[O+2]=e[2],P[O+3]=255}for(const P of this._figures)h3(D,P,_);return C.putImageData(D,2,2),{canvas:T.canvas,offsetX:c-2*m,offsetY:h-2*w,scaleX:m,scaleY:w}}isModifyingCurrentTransform(){return!0}getPattern(t,e,n,s){Fy(t,this._bbox);const o=new Float32Array(2);if(s===Bn.SHADING)St.singularValueDecompose2dScale(Ve(t),o);else if(this.matrix){St.singularValueDecompose2dScale(this.matrix,o);const[c,h]=o;St.singularValueDecompose2dScale(e.baseTransform,o),o[0]*=c,o[1]*=h}else St.singularValueDecompose2dScale(e.baseTransform,o);const l=this._createMeshCanvas(o,s===Bn.SHADING?null:this._background,e.cachedCanvases);return s!==Bn.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(l.offsetX,l.offsetY),t.scale(l.scaleX,l.scaleY),t.createPattern(l.canvas,"no-repeat")}}class f3 extends Yv{getPattern(){return"hotpink"}}function p3(a){switch(a[0]){case"RadialAxial":return new u3(a);case"Mesh":return new d3(a);case"Dummy":return new f3}throw new Error(`Unknown IR type: ${a[0]}`)}const Gx={COLORED:1,UNCOLORED:2};class Xv{static MAX_PATTERN_SIZE=3e3;constructor(t,e,n,s){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=n,this.baseTransform=s}createPatternCanvas(t,e){const{bbox:n,operatorList:s,paintType:o,tilingType:l,color:c,canvasGraphicsFactory:h}=this;let{xstep:d,ystep:p}=this;d=Math.abs(d),p=Math.abs(p),zf("TilingType: "+l);const g=n[0],v=n[1],m=n[2],w=n[3],_=m-g,S=w-v,x=new Float32Array(2);St.singularValueDecompose2dScale(this.matrix,x);const[T,C]=x;St.singularValueDecompose2dScale(this.baseTransform,x);const D=T*x[0],R=C*x[1];let P=_,O=S,L=!1,F=!1;const X=Math.ceil(d*D),G=Math.ceil(p*R),rt=Math.ceil(_*D),tt=Math.ceil(S*R);X>=rt?P=d:L=!0,G>=tt?O=p:F=!0;const W=this.getSizeAndScale(P,this.ctx.canvas.width,D),$=this.getSizeAndScale(O,this.ctx.canvas.height,R),k=t.cachedCanvases.getCanvas("pattern",W.size,$.size),z=k.context,I=h.createCanvasGraphics(z,e);if(I.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(I,o,c),z.translate(-W.scale*g,-$.scale*v),I.transform(0,W.scale,0,0,$.scale,0,0),z.save(),I.dependencyTracker?.save(),this.clipBbox(I,g,v,m,w),I.baseTransform=Ve(I.ctx),I.executeOperatorList(s),I.endDrawing(),I.dependencyTracker?.restore(),z.restore(),L||F){const Q=k.canvas;L&&(P=d),F&&(O=p);const ot=this.getSizeAndScale(P,this.ctx.canvas.width,D),B=this.getSizeAndScale(O,this.ctx.canvas.height,R),j=ot.size,K=B.size,nt=t.cachedCanvases.getCanvas("pattern-workaround",j,K),pt=nt.context,gt=L?Math.floor(_/d):0,ct=F?Math.floor(S/p):0;for(let Et=0;Et<=gt;Et++)for(let Tt=0;Tt<=ct;Tt++)pt.drawImage(Q,j*Et,K*Tt,j,K,0,0,j,K);return{canvas:nt.canvas,scaleX:ot.scale,scaleY:B.scale,offsetX:g,offsetY:v}}return{canvas:k.canvas,scaleX:W.scale,scaleY:$.scale,offsetX:g,offsetY:v}}getSizeAndScale(t,e,n){const s=Math.max(Xv.MAX_PATTERN_SIZE,e);let o=Math.ceil(t*n);return o>=s?o=s:n=o/t,{scale:n,size:o}}clipBbox(t,e,n,s,o){const l=s-e,c=o-n;t.ctx.rect(e,n,l,c),St.axialAlignedBoundingBox([e,n,s,o],Ve(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const s=t.ctx,o=t.current;switch(e){case Gx.COLORED:const{fillStyle:l,strokeStyle:c}=this.ctx;s.fillStyle=o.fillColor=l,s.strokeStyle=o.strokeColor=c;break;case Gx.UNCOLORED:s.fillStyle=s.strokeStyle=n,o.fillColor=o.strokeColor=n;break;default:throw new PI(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,n,s,o){let l=n;s!==Bn.SHADING&&(l=St.transform(l,e.baseTransform),this.matrix&&(l=St.transform(l,this.matrix)));const c=this.createPatternCanvas(e,o);let h=new DOMMatrix(l);h=h.translate(c.offsetX,c.offsetY),h=h.scale(1/c.scaleX,1/c.scaleY);const d=t.createPattern(c.canvas,"repeat");return d.setTransform(h),d}}function g3({src:a,srcPos:t=0,dest:e,width:n,height:s,nonBlackColor:o=4294967295,inverseDecode:l=!1}){const c=Cn.isLittleEndian?4278190080:255,[h,d]=l?[o,c]:[c,o],p=n>>3,g=n&7,v=a.length;e=new Uint32Array(e.buffer);let m=0;for(let w=0;w<s;w++){for(const S=t+p;t<S;t++){const x=t<v?a[t]:255;e[m++]=x&128?d:h,e[m++]=x&64?d:h,e[m++]=x&32?d:h,e[m++]=x&16?d:h,e[m++]=x&8?d:h,e[m++]=x&4?d:h,e[m++]=x&2?d:h,e[m++]=x&1?d:h}if(g===0)continue;const _=t<v?a[t++]:255;for(let S=0;S<g;S++)e[m++]=_&1<<7-S?d:h}return{srcPos:t,destPos:m}}const Vx=16,Yx=100,m3=15,Xx=10,ci=16,Gm=new DOMMatrix,Mi=new Float32Array(2),bl=new Float32Array([1/0,1/0,-1/0,-1/0]);function y3(a,t){if(a._removeMirroring)throw new Error("Context is already forwarding operations.");a.__originalSave=a.save,a.__originalRestore=a.restore,a.__originalRotate=a.rotate,a.__originalScale=a.scale,a.__originalTranslate=a.translate,a.__originalTransform=a.transform,a.__originalSetTransform=a.setTransform,a.__originalResetTransform=a.resetTransform,a.__originalClip=a.clip,a.__originalMoveTo=a.moveTo,a.__originalLineTo=a.lineTo,a.__originalBezierCurveTo=a.bezierCurveTo,a.__originalRect=a.rect,a.__originalClosePath=a.closePath,a.__originalBeginPath=a.beginPath,a._removeMirroring=()=>{a.save=a.__originalSave,a.restore=a.__originalRestore,a.rotate=a.__originalRotate,a.scale=a.__originalScale,a.translate=a.__originalTranslate,a.transform=a.__originalTransform,a.setTransform=a.__originalSetTransform,a.resetTransform=a.__originalResetTransform,a.clip=a.__originalClip,a.moveTo=a.__originalMoveTo,a.lineTo=a.__originalLineTo,a.bezierCurveTo=a.__originalBezierCurveTo,a.rect=a.__originalRect,a.closePath=a.__originalClosePath,a.beginPath=a.__originalBeginPath,delete a._removeMirroring},a.save=function(){t.save(),this.__originalSave()},a.restore=function(){t.restore(),this.__originalRestore()},a.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},a.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},a.transform=function(e,n,s,o,l,c){t.transform(e,n,s,o,l,c),this.__originalTransform(e,n,s,o,l,c)},a.setTransform=function(e,n,s,o,l,c){t.setTransform(e,n,s,o,l,c),this.__originalSetTransform(e,n,s,o,l,c)},a.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},a.rotate=function(e){t.rotate(e),this.__originalRotate(e)},a.clip=function(e){t.clip(e),this.__originalClip(e)},a.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},a.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},a.bezierCurveTo=function(e,n,s,o,l,c){t.bezierCurveTo(e,n,s,o,l,c),this.__originalBezierCurveTo(e,n,s,o,l,c)},a.rect=function(e,n,s,o){t.rect(e,n,s,o),this.__originalRect(e,n,s,o)},a.closePath=function(){t.closePath(),this.__originalClosePath()},a.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class v3{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let s;return this.cache[t]!==void 0?(s=this.cache[t],this.canvasFactory.reset(s,e,n)):(s=this.canvasFactory.create(e,n),this.cache[t]=s),s}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function Nd(a,t,e,n,s,o,l,c,h,d){const[p,g,v,m,w,_]=Ve(a);if(g===0&&v===0){const T=l*p+w,C=Math.round(T),D=c*m+_,R=Math.round(D),P=(l+h)*p+w,O=Math.abs(Math.round(P)-C)||1,L=(c+d)*m+_,F=Math.abs(Math.round(L)-R)||1;return a.setTransform(Math.sign(p),0,0,Math.sign(m),C,R),a.drawImage(t,e,n,s,o,0,0,O,F),a.setTransform(p,g,v,m,w,_),[O,F]}if(p===0&&m===0){const T=c*v+w,C=Math.round(T),D=l*g+_,R=Math.round(D),P=(c+d)*v+w,O=Math.abs(Math.round(P)-C)||1,L=(l+h)*g+_,F=Math.abs(Math.round(L)-R)||1;return a.setTransform(0,Math.sign(g),Math.sign(v),0,C,R),a.drawImage(t,e,n,s,o,0,0,F,O),a.setTransform(p,g,v,m,w,_),[F,O]}a.drawImage(t,e,n,s,o,l,c,h,d);const S=Math.hypot(p,g),x=Math.hypot(v,m);return[S*h,x*d]}class qx{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=Ly;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Pn.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(t,e,n){n?.(this),this.clipBox=new Float32Array([0,0,t,e]),this.minMax=bl.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=Bn.FILL,e=null){const n=this.minMax.slice();if(t===Bn.STROKE){e||De("Stroke bounding box must include transform."),St.singularValueDecompose2dScale(e,Mi);const s=Mi[0]*this.lineWidth/2,o=Mi[1]*this.lineWidth/2;n[0]-=s,n[1]-=o,n[2]+=s,n[3]+=o}return n}updateClipFromPath(){const t=St.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(bl,0)}getClippedPathBoundingBox(t=Bn.FILL,e=null){return St.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function $x(a,t){if(t instanceof ImageData){a.putImageData(t,0,0);return}const e=t.height,n=t.width,s=e%ci,o=(e-s)/ci,l=s===0?o:o+1,c=a.createImageData(n,ci);let h=0,d;const p=t.data,g=c.data;let v,m,w,_;if(t.kind===du.GRAYSCALE_1BPP){const S=p.byteLength,x=new Uint32Array(g.buffer,0,g.byteLength>>2),T=x.length,C=n+7>>3,D=4294967295,R=Cn.isLittleEndian?4278190080:255;for(v=0;v<l;v++){for(w=v<o?ci:s,d=0,m=0;m<w;m++){const P=S-h;let O=0;const L=P>C?n:P*8-7,F=L&-8;let X=0,G=0;for(;O<F;O+=8)G=p[h++],x[d++]=G&128?D:R,x[d++]=G&64?D:R,x[d++]=G&32?D:R,x[d++]=G&16?D:R,x[d++]=G&8?D:R,x[d++]=G&4?D:R,x[d++]=G&2?D:R,x[d++]=G&1?D:R;for(;O<L;O++)X===0&&(G=p[h++],X=128),x[d++]=G&X?D:R,X>>=1}for(;d<T;)x[d++]=0;a.putImageData(c,0,v*ci)}}else if(t.kind===du.RGBA_32BPP){for(m=0,_=n*ci*4,v=0;v<o;v++)g.set(p.subarray(h,h+_)),h+=_,a.putImageData(c,0,m),m+=ci;v<l&&(_=n*s*4,g.set(p.subarray(h,h+_)),a.putImageData(c,0,m))}else if(t.kind===du.RGB_24BPP)for(w=ci,_=n*w,v=0;v<l;v++){for(v>=o&&(w=s,_=n*w),d=0,m=_;m--;)g[d++]=p[h++],g[d++]=p[h++],g[d++]=p[h++],g[d++]=255;a.putImageData(c,0,v*ci)}else throw new Error(`bad image kind: ${t.kind}`)}function Wx(a,t){if(t.bitmap){a.drawImage(t.bitmap,0,0);return}const e=t.height,n=t.width,s=e%ci,o=(e-s)/ci,l=s===0?o:o+1,c=a.createImageData(n,ci);let h=0;const d=t.data,p=c.data;for(let g=0;g<l;g++){const v=g<o?ci:s;({srcPos:h}=g3({src:d,srcPos:h,dest:p,width:n,height:v,nonBlackColor:0})),a.putImageData(c,0,g*ci)}}function Xc(a,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of e)a[n]!==void 0&&(t[n]=a[n]);a.setLineDash!==void 0&&(t.setLineDash(a.getLineDash()),t.lineDashOffset=a.lineDashOffset)}function Ld(a){a.strokeStyle=a.fillStyle="#000000",a.fillRule="nonzero",a.globalAlpha=1,a.lineWidth=1,a.lineCap="butt",a.lineJoin="miter",a.miterLimit=10,a.globalCompositeOperation="source-over",a.font="10px sans-serif",a.setLineDash!==void 0&&(a.setLineDash([]),a.lineDashOffset=0);const{filter:t}=a;t!=="none"&&t!==""&&(a.filter="none")}function Kx(a,t){if(t)return!0;St.singularValueDecompose2dScale(a,Mi);const e=Math.fround(ws.pixelRatio*yo.PDF_TO_CSS_UNITS);return Mi[0]<=e&&Mi[1]<=e}const b3=["butt","round","square"],_3=["miter","round","bevel"],w3={},Qx={};class Rl{constructor(t,e,n,s,o,{optionalContentConfig:l,markedContentStack:c=null},h,d,p){this.ctx=t,this.current=new qx(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=s,this.filterFactory=o,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=l,this.cachedCanvases=new v3(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=h,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=p??null}getObject(t,e,n=null){return typeof e=="string"?(this.dependencyTracker?.recordNamedDependency(t,e),e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e)):n}beginDrawing({transform:t,viewport:e,transparency:n=!1,background:s=null}){const o=this.ctx.canvas.width,l=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,o,l),this.ctx.fillStyle=c,n){const h=this.cachedCanvases.getCanvas("transparent",o,l);this.compositeCtx=this.ctx,this.transparentCanvas=h.canvas,this.ctx=h.context,this.ctx.save(),this.ctx.transform(...Ve(this.compositeCtx))}this.ctx.save(),Ld(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=Ve(this.ctx)}executeOperatorList(t,e,n,s,o){const l=t.argsArray,c=t.fnArray;let h=e||0;const d=l.length;if(d===h)return h;const p=d-h>Xx&&typeof n=="function",g=p?Date.now()+m3:0;let v=0;const m=this.commonObjs,w=this.objs;let _,S;for(;;){if(s!==void 0&&h===s.nextBreakPoint)return s.breakIt(h,n),h;if(!o||o(h))if(_=c[h],S=l[h]??null,_!==Vl.dependency)S===null?this[_](h):this[_](h,...S);else for(const x of S){this.dependencyTracker?.recordNamedData(x,h);const T=x.startsWith("g_")?m:w;if(!T.has(x))return T.get(x,n),h}if(h++,h===d)return h;if(p&&++v>Xx){if(Date.now()>g)return n(),h;v=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(t,e){const n=t.width??t.displayWidth,s=t.height??t.displayHeight;let o=Math.max(Math.hypot(e[0],e[1]),1),l=Math.max(Math.hypot(e[2],e[3]),1),c=n,h=s,d="prescale1",p,g;for(;o>2&&c>1||l>2&&h>1;){let v=c,m=h;o>2&&c>1&&(v=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),o/=c/v),l>2&&h>1&&(m=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h)/2,l/=h/m),p=this.cachedCanvases.getCanvas(d,v,m),g=p.context,g.clearRect(0,0,v,m),g.drawImage(t,0,0,c,h,0,0,v,m),t=p.canvas,c=v,h=m,d=d==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:c,paintHeight:h}}_createMaskCanvas(t,e){const n=this.ctx,{width:s,height:o}=e,l=this.current.fillColor,c=this.current.patternFill,h=Ve(n);let d,p,g,v;if((e.bitmap||e.data)&&e.count>1){const X=e.bitmap||e.data.buffer;p=JSON.stringify(c?h:[h.slice(0,4),l]),d=this._cachedBitmapsMap.get(X),d||(d=new Map,this._cachedBitmapsMap.set(X,d));const G=d.get(p);if(G&&!c){const rt=Math.round(Math.min(h[0],h[2])+h[4]),tt=Math.round(Math.min(h[1],h[3])+h[5]);return this.dependencyTracker?.recordDependencies(t,Ji.transformAndFill),{canvas:G,offsetX:rt,offsetY:tt}}g=G}g||(v=this.cachedCanvases.getCanvas("maskCanvas",s,o),Wx(v.context,e));let m=St.transform(h,[1/s,0,0,-1/o,0,0]);m=St.transform(m,[1,0,0,1,0,-o]);const w=bl.slice();St.axialAlignedBoundingBox([0,0,s,o],m,w);const[_,S,x,T]=w,C=Math.round(x-_)||1,D=Math.round(T-S)||1,R=this.cachedCanvases.getCanvas("fillCanvas",C,D),P=R.context,O=_,L=S;P.translate(-O,-L),P.transform(...m),g||(g=this._scaleImage(v.canvas,Rs(P)),g=g.img,d&&c&&d.set(p,g)),P.imageSmoothingEnabled=Kx(Ve(P),e.interpolate),Nd(P,g,0,0,g.width,g.height,0,0,s,o),P.globalCompositeOperation="source-in";const F=St.transform(Rs(P),[1,0,0,1,-O,-L]);return P.fillStyle=c?l.getPattern(n,this,F,Bn.FILL,t):l,P.fillRect(0,0,s,o),d&&!c&&(this.cachedCanvases.delete("fillCanvas"),d.set(p,R.canvas)),this.dependencyTracker?.recordDependencies(t,Ji.transformAndFill),{canvas:R.canvas,offsetX:Math.round(O),offsetY:Math.round(L)}}setLineWidth(t,e){this.dependencyTracker?.recordSimpleData("lineWidth",t),e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(t,e){this.dependencyTracker?.recordSimpleData("lineCap",t),this.ctx.lineCap=b3[e]}setLineJoin(t,e){this.dependencyTracker?.recordSimpleData("lineJoin",t),this.ctx.lineJoin=_3[e]}setMiterLimit(t,e){this.dependencyTracker?.recordSimpleData("miterLimit",t),this.ctx.miterLimit=e}setDash(t,e,n){this.dependencyTracker?.recordSimpleData("dash",t);const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(e),s.lineDashOffset=n)}setRenderingIntent(t,e){}setFlatness(t,e){}setGState(t,e){for(const[n,s]of e)switch(n){case"LW":this.setLineWidth(t,s);break;case"LC":this.setLineCap(t,s);break;case"LJ":this.setLineJoin(t,s);break;case"ML":this.setMiterLimit(t,s);break;case"D":this.setDash(t,s[0],s[1]);break;case"RI":this.setRenderingIntent(t,s);break;case"FL":this.setFlatness(t,s);break;case"Font":this.setFont(t,s[0],s[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",t),this.current.strokeAlpha=s;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",t),this.ctx.globalAlpha=this.current.fillAlpha=s;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",t),this.ctx.globalCompositeOperation=s;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",t),this.current.activeSMask=s?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",t),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(s);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(t){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,n=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,o=this.cachedCanvases.getCanvas(s,e,n);this.suspendedCtx=this.ctx;const l=this.ctx=o.context;l.setTransform(this.suspendedCtx.getTransform()),Xc(this.suspendedCtx,l),y3(l,this.suspendedCtx),this.setGState(t,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Xc(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,s){const o=s[0],l=s[1],c=s[2]-o,h=s[3]-l;c===0||h===0||(this.genericComposeSMask(e.context,n,c,h,e.subtype,e.backdrop,e.transferMap,o,l,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,s,o,l,c,h,d,p,g){let v=t.canvas,m=h-p,w=d-g;if(l)if(m<0||w<0||m+n>v.width||w+s>v.height){const S=this.cachedCanvases.getCanvas("maskExtension",n,s),x=S.context;x.drawImage(v,-m,-w),x.globalCompositeOperation="destination-atop",x.fillStyle=l,x.fillRect(0,0,n,s),x.globalCompositeOperation="source-over",v=S.canvas,m=w=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const S=new Path2D;S.rect(m,w,n,s),t.clip(S),t.globalCompositeOperation="destination-atop",t.fillStyle=l,t.fillRect(m,w,n,s),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),o==="Alpha"&&c?e.filter=this.filterFactory.addAlphaFilter(c):o==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(c));const _=new Path2D;_.rect(h,d,n,s),e.clip(_),e.globalCompositeOperation="destination-in",e.drawImage(v,m,w,n,s,h,d,n,s),e.restore()}save(t){this.inSMaskMode&&Xc(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone(),this.dependencyTracker?.save(t)}restore(t){if(this.dependencyTracker?.restore(t),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Xc(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,n,s,o,l,c){this.dependencyTracker?.recordIncrementalData("transform",t),this.ctx.transform(e,n,s,o,l,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n,s){let[o]=n;if(!s){o||=n[0]=new Path2D,this[e](t,o);return}if(this.dependencyTracker!==null){const l=e===Vl.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(t).recordBBox(t,this.ctx,s[0]-l,s[2]+l,s[1]-l,s[3]+l).recordDependencies(t,["transform"])}if(!(o instanceof Path2D)){const l=n[0]=new Path2D;for(let c=0,h=o.length;c<h;)switch(o[c++]){case Cd.moveTo:l.moveTo(o[c++],o[c++]);break;case Cd.lineTo:l.lineTo(o[c++],o[c++]);break;case Cd.curveTo:l.bezierCurveTo(o[c++],o[c++],o[c++],o[c++],o[c++],o[c++]);break;case Cd.closePath:l.closePath();break;default:Ht(`Unrecognized drawing path operator: ${o[c-1]}`);break}o=l}St.axialAlignedBoundingBox(s,Ve(this.ctx),this.current.minMax),this[e](t,o),this._pathStartIdx=t}closePath(t){this.ctx.closePath()}stroke(t,e,n=!0){const s=this.ctx,o=this.current.strokeColor;if(s.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof o=="object"&&o?.getPattern){const l=o.isModifyingCurrentTransform()?s.getTransform():null;if(s.save(),s.strokeStyle=o.getPattern(s,this,Rs(s),Bn.STROKE,t),l){const c=new Path2D;c.addPath(e,s.getTransform().invertSelf().multiplySelf(l)),e=c}this.rescaleAndStroke(e,!1),s.restore()}else this.rescaleAndStroke(e,!0);this.dependencyTracker?.recordDependencies(t,Ji.stroke),n&&this.consumePath(t,e,this.current.getClippedPathBoundingBox(Bn.STROKE,Ve(this.ctx))),s.globalAlpha=this.current.fillAlpha}closeStroke(t,e){this.stroke(t,e)}fill(t,e,n=!0){const s=this.ctx,o=this.current.fillColor,l=this.current.patternFill;let c=!1;if(l){const d=o.isModifyingCurrentTransform()?s.getTransform():null;if(this.dependencyTracker?.save(t),s.save(),s.fillStyle=o.getPattern(s,this,Rs(s),Bn.FILL,t),d){const p=new Path2D;p.addPath(e,s.getTransform().invertSelf().multiplySelf(d)),e=p}c=!0}const h=this.current.getClippedPathBoundingBox();this.contentVisible&&h!==null&&(this.pendingEOFill?(s.fill(e,"evenodd"),this.pendingEOFill=!1):s.fill(e)),this.dependencyTracker?.recordDependencies(t,Ji.fill),c&&(s.restore(),this.dependencyTracker?.restore(t)),n&&this.consumePath(t,e,h)}eoFill(t,e){this.pendingEOFill=!0,this.fill(t,e)}fillStroke(t,e){this.fill(t,e,!1),this.stroke(t,e,!1),this.consumePath(t,e)}eoFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}closeFillStroke(t,e){this.fillStroke(t,e)}closeEOFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}endPath(t,e){this.consumePath(t,e)}rawFillPath(t,e){this.ctx.fill(e),this.dependencyTracker?.recordDependencies(t,Ji.rawFillPath).recordOperation(t)}clip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=w3}eoClip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=Qx}beginText(t){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(t).resetIncrementalData("sameLineText").resetIncrementalData("moveText",t)}endText(t){const e=this.pendingTextPaths,n=this.ctx;if(this.dependencyTracker){const{dependencyTracker:s}=this;e!==void 0&&s.recordFutureForcedDependency("textClip",s.getOpenMarker()).recordFutureForcedDependency("textClip",t),s.recordCloseMarker(t)}if(e!==void 0){const s=new Path2D,o=n.getTransform().invertSelf();for(const{transform:l,x:c,y:h,fontSize:d,path:p}of e)p&&s.addPath(p,new DOMMatrix(l).preMultiplySelf(o).translate(c,h).scale(d,-d));n.clip(s)}delete this.pendingTextPaths}setCharSpacing(t,e){this.dependencyTracker?.recordSimpleData("charSpacing",t),this.current.charSpacing=e}setWordSpacing(t,e){this.dependencyTracker?.recordSimpleData("wordSpacing",t),this.current.wordSpacing=e}setHScale(t,e){this.dependencyTracker?.recordSimpleData("hScale",t),this.current.textHScale=e/100}setLeading(t,e){this.dependencyTracker?.recordSimpleData("leading",t),this.current.leading=-e}setFont(t,e,n){this.dependencyTracker?.recordSimpleData("font",t).recordSimpleDataFromNamed("fontObj",e,t);const s=this.commonObjs.get(e),o=this.current;if(!s)throw new Error(`Can't find font for ${e}`);if(o.fontMatrix=s.fontMatrix||Ly,(o.fontMatrix[0]===0||o.fontMatrix[3]===0)&&Ht("Invalid font matrix for font "+e),n<0?(n=-n,o.fontDirection=-1):o.fontDirection=1,this.current.font=s,this.current.fontSize=n,s.isType3Font)return;const l=s.loadedName||"sans-serif",c=s.systemFontInfo?.css||`"${l}", ${s.fallbackName}`;let h="normal";s.black?h="900":s.bold&&(h="bold");const d=s.italic?"italic":"normal";let p=n;n<Vx?p=Vx:n>Yx&&(p=Yx),this.current.fontSizeScale=n/p,this.ctx.font=`${d} ${h} ${p}px ${c}`}setTextRenderingMode(t,e){this.dependencyTracker?.recordSimpleData("textRenderingMode",t),this.current.textRenderingMode=e}setTextRise(t,e){this.dependencyTracker?.recordSimpleData("textRise",t),this.current.textRise=e}moveText(t,e,n){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",t),this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=n}setLeadingMoveText(t,e,n){this.setLeading(t,-n),this.moveText(t,e,n)}setTextMatrix(t,e){this.dependencyTracker?.recordSimpleData("textMatrix",t);const{current:n}=this;n.textMatrix=e,n.textMatrixScale=Math.hypot(e[0],e[1]),n.x=n.lineX=0,n.y=n.lineY=0}nextLine(t){this.moveText(t,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??t)}#i(t,e,n){const s=new Path2D;return s.addPath(t,new DOMMatrix(n).invertSelf().multiplySelf(e)),s}paintChar(t,e,n,s,o,l){const c=this.ctx,h=this.current,d=h.font,p=h.textRenderingMode,g=h.fontSize/h.fontSizeScale,v=p&Pn.FILL_STROKE_MASK,m=!!(p&Pn.ADD_TO_PATH_FLAG),w=h.patternFill&&!d.missingFile,_=h.patternStroke&&!d.missingFile;let S;if((d.disableFontFace||m||w||_)&&!d.missingFile&&(S=d.getPathGenerator(this.commonObjs,e)),S&&(d.disableFontFace||w||_)){c.save(),c.translate(n,s),c.scale(g,-g),this.dependencyTracker?.recordCharacterBBox(t,c,d);let x;if(v===Pn.FILL||v===Pn.FILL_STROKE)if(o){x=c.getTransform(),c.setTransform(...o);const T=this.#i(S,x,o);c.fill(T)}else c.fill(S);if(v===Pn.STROKE||v===Pn.FILL_STROKE)if(l){x||=c.getTransform(),c.setTransform(...l);const{a:T,b:C,c:D,d:R}=x,P=St.inverseTransform(l),O=St.transform([T,C,D,R,0,0],P);St.singularValueDecompose2dScale(O,Mi),c.lineWidth*=Math.max(Mi[0],Mi[1])/g,c.stroke(this.#i(S,x,l))}else c.lineWidth/=g,c.stroke(S);c.restore()}else(v===Pn.FILL||v===Pn.FILL_STROKE)&&(c.fillText(e,n,s),this.dependencyTracker?.recordCharacterBBox(t,c,d,g,n,s,()=>c.measureText(e))),(v===Pn.STROKE||v===Pn.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(t,c,d,g,n,s,()=>c.measureText(e)).recordDependencies(t,Ji.stroke),c.strokeText(e,n,s));m&&((this.pendingTextPaths||=[]).push({transform:Ve(c),x:n,y:s,fontSize:g,path:S}),this.dependencyTracker?.recordCharacterBBox(t,c,d,g,n,s))}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let s=3;s<e.length;s+=4)if(e[s]>0&&e[s]<255){n=!0;break}return Xt(this,"isFontSubpixelAAEnabled",n)}showText(t,e){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(t,Ji.showText).resetBBox(t),this.current.textRenderingMode&Pn.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",t).inheritPendingDependenciesAsFutureForcedDependencies());const n=this.current,s=n.font;if(s.isType3Font){this.showType3Text(t,e),this.dependencyTracker?.recordShowTextOperation(t);return}const o=n.fontSize;if(o===0){this.dependencyTracker?.recordOperation(t);return}const l=this.ctx,c=n.fontSizeScale,h=n.charSpacing,d=n.wordSpacing,p=n.fontDirection,g=n.textHScale*p,v=e.length,m=s.vertical,w=m?1:-1,_=s.defaultVMetrics,S=o*n.fontMatrix[0],x=n.textRenderingMode===Pn.FILL&&!s.disableFontFace&&!n.patternFill;l.save(),n.textMatrix&&l.transform(...n.textMatrix),l.translate(n.x,n.y+n.textRise),p>0?l.scale(g,-1):l.scale(g,1);let T,C;if(n.patternFill){l.save();const L=n.fillColor.getPattern(l,this,Rs(l),Bn.FILL,t);T=Ve(l),l.restore(),l.fillStyle=L}if(n.patternStroke){l.save();const L=n.strokeColor.getPattern(l,this,Rs(l),Bn.STROKE,t);C=Ve(l),l.restore(),l.strokeStyle=L}let D=n.lineWidth;const R=n.textMatrixScale;if(R===0||D===0){const L=n.textRenderingMode&Pn.FILL_STROKE_MASK;(L===Pn.STROKE||L===Pn.FILL_STROKE)&&(D=this.getSinglePixelWidth())}else D/=R;if(c!==1&&(l.scale(c,c),D/=c),l.lineWidth=D,s.isInvalidPDFjsFont){const L=[];let F=0;for(const G of e)L.push(G.unicode),F+=G.width;const X=L.join("");if(l.fillText(X,0,0),this.dependencyTracker!==null){const G=l.measureText(X);this.dependencyTracker.recordBBox(t,this.ctx,-G.actualBoundingBoxLeft,G.actualBoundingBoxRight,-G.actualBoundingBoxAscent,G.actualBoundingBoxDescent).recordShowTextOperation(t)}n.x+=F*S*g,l.restore(),this.compose();return}let P=0,O;for(O=0;O<v;++O){const L=e[O];if(typeof L=="number"){P+=w*L*o/1e3;continue}let F=!1;const X=(L.isSpace?d:0)+h,G=L.fontChar,rt=L.accent;let tt,W,$=L.width;if(m){const I=L.vmetric||_,Q=-(L.vmetric?I[1]:$*.5)*S,ot=I[2]*S;$=I?-I[0]:$,tt=Q/c,W=(P+ot)/c}else tt=P/c,W=0;let k;if(s.remeasure&&$>0){k=l.measureText(G);const I=k.width*1e3/o*c;if($<I&&this.isFontSubpixelAAEnabled){const Q=$/I;F=!0,l.save(),l.scale(Q,1),tt/=Q}else $!==I&&(tt+=($-I)/2e3*o/c)}if(this.contentVisible&&(L.isInFont||s.missingFile)){if(x&&!rt)l.fillText(G,tt,W),this.dependencyTracker?.recordCharacterBBox(t,l,k?{bbox:null}:s,o/c,tt,W,()=>k??l.measureText(G));else if(this.paintChar(t,G,tt,W,T,C),rt){const I=tt+o*rt.offset.x/c,Q=W-o*rt.offset.y/c;this.paintChar(t,rt.fontChar,I,Q,T,C)}}const z=m?$*S-X*p:$*S+X*p;P+=z,F&&l.restore()}m?n.y-=P:n.x+=P*g,l.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(t)}showType3Text(t,e){const n=this.ctx,s=this.current,o=s.font,l=s.fontSize,c=s.fontDirection,h=o.vertical?1:-1,d=s.charSpacing,p=s.wordSpacing,g=s.textHScale*c,v=s.fontMatrix||Ly,m=e.length,w=s.textRenderingMode===Pn.INVISIBLE;let _,S,x,T;if(w||l===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),s.textMatrix&&n.transform(...s.textMatrix),n.translate(s.x,s.y+s.textRise),n.scale(g,c);const C=this.dependencyTracker;for(this.dependencyTracker=C?new vf(C,t):null,_=0;_<m;++_){if(S=e[_],typeof S=="number"){T=h*S*l/1e3,this.ctx.translate(T,0),s.x+=T*g;continue}const D=(S.isSpace?p:0)+d,R=o.charProcOperatorList[S.operatorListId];R?this.contentVisible&&(this.save(),n.scale(l,l),n.transform(...v),this.executeOperatorList(R),this.restore()):Ht(`Type3 character "${S.operatorListId}" is not available.`);const P=[S.width,0];St.applyTransform(P,v),x=P[0]*l+D,n.translate(x,0),s.x+=x*g}n.restore(),C&&(this.dependencyTracker=C)}setCharWidth(t,e,n){}setCharWidthAndBounds(t,e,n,s,o,l,c){const h=new Path2D;h.rect(s,o,l-s,c-o),this.ctx.clip(h),this.dependencyTracker?.recordBBox(t,this.ctx,s,l,o,c).recordClipBox(t,this.ctx,s,l,o,c),this.endPath(t)}getColorN_Pattern(t,e){let n;if(e[0]==="TilingPattern"){const s=this.baseTransform||Ve(this.ctx),o={createCanvasGraphics:(l,c)=>new Rl(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new vf(this.dependencyTracker,c,!0):null)};n=new Xv(e,this.ctx,o,s)}else n=this._getPattern(t,e[1],e[2]);return n}setStrokeColorN(t,...e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.current.strokeColor=this.getColorN_Pattern(t,e),this.current.patternStroke=!0}setFillColorN(t,...e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.current.fillColor=this.getColorN_Pattern(t,e),this.current.patternFill=!0}setStrokeRGBColor(t,e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(t){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(t){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e,n=null){let s;return this.cachedPatterns.has(e)?s=this.cachedPatterns.get(e):(s=p3(this.getObject(t,e)),this.cachedPatterns.set(e,s)),n&&(s.matrix=n),s}shadingFill(t,e){if(!this.contentVisible)return;const n=this.ctx;this.save(t);const s=this._getPattern(t,e);n.fillStyle=s.getPattern(n,this,Rs(n),Bn.SHADING,t);const o=Rs(n);if(o){const{width:l,height:c}=n.canvas,h=bl.slice();St.axialAlignedBoundingBox([0,0,l,c],o,h);const[d,p,g,v]=h;this.ctx.fillRect(d,p,g-d,v-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(t).recordFullPageBBox(t).recordDependencies(t,Ji.transform).recordDependencies(t,Ji.fill).recordOperation(t),this.compose(this.current.getClippedPathBoundingBox()),this.restore(t)}beginInlineImage(){De("Should not call beginInlineImage")}beginImageData(){De("Should not call beginImageData")}paintFormXObjectBegin(t,e,n){if(this.contentVisible&&(this.save(t),this.baseTransformStack.push(this.baseTransform),e&&this.transform(t,...e),this.baseTransform=Ve(this.ctx),n)){St.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[s,o,l,c]=n,h=new Path2D;h.rect(s,o,l-s,c-o),this.ctx.clip(h),this.dependencyTracker?.recordClipBox(t,this.ctx,s,l,o,c),this.endPath(t)}}paintFormXObjectEnd(t){this.contentVisible&&(this.restore(t),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t,e){if(!this.contentVisible)return;this.save(t),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;e.isolated||zf("TODO: Support non-isolated groups."),e.knockout&&Ht("Knockout groups not supported.");const s=Ve(n);if(e.matrix&&n.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let o=bl.slice();St.axialAlignedBoundingBox(e.bbox,Ve(n),o);const l=[0,0,n.canvas.width,n.canvas.height];o=St.intersect(o,l)||[0,0,0,0];const c=Math.floor(o[0]),h=Math.floor(o[1]),d=Math.max(Math.ceil(o[2])-c,1),p=Math.max(Math.ceil(o[3])-h,1);this.current.startNewPathAndClipBox([0,0,d,p]);let g="groupAt"+this.groupLevel;e.smask&&(g+="_smask_"+this.smaskCounter++%2);const v=this.cachedCanvases.getCanvas(g,d,p),m=v.context;m.translate(-c,-h),m.transform(...s);let w=new Path2D;const[_,S,x,T]=e.bbox;if(w.rect(_,S,x-_,T-S),e.matrix){const C=new Path2D;C.addPath(w,new DOMMatrix(e.matrix)),w=C}m.clip(w),e.smask&&this.smaskStack.push({canvas:v.canvas,context:m,offsetX:c,offsetY:h,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}),(!e.smask||this.dependencyTracker)&&(n.setTransform(1,0,0,1,0,0),n.translate(c,h),n.save()),Xc(n,m),this.ctx=m,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(n),this.setGState(t,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(t,e){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),e.smask)this.tempSMask=this.smaskStack.pop(),this.restore(t),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const o=Ve(this.ctx);this.restore(t),this.ctx.save(),this.ctx.setTransform(...o);const l=bl.slice();St.axialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],o,l),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(t,e,n,s,o,l){if(this.#t(),Ld(this.ctx),this.ctx.save(),this.save(t),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const c=n[2]-n[0],h=n[3]-n[1];if(l&&this.annotationCanvasMap){s=s.slice(),s[4]-=n[0],s[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=c,n[3]=h,St.singularValueDecompose2dScale(Ve(this.ctx),Mi);const{viewportScale:d}=this,p=Math.ceil(c*this.outputScaleX*d),g=Math.ceil(h*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(p,g);const{canvas:v,context:m}=this.annotationCanvas;this.annotationCanvasMap.set(e,v),this.annotationCanvas.savedCtx=this.ctx,this.ctx=m,this.ctx.save(),this.ctx.setTransform(Mi[0],0,0,-Mi[1],0,h*Mi[1]),Ld(this.ctx)}else{Ld(this.ctx),this.endPath(t);const d=new Path2D;d.rect(n[0],n[1],c,h),this.ctx.clip(d)}}this.current=new qx(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(t,...s),this.transform(t,...o)}endAnnotation(t){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t,e){if(!this.contentVisible)return;const n=e.count;e=this.getObject(t,e.data,e),e.count=n;const s=this.ctx,o=this._createMaskCanvas(t,e),l=o.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(l,o.offsetX,o.offsetY),this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,o.offsetX,o.offsetX+l.width,o.offsetY,o.offsetY+l.height).recordOperation(t),s.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n,s=0,o=0,l,c){if(!this.contentVisible)return;e=this.getObject(t,e.data,e);const h=this.ctx;h.save();const d=Ve(h);h.transform(n,s,o,l,0,0);const p=this._createMaskCanvas(t,e);h.setTransform(1,0,0,1,p.offsetX-d[4],p.offsetY-d[5]),this.dependencyTracker?.resetBBox(t);for(let g=0,v=c.length;g<v;g+=2){const m=St.transform(d,[n,s,o,l,c[g],c[g+1]]);h.drawImage(p.canvas,m[4],m[5]),this.dependencyTracker?.recordBBox(t,this.ctx,m[4],m[4]+p.canvas.width,m[5],m[5]+p.canvas.height)}h.restore(),this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageMaskXObjectGroup(t,e){if(!this.contentVisible)return;const n=this.ctx,s=this.current.fillColor,o=this.current.patternFill;this.dependencyTracker?.resetBBox(t).recordDependencies(t,Ji.transformAndFill);for(const l of e){const{data:c,width:h,height:d,transform:p}=l,g=this.cachedCanvases.getCanvas("maskCanvas",h,d),v=g.context;v.save();const m=this.getObject(t,c,l);Wx(v,m),v.globalCompositeOperation="source-in",v.fillStyle=o?s.getPattern(v,this,Rs(n),Bn.FILL,t):s,v.fillRect(0,0,h,d),v.restore(),n.save(),n.transform(...p),n.scale(1,-1),Nd(n,g.canvas,0,0,h,d,0,-1,1,1),this.dependencyTracker?.recordBBox(t,n,0,h,0,d),n.restore()}this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageXObject(t,e){if(!this.contentVisible)return;const n=this.getObject(t,e);if(!n){Ht("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t,n)}paintImageXObjectRepeat(t,e,n,s,o){if(!this.contentVisible)return;const l=this.getObject(t,e);if(!l){Ht("Dependent image isn't ready yet");return}const c=l.width,h=l.height,d=[];for(let p=0,g=o.length;p<g;p+=2)d.push({transform:[n,0,0,s,o[p],o[p+1]],x:0,y:0,w:c,h});this.paintInlineImageXObjectGroup(t,l,d)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:n,height:s}=t,o=this.cachedCanvases.getCanvas("inlineImage",n,s),l=o.context;return l.filter=this.current.transferMaps,l.drawImage(e,0,0),l.filter="none",o.canvas}paintInlineImageXObject(t,e){if(!this.contentVisible)return;const n=e.width,s=e.height,o=this.ctx;this.save(t);const{filter:l}=o;l!=="none"&&l!==""&&(o.filter="none"),o.scale(1/n,-1/s);let c;if(e.bitmap)c=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)c=e;else{const p=this.cachedCanvases.getCanvas("inlineImage",n,s).context;$x(p,e),c=this.applyTransferMapsToCanvas(p)}const h=this._scaleImage(c,Rs(o));o.imageSmoothingEnabled=Kx(Ve(o),e.interpolate),this.dependencyTracker?.resetBBox(t).recordBBox(t,o,0,n,-s,0).recordDependencies(t,Ji.imageXObject).recordOperation(t),Nd(o,h.img,0,0,h.paintWidth,h.paintHeight,0,-s,n,s),this.compose(),this.restore(t)}paintInlineImageXObjectGroup(t,e,n){if(!this.contentVisible)return;const s=this.ctx;let o;if(e.bitmap)o=e.bitmap;else{const l=e.width,c=e.height,d=this.cachedCanvases.getCanvas("inlineImage",l,c).context;$x(d,e),o=this.applyTransferMapsToCanvas(d)}this.dependencyTracker?.resetBBox(t);for(const l of n)s.save(),s.transform(...l.transform),s.scale(1,-1),Nd(s,o,l.x,l.y,l.w,l.h,0,-1,1,1),this.dependencyTracker?.recordBBox(t,s,0,1,-1,0),s.restore();this.dependencyTracker?.recordOperation(t),this.compose()}paintSolidColorImageMask(t){this.contentVisible&&(this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,0,1,0,1).recordDependencies(t,Ji.fill).recordOperation(t),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t,e){}markPointProps(t,e,n){}beginMarkedContent(t,e){this.dependencyTracker?.beginMarkedContent(t),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e,n){this.dependencyTracker?.beginMarkedContent(t),e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(t){this.dependencyTracker?.endMarkedContent(t),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(t){}endCompat(t){}consumePath(t,e,n){const s=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const o=this.ctx;this.pendingClip?(s||(this.pendingClip===Qx?o.clip(e,"evenodd"):o.clip(e)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(t).recordFutureForcedDependency("clipPath",t)):this.dependencyTracker?.recordOperation(t),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Ve(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),s=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,s)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:n,c:s,d:o}=this.ctx.getTransform();let l,c;if(n===0&&s===0){const h=Math.abs(e),d=Math.abs(o);if(h===d)if(t===0)l=c=1/h;else{const p=h*t;l=c=p<1?1/p:1}else if(t===0)l=1/h,c=1/d;else{const p=h*t,g=d*t;l=p<1?1/p:1,c=g<1?1/g:1}}else{const h=Math.abs(e*o-n*s),d=Math.hypot(e,n),p=Math.hypot(s,o);if(t===0)l=p/h,c=d/h;else{const g=t*h;l=p>g?p/g:1,c=d>g?d/g:1}}this._cachedScaleForStroking[0]=l,this._cachedScaleForStroking[1]=c}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:n,current:{lineWidth:s}}=this,[o,l]=this.getScaleForStroking();if(o===l){n.lineWidth=(s||1)*o,n.stroke(t);return}const c=n.getLineDash();e&&n.save(),n.scale(o,l),Gm.a=1/o,Gm.d=1/l;const h=new Path2D;if(h.addPath(t,Gm),c.length>0){const d=Math.max(o,l);n.setLineDash(c.map(p=>p/d)),n.lineDashOffset/=d}n.lineWidth=s||1,n.stroke(h),e&&n.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const a in Vl)Rl.prototype[a]!==void 0&&(Rl.prototype[Vl[a]]=Rl.prototype[a]);class Dl{#t;#e;#i;static strings=["fontFamily","fontWeight","italicAngle"];static write(t){const e=new TextEncoder,n={};let s=0;for(const d of Dl.strings){const p=e.encode(t[d]);n[d]=p,s+=4+p.length}const o=new ArrayBuffer(s),l=new Uint8Array(o),c=new DataView(o);let h=0;for(const d of Dl.strings){const p=n[d],g=p.length;c.setUint32(h,g),l.set(p,h+4),h+=4+g}return oe(h===o.byteLength,"CssFontInfo.write: Buffer overflow"),o}constructor(t){this.#t=t,this.#e=new DataView(this.#t),this.#i=new TextDecoder}#n(t){oe(t<Dl.strings.length,"Invalid string index");let e=0;for(let s=0;s<t;s++)e+=this.#e.getUint32(e)+4;const n=this.#e.getUint32(e);return this.#i.decode(new Uint8Array(this.#t,e+4,n))}get fontFamily(){return this.#n(0)}get fontWeight(){return this.#n(1)}get italicAngle(){return this.#n(2)}}class Ol{#t;#e;#i;static strings=["css","loadedName","baseFontName","src"];static write(t){const e=new TextEncoder,n={};let s=0;for(const v of Ol.strings){const m=e.encode(t[v]);n[v]=m,s+=4+m.length}s+=4;let o,l,c=1+s;t.style&&(o=e.encode(t.style.style),l=e.encode(t.style.weight),c+=4+o.length+4+l.length);const h=new ArrayBuffer(c),d=new Uint8Array(h),p=new DataView(h);let g=0;p.setUint8(g++,t.guessFallback?1:0),p.setUint32(g,0),g+=4,s=0;for(const v of Ol.strings){const m=n[v],w=m.length;s+=4+w,p.setUint32(g,w),d.set(m,g+4),g+=4+w}return p.setUint32(g-s-4,s),t.style&&(p.setUint32(g,o.length),d.set(o,g+4),g+=4+o.length,p.setUint32(g,l.length),d.set(l,g+4),g+=4+l.length),oe(g<=h.byteLength,"SubstitionInfo.write: Buffer overflow"),h.transferToFixedLength(g)}constructor(t){this.#t=t,this.#e=new DataView(this.#t),this.#i=new TextDecoder}get guessFallback(){return this.#e.getUint8(0)!==0}#n(t){oe(t<Ol.strings.length,"Invalid string index");let e=5;for(let s=0;s<t;s++)e+=this.#e.getUint32(e)+4;const n=this.#e.getUint32(e);return this.#i.decode(new Uint8Array(this.#t,e+4,n))}get css(){return this.#n(0)}get loadedName(){return this.#n(1)}get baseFontName(){return this.#n(2)}get src(){return this.#n(3)}get style(){let t=1;t+=4+this.#e.getUint32(t);const e=this.#e.getUint32(t),n=this.#i.decode(new Uint8Array(this.#t,t+4,e));t+=4+e;const s=this.#e.getUint32(t),o=this.#i.decode(new Uint8Array(this.#t,t+4,s));return{style:n,weight:o}}}class xe{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#t=Math.ceil(this.bools.length*2/8);static#e=this.#t+this.numbers.length*8;static#i=this.#e+1+8;static#n=this.#i+1+48;static#a=this.#n+1+6;#s;#r;#o;constructor({data:t,extra:e}){this.#s=t,this.#r=new TextDecoder,this.#o=new DataView(this.#s),e&&Object.assign(this,e)}#c(t){oe(t<xe.bools.length,"Invalid boolean index");const e=Math.floor(t/4),n=t*2%8,s=this.#o.getUint8(e)>>n&3;return s===0?void 0:s===2}get black(){return this.#c(0)}get bold(){return this.#c(1)}get disableFontFace(){return this.#c(2)}get fontExtraProperties(){return this.#c(3)}get isInvalidPDFjsFont(){return this.#c(4)}get isType3Font(){return this.#c(5)}get italic(){return this.#c(6)}get missingFile(){return this.#c(7)}get remeasure(){return this.#c(8)}get vertical(){return this.#c(9)}#l(t){return oe(t<xe.numbers.length,"Invalid number index"),this.#o.getFloat64(xe.#t+t*8)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let t=xe.#e;if(this.#o.getUint8(t)===0)return;t+=1;const n=[];for(let s=0;s<4;s++)n.push(this.#o.getInt16(t,!0)),t+=2;return n}get fontMatrix(){let t=xe.#i;if(this.#o.getUint8(t)===0)return;t+=1;const n=[];for(let s=0;s<6;s++)n.push(this.#o.getFloat64(t,!0)),t+=8;return n}get defaultVMetrics(){let t=xe.#n;if(this.#o.getUint8(t)===0)return;t+=1;const n=[];for(let s=0;s<3;s++)n.push(this.#o.getInt16(t,!0)),t+=2;return n}#d(t){oe(t<xe.strings.length,"Invalid string index");let e=xe.#a+4;for(let o=0;o<t;o++)e+=this.#o.getUint32(e)+4;const n=this.#o.getUint32(e),s=new Uint8Array(n);return s.set(new Uint8Array(this.#s,e+4,n)),this.#r.decode(s)}get fallbackName(){return this.#d(0)}get loadedName(){return this.#d(1)}get mimetype(){return this.#d(2)}get name(){return this.#d(3)}get data(){let t=xe.#a;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);t+=4+n;const s=this.#o.getUint32(t);t+=4+s;const o=this.#o.getUint32(t);if(o!==0)return new Uint8Array(this.#s,t+4,o)}clearData(){let t=xe.#a;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);t+=4+n;const s=this.#o.getUint32(t);t+=4+s;const o=this.#o.getUint32(t);new Uint8Array(this.#s,t+4,o).fill(0),this.#o.setUint32(t,0)}get cssFontInfo(){let t=xe.#a;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);t+=4+n;const s=this.#o.getUint32(t);if(s===0)return null;const o=new Uint8Array(s);return o.set(new Uint8Array(this.#s,t+4,s)),new Dl(o.buffer)}get systemFontInfo(){let t=xe.#a;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);if(n===0)return null;const s=new Uint8Array(n);return s.set(new Uint8Array(this.#s,t+4,n)),new Ol(s.buffer)}static write(t){const e=t.systemFontInfo?Ol.write(t.systemFontInfo):null,n=t.cssFontInfo?Dl.write(t.cssFontInfo):null,s=new TextEncoder,o={};let l=0;for(const _ of xe.strings)o[_]=s.encode(t[_]),l+=4+o[_].length;const c=xe.#a+4+l+4+(e?e.byteLength:0)+4+(n?n.byteLength:0)+4+(t.data?t.data.length:0),h=new ArrayBuffer(c),d=new Uint8Array(h),p=new DataView(h);let g=0;const v=xe.bools.length;let m=0,w=0;for(let _=0;_<v;_++){const S=t[xe.bools[_]];m|=(S===void 0?0:S?2:1)<<w,w+=2,(w===8||_===v-1)&&(p.setUint8(g++,m),m=0,w=0)}oe(g===xe.#t,"FontInfo.write: Boolean properties offset mismatch");for(const _ of xe.numbers)p.setFloat64(g,t[_]),g+=8;if(oe(g===xe.#e,"FontInfo.write: Number properties offset mismatch"),t.bbox){p.setUint8(g++,4);for(const _ of t.bbox)p.setInt16(g,_,!0),g+=2}else p.setUint8(g++,0),g+=8;if(oe(g===xe.#i,"FontInfo.write: BBox properties offset mismatch"),t.fontMatrix){p.setUint8(g++,6);for(const _ of t.fontMatrix)p.setFloat64(g,_,!0),g+=8}else p.setUint8(g++,0),g+=48;if(oe(g===xe.#n,"FontInfo.write: FontMatrix properties offset mismatch"),t.defaultVMetrics){p.setUint8(g++,1);for(const _ of t.defaultVMetrics)p.setInt16(g,_,!0),g+=2}else p.setUint8(g++,0),g+=6;oe(g===xe.#a,"FontInfo.write: DefaultVMetrics properties offset mismatch"),p.setUint32(xe.#a,0),g+=4;for(const _ of xe.strings){const S=o[_],x=S.length;p.setUint32(g,x),d.set(S,g+4),g+=4+x}if(p.setUint32(xe.#a,g-xe.#a-4),!e)p.setUint32(g,0),g+=4;else{const _=e.byteLength;p.setUint32(g,_),oe(g+4+_<=h.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),d.set(new Uint8Array(e),g+4),g+=4+_}if(!n)p.setUint32(g,0),g+=4;else{const _=n.byteLength;p.setUint32(g,_),oe(g+4+_<=h.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),d.set(new Uint8Array(n),g+4),g+=4+_}return t.data===void 0?(p.setUint32(g,0),g+=4):(p.setUint32(g,t.data.length),d.set(t.data,g+4),g+=4+t.data.length),oe(g<=h.byteLength,"FontInfo.write: Buffer overflow"),h.transferToFixedLength(g)}}class wr{static#t=null;static#e="";static get workerPort(){return this.#t}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#t=t}static get workerSrc(){return this.#e}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#e=t}}class S3{#t;#e;constructor({parsedData:t,rawData:e}){this.#t=t,this.#e=e}getRaw(){return this.#e}get(t){return this.#t.get(t)??null}[Symbol.iterator](){return this.#t.entries()}}const ml=Symbol("INTERNAL");class x3{#t=!1;#e=!1;#i=!1;#n=!0;constructor(t,{name:e,intent:n,usage:s,rbGroups:o}){this.#t=!!(t&Ei.DISPLAY),this.#e=!!(t&Ei.PRINT),this.name=e,this.intent=n,this.usage=s,this.rbGroups=o}get visible(){if(this.#i)return this.#n;if(!this.#n)return!1;const{print:t,view:e}=this.usage;return this.#t?e?.viewState!=="OFF":this.#e?t?.printState!=="OFF":!0}_setVisible(t,e,n=!1){t!==ml&&De("Internal method `_setVisible` called."),this.#i=n,this.#n=e}}class A3{#t=null;#e=new Map;#i=null;#n=null;constructor(t,e=Ei.DISPLAY){if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#n=t.order;for(const n of t.groups)this.#e.set(n.id,new x3(e,n));if(t.baseState==="OFF")for(const n of this.#e.values())n._setVisible(ml,!1);for(const n of t.on)this.#e.get(n)._setVisible(ml,!0);for(const n of t.off)this.#e.get(n)._setVisible(ml,!1);this.#i=this.getHash()}}#a(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let s=1;s<e;s++){const o=t[s];let l;if(Array.isArray(o))l=this.#a(o);else if(this.#e.has(o))l=this.#e.get(o).visible;else return Ht(`Optional content group not found: ${o}`),!0;switch(n){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return n==="And"}isVisible(t){if(this.#e.size===0)return!0;if(!t)return zf("Optional content group not defined."),!0;if(t.type==="OCG")return this.#e.has(t.id)?this.#e.get(t.id).visible:(Ht(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#a(t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!this.#e.has(e))return Ht(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!this.#e.has(e))return Ht(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!this.#e.has(e))return Ht(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!this.#e.has(e))return Ht(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!1}return!0}return Ht(`Unknown optional content policy ${t.policy}.`),!0}return Ht(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,n=!0){const s=this.#e.get(t);if(!s){Ht(`Optional content group not found: ${t}`);return}if(n&&e&&s.rbGroups.length)for(const o of s.rbGroups)for(const l of o)l!==t&&this.#e.get(l)?._setVisible(ml,!1,!0);s._setVisible(ml,!!e,!0),this.#t=null}setOCGState({state:t,preserveRB:e}){let n;for(const s of t){switch(s){case"ON":case"OFF":case"Toggle":n=s;continue}const o=this.#e.get(s);if(o)switch(n){case"ON":this.setVisibility(s,!0,e);break;case"OFF":this.setVisibility(s,!1,e);break;case"Toggle":this.setVisibility(s,!o.visible,e);break}}this.#t=null}get hasInitialVisibility(){return this.#i===null||this.getHash()===this.#i}getOrder(){return this.#e.size?this.#n?this.#n.slice():[...this.#e.keys()]:null}getGroup(t){return this.#e.get(t)||null}getHash(){if(this.#t!==null)return this.#t;const t=new VT;for(const[e,n]of this.#e)t.update(`${e}:${n.visible}`);return this.#t=t.hexdigest()}[Symbol.iterator](){return this.#e.entries()}}class E3{constructor(t,{disableRange:e=!1,disableStream:n=!1}){oe(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:o,progressiveDone:l,contentDispositionFilename:c}=t;if(this._queuedChunks=[],this._progressiveDone=l,this._contentDispositionFilename=c,o?.length>0){const h=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(h)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!n,this._isRangeSupported=!e,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((h,d)=>{this._onReceiveData({begin:h,chunk:d})}),t.addProgressListener((h,d)=>{this._onProgress({loaded:h,total:d})}),t.addProgressiveReadListener(h=>{this._onReceiveData({chunk:h})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const n=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const s=this._rangeReaders.some(function(o){return o._begin!==t?!1:(o._enqueue(n),!0)});oe(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){t.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){oe(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new T3(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new C3(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}}class T3{constructor(t,e,n=!1,s=null){this._stream=t,this._done=n||!1,this._filename=jf(s)?s:null,this._queuedChunks=e||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class C3{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function M3(a){let t=!0,e=n("filename\\*","i").exec(a);if(e){e=e[1];let p=c(e);return p=unescape(p),p=h(p),p=d(p),o(p)}if(e=l(a),e){const p=d(e);return o(p)}if(e=n("filename","i").exec(a),e){e=e[1];let p=c(e);return p=d(p),o(p)}function n(p,g){return new RegExp("(?:^|;)\\s*"+p+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',g)}function s(p,g){if(p){if(!/^[\x00-\xFF]+$/.test(g))return g;try{const v=new TextDecoder(p,{fatal:!0}),m=qu(g);g=v.decode(m),t=!1}catch{}}return g}function o(p){return t&&/[\x80-\xff]/.test(p)&&(p=s("utf-8",p),t&&(p=s("iso-8859-1",p))),p}function l(p){const g=[];let v;const m=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=m.exec(p))!==null;){let[,_,S,x]=v;if(_=parseInt(_,10),_ in g){if(_===0)break;continue}g[_]=[S,x]}const w=[];for(let _=0;_<g.length&&_ in g;++_){let[S,x]=g[_];x=c(x),S&&(x=unescape(x),_===0&&(x=h(x))),w.push(x)}return w.join("")}function c(p){if(p.startsWith('"')){const g=p.slice(1).split('\\"');for(let v=0;v<g.length;++v){const m=g[v].indexOf('"');m!==-1&&(g[v]=g[v].slice(0,m),g.length=v+1),g[v]=g[v].replaceAll(/\\(.)/g,"$1")}p=g.join('"')}return p}function h(p){const g=p.indexOf("'");if(g===-1)return p;const v=p.slice(0,g),w=p.slice(g+1).replace(/^[^']*'/,"");return s(v,w)}function d(p){return!p.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(p)?p:p.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(g,v,m,w){if(m==="q"||m==="Q")return w=w.replaceAll("_"," "),w=w.replaceAll(/=([0-9a-fA-F]{2})/g,function(_,S){return String.fromCharCode(parseInt(S,16))}),s(v,w);try{w=atob(w)}catch{}return s(v,w)})}return""}function ZT(a,t){const e=new Headers;if(!a||!t||typeof t!="object")return e;for(const n in t){const s=t[n];s!==void 0&&e.append(n,s)}return e}function Uf(a){return URL.parse(a)?.origin??null}function JT({responseHeaders:a,isHttp:t,rangeChunkSize:e,disableRange:n}){const s={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(a.get("Content-Length"),10);return!Number.isInteger(o)||(s.suggestedLength=o,o<=2*e)||n||!t||a.get("Accept-Ranges")!=="bytes"||(a.get("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function tC(a){const t=a.get("Content-Disposition");if(t){let e=M3(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(jf(e))return e}return null}function Zu(a,t){return new ku(`Unexpected server response (${a}) while retrieving PDF "${t}".`,a,a===404||a===0&&t.startsWith("file:"))}function eC(a){return a===200||a===206}function nC(a,t,e){return{method:"GET",headers:a,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function iC(a){return a instanceof Uint8Array?a.buffer:a instanceof ArrayBuffer?a:(Ht(`getArrayBuffer - unexpected data format: ${a}`),new Uint8Array(a).buffer)}class R3{_responseOrigin=null;constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=ZT(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return oe(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new D3(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new O3(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class D3{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const n=new Headers(t.headers),s=e.url;fetch(s,nC(n,this._withCredentials,this._abortController)).then(o=>{if(t._responseOrigin=Uf(o.url),!eC(o.status))throw Zu(o.status,s);this._reader=o.body.getReader(),this._headersCapability.resolve();const l=o.headers,{allowRangeRequests:c,suggestedLength:h}=JT({responseHeaders:l,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=h||this._contentLength,this._filename=tC(l),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Cr("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:iC(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class O3{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const s=t.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController;const o=new Headers(t.headers);o.append("Range",`bytes=${e}-${n-1}`);const l=s.url;fetch(l,nC(o,this._withCredentials,this._abortController)).then(c=>{const h=Uf(c.url);if(h!==t._responseOrigin)throw new Error(`Expected range response-origin "${h}" to match "${t._responseOrigin}".`);if(!eC(c.status))throw Zu(c.status,l);this._readCapability.resolve(),this._reader=c.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:iC(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}const Vm=200,Ym=206;function k3(a){const t=a.response;return typeof t!="string"?t:qu(t).buffer}class N3{_responseOrigin=null;constructor({url:t,httpHeaders:e,withCredentials:n}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=ZT(this.isHttp,e),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,s=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[o,l]of this.headers)e.setRequestHeader(o,l);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),s.expectedStatus=Ym):s.expectedStatus=Vm,e.responseType="arraybuffer",oe(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),s.onHeadersReceived=t.onHeadersReceived,s.onDone=t.onDone,s.onError=t.onError,s.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){const n=this.pendingRequests[t];n&&n.onProgress?.(e)}onStateChange(t,e){const n=this.pendingRequests[t];if(!n)return;const s=n.xhr;if(s.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),s.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],s.status===0&&this.isHttp){n.onError(s.status);return}const o=s.status||Vm;if(!(o===Vm&&n.expectedStatus===Ym)&&o!==n.expectedStatus){n.onError(s.status);return}const c=k3(s);if(o===Ym){const h=s.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);d?n.onDone({begin:parseInt(d[1],10),chunk:c}):(Ht('Missing or invalid "Content-Range" header.'),n.onError(0))}else c?n.onDone({begin:0,chunk:c}):n.onError(s.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class L3{constructor(t){this._source=t,this._manager=new N3(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return oe(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new P3(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new B3(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class P3{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=Uf(e.responseURL);const n=e.getAllResponseHeaders(),s=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(c=>{const[h,...d]=c.split(": ");return[h,d.join(": ")]}):[]),{allowRangeRequests:o,suggestedLength:l}=JT({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});o&&(this._isRangeSupported=!0),this._contentLength=l||this._contentLength,this._filename=tC(s),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=Zu(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class B3{constructor(t,e,n){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const t=Uf(this._manager.getRequestXhr(this._requestId)?.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??=Zu(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const I3=/^[a-z][a-z0-9\-+.]+:/i;function z3(a){if(I3.test(a))return new URL(a);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(a))}class F3{constructor(t){this.source=t,this.url=z3(t.url),oe(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return oe(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new j3(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new U3(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class j3{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=Zu(0,this._url.href)),this._storedError=s,this._headersCapability.reject(s)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Cr("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class U3{constructor(t,e,n){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const s=t.source;this._isStreamingSupported=!s.disableStream;const o=process.getBuiltinModule("fs");this._setReadableStream(o.createReadStream(this._url,{start:e,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const qc=Symbol("INITIAL_DATA");class sC{#t=Object.create(null);#e(t){return this.#t[t]||={...Promise.withResolvers(),data:qc}}get(t,e=null){if(e){const s=this.#e(t);return s.promise.then(()=>e(s.data)),null}const n=this.#t[t];if(!n||n.data===qc)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){const e=this.#t[t];return!!e&&e.data!==qc}delete(t){const e=this.#t[t];return!e||e.data===qc?!1:(delete this.#t[t],!0)}resolve(t,e=null){const n=this.#e(t);n.data=e,n.resolve()}clear(){for(const t in this.#t){const{data:e}=this.#t[t];e?.bitmap?.close()}this.#t=Object.create(null)}*[Symbol.iterator](){for(const t in this.#t){const{data:e}=this.#t[t];e!==qc&&(yield[t,e])}}}const H3=1e5,Zx=30;let Lu=class ts{#t=Promise.withResolvers();#e=null;#i=!1;#n=!!globalThis.FontInspector?.enabled;#a=null;#s=null;#r=0;#o=0;#c=null;#l=null;#d=0;#h=0;#f=Object.create(null);#m=[];#p=null;#u=[];#g=new WeakMap;#y=null;static#b=new Map;static#v=new Map;static#E=new WeakMap;static#x=null;static#_=new Set;constructor({textContentSource:t,container:e,viewport:n}){if(t instanceof ReadableStream)this.#p=t;else if(typeof t=="object")this.#p=new ReadableStream({start(h){h.enqueue(t),h.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#e=this.#l=e,this.#h=n.scale*ws.pixelRatio,this.#d=n.rotation,this.#s={div:null,properties:null,ctx:null};const{pageWidth:s,pageHeight:o,pageX:l,pageY:c}=n.rawDims;this.#y=[1,0,0,-1,-l,c+o],this.#o=s,this.#r=o,ts.#R(),ba(e,n),this.#t.promise.finally(()=>{ts.#_.delete(this),this.#s=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=Cn.platform;return Xt(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{this.#c.read().then(({value:e,done:n})=>{if(n){this.#t.resolve();return}this.#a??=e.lang,Object.assign(this.#f,e.styles),this.#C(e.items),t()},this.#t.reject)};return this.#c=this.#p.getReader(),ts.#_.add(this),t(),this.#t.promise}update({viewport:t,onBefore:e=null}){const n=t.scale*ws.pixelRatio,s=t.rotation;if(s!==this.#d&&(e?.(),this.#d=s,ba(this.#l,{rotation:s})),n!==this.#h){e?.(),this.#h=n;const o={div:null,properties:null,ctx:ts.#D(this.#a)};for(const l of this.#u)o.properties=this.#g.get(l),o.div=l,this.#A(o)}}cancel(){const t=new Cr("TextLayer task cancelled.");this.#c?.cancel(t).catch(()=>{}),this.#c=null,this.#t.reject(t)}get textDivs(){return this.#u}get textContentItemsStr(){return this.#m}#C(t){if(this.#i)return;this.#s.ctx??=ts.#D(this.#a);const e=this.#u,n=this.#m;for(const s of t){if(e.length>H3){Ht("Ignoring additional textDivs for performance reasons."),this.#i=!0;return}if(s.str===void 0){if(s.type==="beginMarkedContentProps"||s.type==="beginMarkedContent"){const o=this.#e;this.#e=document.createElement("span"),this.#e.classList.add("markedContent"),s.id&&this.#e.setAttribute("id",`${s.id}`),o.append(this.#e)}else s.type==="endMarkedContent"&&(this.#e=this.#e.parentNode);continue}n.push(s.str),this.#S(s)}}#S(t){const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#u.push(e);const s=St.transform(this.#y,t.transform);let o=Math.atan2(s[1],s[0]);const l=this.#f[t.fontName];l.vertical&&(o+=Math.PI/2);let c=this.#n&&l.fontSubstitution||l.fontFamily;c=ts.fontFamilyMap.get(c)||c;const h=Math.hypot(s[2],s[3]),d=h*ts.#I(c,l,this.#a);let p,g;o===0?(p=s[4],g=s[5]-d):(p=s[4]+d*Math.sin(o),g=s[5]-d*Math.cos(o));const v="calc(var(--total-scale-factor) *",m=e.style;this.#e===this.#l?(m.left=`${(100*p/this.#o).toFixed(2)}%`,m.top=`${(100*g/this.#r).toFixed(2)}%`):(m.left=`${v}${p.toFixed(2)}px)`,m.top=`${v}${g.toFixed(2)}px)`),m.fontSize=`${v}${(ts.#x*h).toFixed(2)}px)`,m.fontFamily=c,n.fontSize=h,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,this.#n&&(e.dataset.fontName=l.fontSubstitutionLoadedName||t.fontName),o!==0&&(n.angle=o*(180/Math.PI));let w=!1;if(t.str.length>1)w=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const _=Math.abs(t.transform[0]),S=Math.abs(t.transform[3]);_!==S&&Math.max(_,S)/Math.min(_,S)>1.5&&(w=!0)}if(w&&(n.canvasWidth=l.vertical?t.height:t.width),this.#g.set(e,n),this.#s.div=e,this.#s.properties=n,this.#A(this.#s),n.hasText&&this.#e.append(e),n.hasEOL){const _=document.createElement("br");_.setAttribute("role","presentation"),this.#e.append(_)}}#A(t){const{div:e,properties:n,ctx:s}=t,{style:o}=e;let l="";if(ts.#x>1&&(l=`scale(${1/ts.#x})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:c}=o,{canvasWidth:h,fontSize:d}=n;ts.#M(s,d*this.#h,c);const{width:p}=s.measureText(e.textContent);p>0&&(l=`scaleX(${h*this.#h/p}) ${l}`)}n.angle!==0&&(l=`rotate(${n.angle}deg) ${l}`),l.length>0&&(o.transform=l)}static cleanup(){if(!(this.#_.size>0)){this.#b.clear();for(const{canvas:t}of this.#v.values())t.remove();this.#v.clear()}}static#D(t=null){let e=this.#v.get(t||="");if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#v.set(t,e),this.#E.set(e,{size:0,family:""})}return e}static#M(t,e,n){const s=this.#E.get(t);e===s.size&&n===s.family||(t.font=`${e}px ${n}`,s.size=e,s.family=n)}static#R(){if(this.#x!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#x=t.getBoundingClientRect().height,t.remove()}static#I(t,e,n){const s=this.#b.get(t);if(s)return s;const o=this.#D(n);o.canvas.width=o.canvas.height=Zx,this.#M(o,Zx,t);const l=o.measureText(""),c=l.fontBoundingBoxAscent,h=Math.abs(l.fontBoundingBoxDescent);o.canvas.width=o.canvas.height=0;let d=.8;return c?d=c/(c+h):(Cn.platform.isFirefox&&Ht("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?d=e.ascent:e.descent&&(d=1+e.descent)),this.#b.set(t,d),d}};const G3=100;function qv(a={}){typeof a=="string"||a instanceof URL?a={url:a}:(a instanceof ArrayBuffer||ArrayBuffer.isView(a))&&(a={data:a});const t=new $v,{docId:e}=t,n=a.url?QI(a.url):null,s=a.data?ZI(a.data):null,o=a.httpHeaders||null,l=a.withCredentials===!0,c=a.password??null,h=a.range instanceof Wv?a.range:null,d=Number.isInteger(a.rangeChunkSize)&&a.rangeChunkSize>0?a.rangeChunkSize:2**16;let p=a.worker instanceof Yl?a.worker:null;const g=a.verbosity,v=typeof a.docBaseUrl=="string"&&!Wu(a.docBaseUrl)?a.docBaseUrl:null,m=Rd(a.cMapUrl),w=a.cMapPacked!==!1,_=a.CMapReaderFactory||(Kn?r3:zx),S=Rd(a.iccUrl),x=Rd(a.standardFontDataUrl),T=a.StandardFontDataFactory||(Kn?a3:Fx),C=Rd(a.wasmUrl),D=a.WasmFactory||(Kn?o3:jx),R=a.stopAtErrors!==!0,P=Number.isInteger(a.maxImageSize)&&a.maxImageSize>-1?a.maxImageSize:-1,O=a.isEvalSupported!==!1,L=typeof a.isOffscreenCanvasSupported=="boolean"?a.isOffscreenCanvasSupported:!Kn,F=typeof a.isImageDecoderSupported=="boolean"?a.isImageDecoderSupported:!Kn&&(Cn.platform.isFirefox||!globalThis.chrome),X=Number.isInteger(a.canvasMaxAreaInBytes)?a.canvasMaxAreaInBytes:-1,G=typeof a.disableFontFace=="boolean"?a.disableFontFace:Kn,rt=a.fontExtraProperties===!0,tt=a.enableXfa===!0,W=a.ownerDocument||globalThis.document,$=a.disableRange===!0,k=a.disableStream===!0,z=a.disableAutoFetch===!0,I=a.pdfBug===!0,Q=a.CanvasFactory||(Kn?s3:e3),ot=a.FilterFactory||(Kn?i3:n3),B=a.enableHWA===!0,j=a.useWasm!==!1,K=h?h.length:a.length??NaN,nt=typeof a.useSystemFonts=="boolean"?a.useSystemFonts:!Kn&&!G,pt=typeof a.useWorkerFetch=="boolean"?a.useWorkerFetch:!!(_===zx&&T===Fx&&D===jx&&m&&x&&C&&iu(m,document.baseURI)&&iu(x,document.baseURI)&&iu(C,document.baseURI)),gt=null;kI(g);const ct={canvasFactory:new Q({ownerDocument:W,enableHWA:B}),filterFactory:new ot({docId:e,ownerDocument:W}),cMapReaderFactory:pt?null:new _({baseUrl:m,isCompressed:w}),standardFontDataFactory:pt?null:new T({baseUrl:x}),wasmFactory:pt?null:new D({baseUrl:C})};p||(p=Yl.create({verbosity:g,port:wr.workerPort}),t._worker=p);const Et={docId:e,apiVersion:"5.4.296",data:s,password:c,disableAutoFetch:z,rangeChunkSize:d,length:K,docBaseUrl:v,enableXfa:tt,evaluatorOptions:{maxImageSize:P,disableFontFace:G,ignoreErrors:R,isEvalSupported:O,isOffscreenCanvasSupported:L,isImageDecoderSupported:F,canvasMaxAreaInBytes:X,fontExtraProperties:rt,useSystemFonts:nt,useWasm:j,useWorkerFetch:pt,cMapUrl:m,iccUrl:S,standardFontDataUrl:x,wasmUrl:C}},Tt={ownerDocument:W,pdfBug:I,styleElement:gt,loadingParams:{disableAutoFetch:z,enableXfa:tt}};return p.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const bt=p.messageHandler.sendWithPromise("GetDocRequest",Et,s?[s.buffer]:null);let Ft;if(h)Ft=new E3(h,{disableRange:$,disableStream:k});else if(!s){if(!n)throw new Error("getDocument - no `url` parameter provided.");const zt=iu(n)?R3:Kn?F3:L3;Ft=new zt({url:n,length:K,httpHeaders:o,withCredentials:l,rangeChunkSize:d,disableRange:$,disableStream:k})}return bt.then(zt=>{if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const Ot=new su(e,zt,p.port),kt=new X3(Ot,t,Ft,Tt,ct,B);t._transport=kt,Ot.send("Ready",null)})}).catch(t._capability.reject),t}class $v{static#t=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${$v.#t++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}let Wv=class{#t=Promise.withResolvers();#e=[];#i=[];#n=[];#a=[];constructor(t,e,n=!1,s=null){this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=s}addRangeListener(t){this.#a.push(t)}addProgressListener(t){this.#n.push(t)}addProgressiveReadListener(t){this.#i.push(t)}addProgressiveDoneListener(t){this.#e.push(t)}onDataRange(t,e){for(const n of this.#a)n(t,e)}onDataProgress(t,e){this.#t.promise.then(()=>{for(const n of this.#n)n(t,e)})}onDataProgressiveRead(t){this.#t.promise.then(()=>{for(const e of this.#i)e(t)})}onDataProgressiveDone(){this.#t.promise.then(()=>{for(const t of this.#e)t()})}transportReady(){this.#t.resolve()}requestDataRange(t,e){De("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class V3{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Xt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(t,e){return this._transport.getAnnotationsByType(t,e)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class Y3{#t=!1;constructor(t,e,n,s=!1){this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=s?new Ox:null,this._pdfBug=s,this.commonObjs=n.commonObjs,this.objs=new sC,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:s=0,dontFlip:o=!1}={}){return new $u({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:s,dontFlip:o})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Xt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,canvas:e=t.canvas,viewport:n,intent:s="display",annotationMode:o=zs.ENABLE,transform:l=null,background:c=null,optionalContentConfigPromise:h=null,annotationCanvasMap:d=null,pageColors:p=null,printAnnotationStorage:g=null,isEditing:v=!1,recordOperations:m=!1,operationsFilter:w=null}){this._stats?.time("Overall");const _=this._transport.getRenderingIntent(s,o,g,v),{renderingIntent:S,cacheKey:x}=_;this.#t=!1,h||=this._transport.getOptionalContentConfig(S);let T=this._intentStates.get(x);T||(T=Object.create(null),this._intentStates.set(x,T)),T.streamReaderCancelTimeout&&(clearTimeout(T.streamReaderCancelTimeout),T.streamReaderCancelTimeout=null);const C=!!(S&Ei.PRINT);T.displayReadyCapability||(T.displayReadyCapability=Promise.withResolvers(),T.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(_));const D=!!(this._pdfBug&&globalThis.StepperManager?.enabled),R=!this.recordedBBoxes&&(m||D),P=F=>{if(T.renderTasks.delete(O),R){const X=O.gfx?.dependencyTracker.take();X&&(O.stepper&&O.stepper.setOperatorBBoxes(X,O.gfx.dependencyTracker.takeDebugMetadata()),m&&(this.recordedBBoxes=X))}C&&(this.#t=!0),this.#e(),F?(O.capability.reject(F),this._abortOperatorList({intentState:T,reason:F instanceof Error?F:new Error(F)})):O.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},O=new _l({callback:P,params:{canvas:e,canvasContext:t,dependencyTracker:R?new c3(e,T.operatorList.length,D):null,viewport:n,transform:l,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:T.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!C,pdfBug:this._pdfBug,pageColors:p,enableHWA:this._transport.enableHWA,operationsFilter:w});(T.renderTasks||=new Set).add(O);const L=O.task;return Promise.all([T.displayReadyCapability.promise,h]).then(([F,X])=>{if(this.destroyed){P();return}if(this._stats?.time("Rendering"),!(X.renderingIntent&S))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");O.initializeGraphics({transparency:F,optionalContentConfig:X}),O.operatorListChanged()}).catch(P),L}getOperatorList({intent:t="display",annotationMode:e=zs.ENABLE,printAnnotationStorage:n=null,isEditing:s=!1}={}){function o(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(h))}const l=this._transport.getRenderingIntent(t,e,n,s,!0);let c=this._intentStates.get(l.cacheKey);c||(c=Object.create(null),this._intentStates.set(l.cacheKey,c));let h;return c.opListReadCapability||(h=Object.create(null),h.operatorListChanged=o,c.opListReadCapability=Promise.withResolvers(),(c.renderTasks||=new Set).add(h),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(l)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Nu.textContent(n));const e=this.streamTextContent(t);return new Promise(function(n,s){function o(){l.read().then(function({value:h,done:d}){if(d){n(c);return}c.lang??=h.lang,Object.assign(c.styles,h.styles),c.items.push(...h.items),o()},s)}const l=e.getReader(),c={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),this.#t=!1,Promise.all(t)}cleanup(t=!1){this.#t=!0;const e=this.#e();return t&&e&&(this._stats&&=new Ox),e}#e(){if(!this.#t||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}_startRenderPage(t,e){const n=this._intentStates.get(e);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(t))}_renderPageChunk(t,e){for(let n=0,s=t.length;n<s;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&this.#e()}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:n,modifiedIds:s}){const{map:o,transfer:l}=n,h=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:o,modifiedIds:s},l).getReader(),d=this._intentStates.get(e);d.streamReader=h;const p=()=>{h.read().then(({value:g,done:v})=>{if(v){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(g,d),p())},g=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(const v of d.renderTasks)v.operatorListChanged();this.#e()}if(d.displayReadyCapability)d.displayReadyCapability.reject(g);else if(d.opListReadCapability)d.opListReadCapability.reject(g);else throw g}})};p()}_abortOperatorList({intentState:t,reason:e,force:n=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!n){if(t.renderTasks.size>0)return;if(e instanceof Ff){let s=G3;e.extraDelay>0&&e.extraDelay<1e3&&(s+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},s);return}}if(t.streamReader.cancel(new Cr(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[s,o]of this._intentStates)if(o===t){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}var aa,ps,vr,eo,bf,no,io,Zn,qd,rC,aC,ru,Ll,$d;const Ue=class Ue{constructor({name:t=null,port:e=null,verbosity:n=NI()}={}){Cs(this,Zn);Cs(this,aa,Promise.withResolvers());Cs(this,ps,null);Cs(this,vr,null);Cs(this,eo,null);if(this.name=t,this.destroyed=!1,this.verbosity=n,e){if(je(Ue,io).has(e))throw new Error("Cannot use more than one PDFWorker per port.");je(Ue,io).set(e,this),Ms(this,Zn,rC).call(this,e)}else Ms(this,Zn,aC).call(this)}get promise(){return je(this,aa).promise}get port(){return je(this,vr)}get messageHandler(){return je(this,ps)}destroy(){this.destroyed=!0,je(this,eo)?.terminate(),oi(this,eo,null),je(Ue,io).delete(je(this,vr)),oi(this,vr,null),je(this,ps)?.destroy(),oi(this,ps,null)}static create(t){const e=je(this,io).get(t?.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new Ue(t)}static get workerSrc(){if(wr.workerSrc)return wr.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Xt(this,"_setupFakeWorkerGlobal",(async()=>je(this,Ll,$d)?je(this,Ll,$d):(await import(this.workerSrc)).WorkerMessageHandler)())}};aa=new WeakMap,ps=new WeakMap,vr=new WeakMap,eo=new WeakMap,bf=new WeakMap,no=new WeakMap,io=new WeakMap,Zn=new WeakSet,qd=function(){je(this,aa).resolve(),je(this,ps).send("configure",{verbosity:this.verbosity})},rC=function(t){oi(this,vr,t),oi(this,ps,new su("main","worker",t)),je(this,ps).on("ready",()=>{}),Ms(this,Zn,qd).call(this)},aC=function(){if(je(Ue,no)||je(Ue,Ll,$d)){Ms(this,Zn,ru).call(this);return}let{workerSrc:t}=Ue;try{Ue._isSameOrigin(window.location,t)||(t=Ue._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new su("main","worker",e),s=()=>{o.abort(),n.destroy(),e.terminate(),this.destroyed?je(this,aa).reject(new Error("Worker was destroyed")):Ms(this,Zn,ru).call(this)},o=new AbortController;e.addEventListener("error",()=>{je(this,eo)||s()},{signal:o.signal}),n.on("test",c=>{if(o.abort(),this.destroyed||!c){s();return}oi(this,ps,n),oi(this,vr,e),oi(this,eo,e),Ms(this,Zn,qd).call(this)}),n.on("ready",c=>{if(o.abort(),this.destroyed){s();return}try{l()}catch{Ms(this,Zn,ru).call(this)}});const l=()=>{const c=new Uint8Array;n.send("test",c,[c.buffer])};l();return}catch{zf("The worker has been disabled.")}Ms(this,Zn,ru).call(this)},ru=function(){je(Ue,no)||(Ht("Setting up fake worker."),oi(Ue,no,!0)),Ue._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){je(this,aa).reject(new Error("Worker was destroyed"));return}const e=new t3;oi(this,vr,e);const n=`fake${Vw(Ue,bf)._++}`,s=new su(n+"_worker",n,e);t.setup(s,e),oi(this,ps,new su(n,n+"_worker",e)),Ms(this,Zn,qd).call(this)}).catch(t=>{je(this,aa).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},Ll=new WeakSet,$d=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},Cs(Ue,Ll),Cs(Ue,bf,0),Cs(Ue,no,!1),Cs(Ue,io,new WeakMap),Kn&&(oi(Ue,no,!0),wr.workerSrc||="./pdf.worker.mjs"),Ue._isSameOrigin=(t,e)=>{const n=URL.parse(t);if(!n?.origin||n.origin==="null")return!1;const s=new URL(e,n);return n.origin===s.origin},Ue._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},Ue.fromPort=t=>{if(HI("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return Ue.create(t)};let Yl=Ue;class X3{#t=new Map;#e=new Map;#i=new Map;#n=new Map;#a=null;constructor(t,e,n,s,o,l){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new sC,this.fontLoader=new WI({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.wasmFactory=o.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=l,this.setupMessageHandler()}#s(t,e=null){const n=this.#t.get(t);if(n)return n;const s=this.messageHandler.sendWithPromise(t,e);return this.#t.set(t,s),s}get annotationStorage(){return Xt(this,"annotationStorage",new Gv)}getRenderingIntent(t,e=zs.ENABLE,n=null,s=!1,o=!1){let l=Ei.DISPLAY,c=By;switch(t){case"any":l=Ei.ANY;break;case"display":break;case"print":l=Ei.PRINT;break;default:Ht(`getRenderingIntent - invalid intent: ${t}`)}const h=l&Ei.PRINT&&n instanceof YT?n:this.annotationStorage;switch(e){case zs.DISABLE:l+=Ei.ANNOTATIONS_DISABLE;break;case zs.ENABLE:break;case zs.ENABLE_FORMS:l+=Ei.ANNOTATIONS_FORMS;break;case zs.ENABLE_STORAGE:l+=Ei.ANNOTATIONS_STORAGE,c=h.serializable;break;default:Ht(`getRenderingIntent - invalid annotationMode: ${e}`)}s&&(l+=Ei.IS_EDITING),o&&(l+=Ei.OPLIST);const{ids:d,hash:p}=h.modifiedIds,g=[l,c.hash,p];return{renderingIntent:l,cacheKey:g.join("_"),annotationStorageSerializable:c,modifiedIds:d}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#a?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const n of this.#e.values())t.push(n._destroy());this.#e.clear(),this.#i.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),Lu.cleanup(),this._networkStream?.cancelAllRequests(new Cr("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(n,s)=>{oe(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},s.onPull=()=>{this._fullReader.read().then(function({value:o,done:l}){if(l){s.close();return}oe(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{s.error(o)})},s.onCancel=o=>{this._fullReader.cancel(o),s.ready.catch(l=>{if(!this.destroyed)throw l})}}),t.on("ReaderHeadersReady",async n=>{await this._fullReader.headersReady;const{isStreamingSupported:s,isRangeSupported:o,contentLength:l}=this._fullReader;return(!s||!o)&&(this._lastProgress&&e.onProgress?.(this._lastProgress),this._fullReader.onProgress=c=>{e.onProgress?.({loaded:c.loaded,total:c.total})}),{isStreamingSupported:s,isRangeSupported:o,contentLength:l}}),t.on("GetRangeReader",(n,s)=>{oe(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(n.begin,n.end);if(!o){s.close();return}s.onPull=()=>{o.read().then(function({value:l,done:c}){if(c){s.close();return}oe(l instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{s.error(l)})},s.onCancel=l=>{o.cancel(l),s.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new V3(n,this))}),t.on("DocException",n=>{e._capability.reject(li(n))}),t.on("PasswordRequest",n=>{this.#a=Promise.withResolvers();try{if(!e.onPassword)throw li(n);const s=o=>{o instanceof Error?this.#a.reject(o):this.#a.resolve({password:o})};e.onPassword(s,n.code)}catch(s){this.#a.reject(s)}return this.#a.promise}),t.on("DataLoaded",n=>{e.onProgress?.({loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),t.on("StartRenderPage",n=>{if(this.destroyed)return;this.#e.get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),t.on("commonobj",([n,s,o])=>{if(this.destroyed||this.commonObjs.has(n))return null;switch(s){case"Font":if("error"in o){const p=o.error;Ht(`Error during font loading: ${p}`),this.commonObjs.resolve(n,p);break}const l=new xe(o),c=this._params.pdfBug&&globalThis.FontInspector?.enabled?(p,g)=>globalThis.FontInspector.fontAdded(p,g):null,h=new KI(l,c,o.extra,o.charProcOperatorList);this.fontLoader.bind(h).catch(()=>t.sendWithPromise("FontFallback",{id:n})).finally(()=>{!h.fontExtraProperties&&h.data&&h.clearData(),this.commonObjs.resolve(n,h)});break;case"CopyLocalImage":const{imageRef:d}=o;oe(d,"The imageRef must be defined.");for(const p of this.#e.values())for(const[,g]of p.objs)if(g?.ref===d)return g.dataLen?(this.commonObjs.resolve(n,structuredClone(g)),g.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,o);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),t.on("obj",([n,s,o,l])=>{if(this.destroyed)return;const c=this.#e.get(s);if(!c.objs.has(n)){if(c._intentStates.size===0){l?.bitmap?.close();return}switch(o){case"Image":case"Pattern":c.objs.resolve(n,l);break;default:throw new Error(`Got unknown object type ${o}`)}}}),t.on("DocProgress",n=>{this.destroyed||e.onProgress?.({loaded:n.loaded,total:n.total})}),t.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const s=this[n.type];if(!s)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return s.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&Ht("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=this.#i.get(e);if(n)return n;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&this.#n.set(o.refStr,t);const l=new Y3(e,o,this,this._params.pdfBug);return this.#e.set(e,l),l});return this.#i.set(e,s),s}getPageIndex(t){return Iy(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return this.#s("GetFieldObjects")}hasJSActions(){return this.#s("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(t,e){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:t,pageIndexesToSkip:e})}getDocJSActions(){return this.#s("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#s("GetOptionalContentConfig").then(e=>new A3(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=this.#t.get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then(s=>({info:s[0],metadata:s[1]?new S3(s[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#t.set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#e.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0),Lu.cleanup()}}cachedPageNumber(t){if(!Iy(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return this.#n.get(e)??null}}class q3{#t=null;onContinue=null;onError=null;constructor(t){this.#t=t}get promise(){return this.#t.capability.promise}cancel(t=0){this.#t.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#t.operatorList;if(!t)return!1;const{annotationCanvasMap:e}=this.#t;return t.form||t.canvas&&e?.size>0}}class _l{#t=null;static#e=new WeakSet;constructor({callback:t,params:e,objs:n,commonObjs:s,annotationCanvasMap:o,operatorList:l,pageIndex:c,canvasFactory:h,filterFactory:d,useRequestAnimationFrame:p=!1,pdfBug:g=!1,pageColors:v=null,enableHWA:m=!1,operationsFilter:w=null}){this.callback=t,this.params=e,this.objs=n,this.commonObjs=s,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=c,this.canvasFactory=h,this.filterFactory=d,this._pdfBug=g,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=p===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new q3(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvas,this._canvasContext=e.canvas?null:e.canvasContext,this._enableHWA=m,this._dependencyTracker=e.dependencyTracker,this._operationsFilter=w}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if(_l.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_l.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:n,transform:s,background:o,dependencyTracker:l}=this.params,c=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Rl(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors,l),this.gfx.beginDrawing({transform:s,viewport:n,transparency:t,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,e=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=null),_l.#e.delete(this._canvas),t||=new Ff(`Rendering cancelled, page ${this._pageIndex+1}`,e),this.callback(t),this.task.onError?.(t)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#t=window.requestAnimationFrame(()=>{this.#t=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),_l.#e.delete(this._canvas),this.callback())))}}const oC="5.4.296",lC="f56dc8601";class Ti{#t=null;#e=null;#i;#n=null;#a=!1;#s=!1;#r=null;#o;#c=null;#l=null;static#d=null;static get _keyboardManager(){return Xt(this,"_keyboardManager",new Ku([[["Escape","mac+Escape"],Ti.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Ti.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Ti.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Ti.prototype._moveToPrevious],[["Home","mac+Home"],Ti.prototype._moveToBeginning],[["End","mac+End"],Ti.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:e=null}){t?(this.#s=!1,this.#r=t):this.#s=!0,this.#l=t?._uiManager||e,this.#o=this.#l._eventBus,this.#i=t?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",Ti.#d||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const t=this.#t=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",this.#r&&(t.ariaControls=`${this.#r.id}_colorpicker_dropdown`);const e=this.#l._signal;t.addEventListener("click",this.#p.bind(this),{signal:e}),t.addEventListener("keydown",this.#m.bind(this),{signal:e});const n=this.#e=document.createElement("span");return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=this.#i,t.append(n),t}renderMainDropdown(){const t=this.#n=this.#h();return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}#h(){const t=document.createElement("div"),e=this.#l._signal;t.addEventListener("contextmenu",zi,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#r&&(t.id=`${this.#r.id}_colorpicker_dropdown`);for(const[n,s]of this.#l.highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",s),o.title=n,o.setAttribute("data-l10n-id",Ti.#d[n]);const l=document.createElement("span");o.append(l),l.className="swatch",l.style.backgroundColor=s,o.ariaSelected=s===this.#i,o.addEventListener("click",this.#f.bind(this,s),{signal:e}),t.append(o)}return t.addEventListener("keydown",this.#m.bind(this),{signal:e}),t}#f(t,e){e.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:ne.HIGHLIGHT_COLOR,value:t}),this.updateColor(t)}_colorSelectFromKeyboard(t){if(t.target===this.#t){this.#p(t);return}const e=t.target.getAttribute("data-color");e&&this.#f(e,t)}_moveToNext(t){if(!this.#g){this.#p(t);return}if(t.target===this.#t){this.#n.firstChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#n?.firstChild||t.target===this.#t){this.#g&&this._hideDropdownFromKeyboard();return}this.#g||this.#p(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#g){this.#p(t);return}this.#n.firstChild?.focus()}_moveToEnd(t){if(!this.#g){this.#p(t);return}this.#n.lastChild?.focus()}#m(t){Ti._keyboardManager.exec(this,t)}#p(t){if(this.#g){this.hideDropdown();return}if(this.#a=t.detail===0,this.#c||(this.#c=new AbortController,window.addEventListener("pointerdown",this.#u.bind(this),{signal:this.#l.combinedSignal(this.#c)})),this.#t.ariaExpanded="true",this.#n){this.#n.classList.remove("hidden");return}const e=this.#n=this.#h();this.#t.append(e)}#u(t){this.#n?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#t.ariaExpanded="false",this.#c?.abort(),this.#c=null}get#g(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#s){if(!this.#g){this.#r?.unselect();return}this.hideDropdown(),this.#t.focus({preventScroll:!0,focusVisible:this.#a})}}updateColor(t){if(this.#e&&(this.#e.style.backgroundColor=t),!this.#n)return;const e=this.#l.highlightColors.values();for(const n of this.#n.children)n.ariaSelected=e.next().value===t.toUpperCase()}destroy(){this.#t?.remove(),this.#t=null,this.#e=null,this.#n?.remove(),this.#n=null}}class Pu{#t=null;#e=null;#i=null;static#n=null;constructor(t){this.#e=t,this.#i=t._uiManager,Pu.#n||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#t)return this.#t;const{editorType:t,colorType:e,colorValue:n}=this.#e,s=this.#t=document.createElement("input");return s.type="color",s.value=n||"#000000",s.className="basicColorPicker",s.tabIndex=0,s.setAttribute("data-l10n-id",Pu.#n[t]),s.addEventListener("input",()=>{this.#i.updateParams(e,s.value)},{signal:this.#i._signal}),s}update(t){this.#t&&(this.#t.value=t)}destroy(){this.#t?.remove(),this.#t=null}hideDropdown(){}}function Jx(a){return Math.floor(Math.max(0,Math.min(1,a))*255).toString(16).padStart(2,"0")}function $c(a){return Math.max(0,Math.min(255,255*a))}class tA{static CMYK_G([t,e,n,s]){return["G",1-Math.min(1,.3*t+.59*n+.11*e+s)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=$c(t),[t,t,t]}static G_HTML([t]){const e=Jx(t);return`#${e}${e}${e}`}static RGB_G([t,e,n]){return["G",.3*t+.59*e+.11*n]}static RGB_rgb(t){return t.map($c)}static RGB_HTML(t){return`#${t.map(Jx).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,n,s]){return["RGB",1-Math.min(1,t+s),1-Math.min(1,n+s),1-Math.min(1,e+s)]}static CMYK_rgb([t,e,n,s]){return[$c(1-Math.min(1,t+s)),$c(1-Math.min(1,n+s)),$c(1-Math.min(1,e+s))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,n]){const s=1-t,o=1-e,l=1-n,c=Math.min(s,o,l);return["CMYK",s,o,l,c]}}class $3{create(t,e,n=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),n||(s.setAttribute("width",`${t}px`),s.setAttribute("height",`${e}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${t} ${e}`),s}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){De("Abstract method `_createSVG` called.")}}class Bu extends $3{_createSVG(t){return document.createElementNS(pr,t)}}const W3=9,vo=new WeakSet,K3=new Date().getTimezoneOffset()*60*1e3;class eA{static create(t){switch(t.data.annotationType){case sn.LINK:return new Kv(t);case sn.TEXT:return new Z3(t);case sn.WIDGET:switch(t.data.fieldType){case"Tx":return new J3(t);case"Btn":return t.data.radioButton?new cC(t):t.data.checkBox?new ez(t):new nz(t);case"Ch":return new iz(t);case"Sig":return new tz(t)}return new Ao(t);case sn.POPUP:return new jy(t);case sn.FREETEXT:return new uC(t);case sn.LINE:return new rz(t);case sn.SQUARE:return new az(t);case sn.CIRCLE:return new oz(t);case sn.POLYLINE:return new hC(t);case sn.CARET:return new cz(t);case sn.INK:return new Qv(t);case sn.POLYGON:return new lz(t);case sn.HIGHLIGHT:return new dC(t);case sn.UNDERLINE:return new uz(t);case sn.SQUIGGLY:return new hz(t);case sn.STRIKEOUT:return new dz(t);case sn.STAMP:return new fC(t);case sn.FILEATTACHMENT:return new fz(t);default:return new $e(t)}}}class $e{#t=null;#e=!1;#i=null;constructor(t,{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:s=!1}={}){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableComment=t.enableComment,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),s&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:t,richText:e}){return!!(t?.str||e?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return $e._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:t}=this,e=this.annotationStorage?.getEditor(t.id);return e?e.getData():t}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const t=this.annotationStorage?.getEditor(this.data.id);if(t)return t.commentButtonPositionInPage;const{quadPoints:e,inkLists:n,rect:s}=this.data;let o=-1/0,l=-1/0;if(e?.length>=8){for(let c=0;c<e.length;c+=8)e[c+1]>l?(l=e[c+1],o=e[c+2]):e[c+1]===l&&(o=Math.max(o,e[c+2]));return[o,l]}if(n?.length>=1){for(const c of n)for(let h=0,d=c.length;h<d;h+=2)c[h+1]>l?(l=c[h+1],o=c[h]):c[h+1]===l&&(o=Math.max(o,c[h]));if(o!==1/0)return[o,l]}return s?[s[2],s[3]]:null}_normalizePoint(t){const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:s,pageX:o,pageY:l}}}=this.parent;return t[1]=e[3]-t[1]+e[1],t[0]=100*(t[0]-o)/n,t[1]=100*(t[1]-l)/s,t}get commentText(){const{data:t}=this;return this.annotationStorage.getRawValue(`${Ou}${t.id}`)?.popup?.contents||t.contentsObj?.str||""}set commentText(t){const{data:e}=this,n={deleted:!t,contents:t||""};this.annotationStorage.updateEditor(e.id,{popup:n})||this.annotationStorage.setValue(`${Ou}${e.id}`,{id:e.id,annotationType:e.annotationType,pageIndex:this.parent.page._pageIndex,popup:n,popupRef:e.popupRef,modificationDate:new Date}),t||this.removePopup()}removePopup(){(this.#i?.popup||this.popup)?.remove(),this.#i=this.popup=null}updateEdited(t){if(!this.container)return;t.rect&&(this.#t||={rect:this.data.rect.slice(0)});const{rect:e,popup:n}=t;e&&this.#n(e);let s=this.#i?.popup||this.popup;!s&&n?.text&&(this._createPopup(n),s=this.#i.popup),s&&(s.updateEdited(t),n?.deleted&&(s.remove(),this.#i=null,this.popup=null))}resetEdited(){this.#t&&(this.#n(this.#t.rect),this.#i?.popup.resetEdited(),this.#t=null)}#n(t){const{container:{style:e},data:{rect:n,rotation:s},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:l,pageX:c,pageY:h}}}}=this;n?.splice(0,4,...t),e.left=`${100*(t[0]-c)/o}%`,e.top=`${100*(l-t[3]+h)/l}%`,s===0?(e.width=`${100*(t[2]-t[0])/o}%`,e.height=`${100*(t[3]-t[1])/l}%`):this.setRotation(s)}_createContainer(t){const{data:e,parent:{page:n,viewport:s}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",e.id),!(this instanceof Ao)&&!(this instanceof Kv)&&(o.tabIndex=0);const{style:l}=o;if(l.zIndex=this.parent.zIndex,this.parent.zIndex+=2,e.alternativeText&&(o.title=e.alternativeText),e.noRotate&&o.classList.add("norotate"),!e.rect||this instanceof jy){const{rotation:_}=e;return!e.hasOwnCanvas&&_!==0&&this.setRotation(_,o),o}const{width:c,height:h}=this;if(!t&&e.borderStyle.width>0){l.borderWidth=`${e.borderStyle.width}px`;const _=e.borderStyle.horizontalCornerRadius,S=e.borderStyle.verticalCornerRadius;if(_>0||S>0){const T=`calc(${_}px * var(--total-scale-factor)) / calc(${S}px * var(--total-scale-factor))`;l.borderRadius=T}else if(this instanceof cC){const T=`calc(${c}px * var(--total-scale-factor)) / calc(${h}px * var(--total-scale-factor))`;l.borderRadius=T}switch(e.borderStyle.style){case gl.SOLID:l.borderStyle="solid";break;case gl.DASHED:l.borderStyle="dashed";break;case gl.BEVELED:Ht("Unimplemented border style: beveled");break;case gl.INSET:Ht("Unimplemented border style: inset");break;case gl.UNDERLINE:l.borderBottomStyle="solid";break}const x=e.borderColor||null;x?(this.#e=!0,l.borderColor=St.makeHexColor(x[0]|0,x[1]|0,x[2]|0)):l.borderWidth=0}const d=St.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:p,pageHeight:g,pageX:v,pageY:m}=s.rawDims;l.left=`${100*(d[0]-v)/p}%`,l.top=`${100*(d[1]-m)/g}%`;const{rotation:w}=e;return e.hasOwnCanvas||w===0?(l.width=`${100*c/p}%`,l.height=`${100*h/g}%`):this.setRotation(w,o),o}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:s}=this.parent.viewport.rawDims;let{width:o,height:l}=this;t%180!==0&&([o,l]=[l,o]),e.style.width=`${100*o/n}%`,e.style.height=`${100*l/s}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,n,s)=>{const o=s.detail[e],l=o[0],c=o.slice(1);s.target.style[n]=tA[`${l}_HTML`](c),this.annotationStorage.setValue(this.data.id,{[n]:tA[`${l}_rgb`](c)})};return Xt(this,"_commonActions",{display:e=>{const{display:n}=e.detail,s=n%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:n===1||n===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:n}=e.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const n=e.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const s of Object.keys(e.detail))(t[s]||n[s])?.(e)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[s,o]of Object.entries(e)){const l=n[s];if(l){const c={detail:{[s]:o},target:t};l(c),delete e[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,s,o]=this.data.rect.map(_=>Math.fround(_));if(t.length===8){const[_,S,x,T]=t.subarray(2,6);if(s===_&&o===S&&e===x&&n===T)return}const{style:l}=this.container;let c;if(this.#e){const{borderColor:_,borderWidth:S}=l;l.borderWidth=0,c=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${_}" stroke-width="${S}">`],this.container.classList.add("hasBorder")}const h=s-e,d=o-n,{svgFactory:p}=this,g=p.createElement("svg");g.classList.add("quadrilateralsContainer"),g.setAttribute("width",0),g.setAttribute("height",0),g.role="none";const v=p.createElement("defs");g.append(v);const m=p.createElement("clipPath"),w=`clippath_${this.data.id}`;m.setAttribute("id",w),m.setAttribute("clipPathUnits","objectBoundingBox"),v.append(m);for(let _=2,S=t.length;_<S;_+=8){const x=t[_],T=t[_+1],C=t[_+2],D=t[_+3],R=p.createElement("rect"),P=(C-e)/h,O=(o-T)/d,L=(x-C)/h,F=(T-D)/d;R.setAttribute("x",P),R.setAttribute("y",O),R.setAttribute("width",L),R.setAttribute("height",F),m.append(R),c?.push(`<rect vector-effect="non-scaling-stroke" x="${P}" y="${O}" width="${L}" height="${F}"/>`)}this.#e&&(c.push("</g></svg>')"),l.backgroundImage=c.join("")),this.container.append(g),this.container.style.clipPath=`url(#${w})`}_createPopup(t=null){const{data:e}=this;let n,s;t?(n={str:t.text},s=t.date):(n=e.contentsObj,s=e.modificationDate);const o=this.#i=new jy({data:{color:e.color,titleObj:e.titleObj,modificationDate:s,contentsObj:n,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]});this.parent._commentManager||this.parent.div.append(o.render())}get hasPopupElement(){return!!(this.#i||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#i}render(){De("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const n=[];if(this._fieldObjects){const s=this._fieldObjects[t];if(s)for(const{page:o,id:l,exportValues:c}of s){if(o===-1||l===e)continue;const h=typeof c=="string"?c:null,d=document.querySelector(`[data-element-id="${l}"]`);if(d&&!vo.has(d)){Ht(`_getElementsByName - element not allowed: ${l}`);continue}n.push({id:l,exportValue:h,domElement:d})}return n}for(const s of document.getElementsByName(t)){const{exportValue:o}=s,l=s.getAttribute("data-element-id");l!==e&&vo.has(s)&&n.push({id:l,exportValue:o,domElement:s})}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class Q3 extends $e{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.editor=t.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:t}=this;t.hasComment&&(this._createPopup(t.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(t){this.editor.comment=t,t||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}class Kv extends $e{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,n=document.createElement("a");n.setAttribute("data-element-id",t.id);let s=!1;return t.url?(e.addLinkAttributes(n,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(n,t.action,t.overlaidText),s=!0):t.attachment?(this.#e(n,t.attachment,t.overlaidText,t.attachmentDest),s=!0):t.setOCGState?(this.#i(n,t.setOCGState,t.overlaidText),s=!0):t.dest?(this._bindLink(n,t.dest,t.overlaidText),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,t),s=!0),t.resetForm?(this._bindResetFormAction(n,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(n,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(n),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(t,e,n=""){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||e==="")&&this.#t(),n&&(t.title=n)}_bindNamedAction(t,e,n=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),n&&(t.title=n),this.#t()}#e(t,e,n="",s=null){t.href=this.linkService.getAnchorUrl(""),e.description?t.title=e.description:n&&(t.title=n),t.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,s),!1),this.#t()}#i(t,e,n=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),n&&(t.title=n),this.#t()}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(e.actions)){const o=n.get(s);o&&(t[o]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:s}}),!1))}e.overlaidText&&(t.title=e.overlaidText),t.onclick||(t.onclick=()=>!1),this.#t()}_bindResetFormAction(t,e){const n=t.onclick;if(n||(t.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){Ht('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),n||(t.onclick=()=>!1);return}t.onclick=()=>{n?.();const{fields:s,refs:o,include:l}=e,c=[];if(s.length!==0||o.length!==0){const p=new Set(o);for(const g of s){const v=this._fieldObjects[g]||[];for(const{id:m}of v)p.add(m)}for(const g of Object.values(this._fieldObjects))for(const v of g)p.has(v.id)===l&&c.push(v)}else for(const p of Object.values(this._fieldObjects))c.push(...p);const h=this.annotationStorage,d=[];for(const p of c){const{id:g}=p;switch(d.push(g),p.type){case"text":{const m=p.defaultValue||"";h.setValue(g,{value:m});break}case"checkbox":case"radiobutton":{const m=p.defaultValue===p.exportValues;h.setValue(g,{value:m});break}case"combobox":case"listbox":{const m=p.defaultValue||"";h.setValue(g,{value:m});break}default:continue}const v=document.querySelector(`[data-element-id="${g}"]`);if(v){if(!vo.has(v)){Ht(`_bindResetFormAction - element not allowed: ${g}`);continue}}else continue;v.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}}),!1}}}class Z3 extends $e{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class Ao extends $e{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Cn.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,s,o){n.includes("mouse")?t.addEventListener(n,l=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:o(l),shift:l.shiftKey,modifier:this._getKeyModifier(l)}})}):t.addEventListener(n,l=>{if(n==="blur"){if(!e.focused||!l.relatedTarget)return;e.focused=!1}else if(n==="focus"){if(e.focused)return;e.focused=!0}o&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:o(l)}})})}_setEventListeners(t,e,n,s){for(const[o,l]of n)(l==="Action"||this.data.actions?.[l])&&((l==="Focus"||l==="Blur")&&(e||={focused:!1}),this._setEventListener(t,e,o,l,s),l==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,e,"blur","Blur",null):l==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":St.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||W3,o=t.style;let l;const c=2,h=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-c),p=Math.round(d/(zm*s))||1,g=d/p;l=Math.min(s,h(g/zm))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-c);l=Math.min(s,h(d/zm))}o.fontSize=`calc(${l}px * var(--total-scale-factor))`,o.color=St.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(o.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class J3 extends Ao{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,n,s){const o=this.annotationStorage;for(const l of this._getElementsByName(t.name,t.id))l.domElement&&(l.domElement[e]=n),o.setValue(l.id,{[s]:n})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const s=t.getValue(e,{value:this.data.fieldValue});let o=s.value||"";const l=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let c=s.formattedValue||this.data.textContent?.join(`
`)||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const h={userValue:o,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=c??o,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",c??o),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),vo.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const{datetimeFormat:d,datetimeType:p,timeStep:g}=this.data,v=!!p&&this.enableScripting;d&&(n.title=d),this._setRequired(n,this.data.required),l&&(n.maxLength=l),n.addEventListener("input",w=>{t.setValue(e,{value:w.target.value}),this.setPropertyOnSiblings(n,"value",w.target.value,"value"),h.formattedValue=null}),n.addEventListener("resetform",w=>{const _=this.data.defaultFieldValue??"";n.value=h.userValue=_,h.formattedValue=null});let m=w=>{const{formattedValue:_}=h;_!=null&&(w.target.value=_),w.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",_=>{if(h.focused)return;const{target:S}=_;if(v&&(S.type=p,g&&(S.step=g)),h.userValue){const x=h.userValue;if(v)if(p==="time"){const T=new Date(x),C=[T.getHours(),T.getMinutes(),T.getSeconds()];S.value=C.map(D=>D.toString().padStart(2,"0")).join(":")}else S.value=new Date(x-K3).toISOString().split(p==="date"?"T":".",1)[0];else S.value=x}h.lastCommittedValue=S.value,h.commitKey=1,this.data.actions?.Focus||(h.focused=!0)}),n.addEventListener("updatefromsandbox",_=>{this.showElementAndHideCanvas(_.target);const S={value(x){h.userValue=x.detail.value??"",v||t.setValue(e,{value:h.userValue.toString()}),x.target.value=h.userValue},formattedValue(x){const{formattedValue:T}=x.detail;h.formattedValue=T,T!=null&&x.target!==document.activeElement&&(x.target.value=T);const C={formattedValue:T};v&&(C.value=T),t.setValue(e,C)},selRange(x){x.target.setSelectionRange(...x.detail.selRange)},charLimit:x=>{const{charLimit:T}=x.detail,{target:C}=x;if(T===0){C.removeAttribute("maxLength");return}C.setAttribute("maxLength",T);let D=h.userValue;!D||D.length<=T||(D=D.slice(0,T),C.value=h.userValue=D,t.setValue(e,{value:D}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:D,willCommit:!0,commitKey:1,selStart:C.selectionStart,selEnd:C.selectionEnd}}))}};this._dispatchEventFromSandbox(S,_)}),n.addEventListener("keydown",_=>{h.commitKey=1;let S=-1;if(_.key==="Escape"?S=0:_.key==="Enter"&&!this.data.multiLine?S=2:_.key==="Tab"&&(h.commitKey=3),S===-1)return;const{value:x}=_.target;h.lastCommittedValue!==x&&(h.lastCommittedValue=x,h.userValue=x,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:x,willCommit:!0,commitKey:S,selStart:_.target.selectionStart,selEnd:_.target.selectionEnd}}))});const w=m;m=null,n.addEventListener("blur",_=>{if(!h.focused||!_.relatedTarget)return;this.data.actions?.Blur||(h.focused=!1);const{target:S}=_;let{value:x}=S;if(v){if(x&&p==="time"){const T=x.split(":").map(C=>parseInt(C,10));x=new Date(2e3,0,1,T[0],T[1],T[2]||0).valueOf(),S.step=""}else x.includes("T")||(x=`${x}T00:00`),x=new Date(x).valueOf();S.type="text"}h.userValue=x,h.lastCommittedValue!==x&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:x,willCommit:!0,commitKey:h.commitKey,selStart:_.target.selectionStart,selEnd:_.target.selectionEnd}}),w(_)}),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",_=>{h.lastCommittedValue=null;const{data:S,target:x}=_,{value:T,selectionStart:C,selectionEnd:D}=x;let R=C,P=D;switch(_.inputType){case"deleteWordBackward":{const O=T.substring(0,C).match(/\w*[^\w]*$/);O&&(R-=O[0].length);break}case"deleteWordForward":{const O=T.substring(C).match(/^[^\w]*\w*/);O&&(P+=O[0].length);break}case"deleteContentBackward":C===D&&(R-=1);break;case"deleteContentForward":C===D&&(P+=1);break}_.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:T,change:S||"",willCommit:!1,selStart:R,selEnd:P}})}),this._setEventListeners(n,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],_=>_.target.value)}if(m&&n.addEventListener("blur",m),this.data.comb){const _=(this.data.rect[2]-this.data.rect[0])/l;n.classList.add("comb"),n.style.letterSpacing=`calc(${_}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class tz extends Ao{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class ez extends Ao{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let s=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",t.setValue(n,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return vo.add(o),o.setAttribute("data-element-id",n),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=e.fieldName,s&&o.setAttribute("checked",!0),o.setAttribute("exportValue",e.exportValue),o.tabIndex=0,o.addEventListener("change",l=>{const{name:c,checked:h}=l.target;for(const d of this._getElementsByName(c,n)){const p=h&&d.exportValue===e.exportValue;d.domElement&&(d.domElement.checked=p),t.setValue(d.id,{value:p})}t.setValue(n,{value:h})}),o.addEventListener("resetform",l=>{const c=e.defaultFieldValue||"Off";l.target.checked=c===e.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",l=>{const c={value(h){h.target.checked=h.detail.value!=="Off",t.setValue(n,{value:h.target.checked})}};this._dispatchEventFromSandbox(c,l)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class cC extends Ao{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let s=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if(typeof s=="string"&&(s=s!==e.buttonValue,t.setValue(n,{value:s})),s)for(const l of this._getElementsByName(e.fieldName,n))t.setValue(l.id,{value:!1});const o=document.createElement("input");if(vo.add(o),o.setAttribute("data-element-id",n),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=e.fieldName,s&&o.setAttribute("checked",!0),o.tabIndex=0,o.addEventListener("change",l=>{const{name:c,checked:h}=l.target;for(const d of this._getElementsByName(c,n))t.setValue(d.id,{value:!1});t.setValue(n,{value:h})}),o.addEventListener("resetform",l=>{const c=e.defaultFieldValue;l.target.checked=c!=null&&c===e.buttonValue}),this.enableScripting&&this.hasJSActions){const l=e.buttonValue;o.addEventListener("updatefromsandbox",c=>{const h={value:d=>{const p=l===d.detail.value;for(const g of this._getElementsByName(d.target.name)){const v=p&&g.id===n;g.domElement&&(g.domElement.checked=v),t.setValue(g.id,{value:v})}}};this._dispatchEventFromSandbox(h,c)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class nz extends Kv{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),t}}class iz extends Ao{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),s=document.createElement("select");vo.add(s),s.setAttribute("data-element-id",e),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=0;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",p=>{const g=this.data.defaultFieldValue;for(const v of s.options)v.selected=v.value===g});for(const p of this.data.options){const g=document.createElement("option");g.textContent=p.displayValue,g.value=p.exportValue,n.value.includes(p.exportValue)&&(g.setAttribute("selected",!0),o=!1),s.append(g)}let l=null;if(o){const p=document.createElement("option");p.value=" ",p.setAttribute("hidden",!0),p.setAttribute("selected",!0),s.prepend(p),l=()=>{p.remove(),s.removeEventListener("input",l),l=null},s.addEventListener("input",l)}const c=p=>{const g=p?"value":"textContent",{options:v,multiple:m}=s;return m?Array.prototype.filter.call(v,w=>w.selected).map(w=>w[g]):v.selectedIndex===-1?null:v[v.selectedIndex][g]};let h=c(!1);const d=p=>{const g=p.target.options;return Array.prototype.map.call(g,v=>({displayValue:v.textContent,exportValue:v.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",p=>{const g={value(v){l?.();const m=v.detail.value,w=new Set(Array.isArray(m)?m:[m]);for(const _ of s.options)_.selected=w.has(_.value);t.setValue(e,{value:c(!0)}),h=c(!1)},multipleSelection(v){s.multiple=!0},remove(v){const m=s.options,w=v.detail.remove;m[w].selected=!1,s.remove(w),m.length>0&&Array.prototype.findIndex.call(m,S=>S.selected)===-1&&(m[0].selected=!0),t.setValue(e,{value:c(!0),items:d(v)}),h=c(!1)},clear(v){for(;s.length!==0;)s.remove(0);t.setValue(e,{value:null,items:[]}),h=c(!1)},insert(v){const{index:m,displayValue:w,exportValue:_}=v.detail.insert,S=s.children[m],x=document.createElement("option");x.textContent=w,x.value=_,S?S.before(x):s.append(x),t.setValue(e,{value:c(!0),items:d(v)}),h=c(!1)},items(v){const{items:m}=v.detail;for(;s.length!==0;)s.remove(0);for(const w of m){const{displayValue:_,exportValue:S}=w,x=document.createElement("option");x.textContent=_,x.value=S,s.append(x)}s.options.length>0&&(s.options[0].selected=!0),t.setValue(e,{value:c(!0),items:d(v)}),h=c(!1)},indices(v){const m=new Set(v.detail.indices);for(const w of v.target.options)w.selected=m.has(w.index);t.setValue(e,{value:c(!0)}),h=c(!1)},editable(v){v.target.disabled=!v.detail.editable}};this._dispatchEventFromSandbox(g,p)}),s.addEventListener("input",p=>{const g=c(!0),v=c(!1);t.setValue(e,{value:g}),p.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:h,change:v,changeEx:g,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],p=>p.target.value)):s.addEventListener("input",function(p){t.setValue(e,{value:c(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class jy extends $e{constructor(t){const{data:e,elements:n,parent:s}=t,o=!!s._commentManager;if(super(t,{isRenderable:!o&&$e._hasPopupData(e)}),this.elements=n,o&&$e._hasPopupData(e)){const l=this.popup=this.#t();for(const c of n)c.popup=l}else this.popup=null}#t(){return new sz({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const e=this.popup=this.#t(),n=[];for(const s of this.elements)s.popup=e,s.container.ariaHasPopup="dialog",n.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(s=>`${zv}${s}`).join(",")),this.container}}class sz{#t=null;#e=this.#V.bind(this);#i=this.#F.bind(this);#n=this.#N.bind(this);#a=this.#w.bind(this);#s=null;#r=null;#o=null;#c=null;#l=null;#d=null;#h=null;#f=!1;#m=null;#p=null;#u=null;#g=null;#y=null;#b=null;#v=null;#E=null;#x=null;#_=null;#C=!1;#S=null;#A=null;constructor({container:t,color:e,elements:n,titleObj:s,modificationDate:o,contentsObj:l,richText:c,parent:h,rect:d,parentRect:p,open:g,commentManager:v=null}){this.#r=t,this.#x=s,this.#o=l,this.#E=c,this.#d=h,this.#s=e,this.#v=d,this.#h=p,this.#l=n,this.#t=v,this.#S=n[0],this.#c=mf.toDateObject(o),this.trigger=n.flatMap(m=>m.getElementsToTriggerPopup()),v?this.renderCommentButton():(this.#D(),this.#r.hidden=!0,g&&this.#w())}#D(){if(this.#p)return;this.#p=new AbortController;const{signal:t}=this.#p;for(const e of this.trigger)e.addEventListener("click",this.#a,{signal:t}),e.addEventListener("pointerenter",this.#n,{signal:t}),e.addEventListener("pointerleave",this.#i,{signal:t}),e.classList.add("popupTriggerArea");for(const e of this.#l)e.container?.addEventListener("keydown",this.#e,{signal:t})}#M(){const t=this.#l.find(e=>e.hasCommentButton);t&&(this.#y=t._normalizePoint(t.commentButtonPosition))}renderCommentButton(){if(this.#g||(this.#y||this.#M(),!this.#y))return;const{signal:t}=this.#p=new AbortController,e=!!this.#S.extraPopupElement,n=()=>{this.#t.toggleCommentPopup(this,!0,void 0,!e)},s=()=>{this.#t.toggleCommentPopup(this,!1,!0,!e)},o=()=>{this.#t.toggleCommentPopup(this,!1,!1)};if(e){this.#g=this.#S.container;for(const l of this.trigger)l.ariaHasPopup="dialog",l.ariaControls="commentPopup",l.addEventListener("keydown",this.#e,{signal:t}),l.addEventListener("click",n,{signal:t}),l.addEventListener("pointerenter",s,{signal:t}),l.addEventListener("pointerleave",o,{signal:t}),l.classList.add("popupTriggerArea")}else{const l=this.#g=document.createElement("button");l.className="annotationCommentButton";const c=this.#S.container;l.style.zIndex=c.style.zIndex+1,l.tabIndex=0,l.ariaHasPopup="dialog",l.ariaControls="commentPopup",l.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#I(),this.#R(),l.addEventListener("keydown",this.#e,{signal:t}),l.addEventListener("click",n,{signal:t}),l.addEventListener("pointerenter",s,{signal:t}),l.addEventListener("pointerleave",o,{signal:t}),c.after(l)}}#R(){if(this.#S.extraPopupElement&&!this.#S.editor)return;this.renderCommentButton();const[t,e]=this.#y,{style:n}=this.#g;n.left=`calc(${t}%)`,n.top=`calc(${e}% - var(--comment-button-dim))`}#I(){this.#S.extraPopupElement||(this.renderCommentButton(),this.#g.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:t,opacity:e}=this.#S.commentData;return t?this.#d._commentManager.makeCommentColor(t,e):null}focusCommentButton(){setTimeout(()=>{this.#g?.focus()},0)}getData(){const{richText:t,color:e,opacity:n,creationDate:s,modificationDate:o}=this.#S.commentData;return{contentsObj:{str:this.comment},richText:t,color:e,opacity:n,creationDate:s,modificationDate:o}}get elementBeforePopup(){return this.#g}get comment(){return this.#A||=this.#S.commentText,this.#A}set comment(t){t!==this.comment&&(this.#S.commentText=this.#A=t)}get parentBoundingClientRect(){return this.#S.layer.getBoundingClientRect()}setCommentButtonStates({selected:t,hasPopup:e}){this.#g&&(this.#g.classList.toggle("selected",t),this.#g.ariaExpanded=e)}setSelectedCommentButton(t){this.#g.classList.toggle("selected",t)}get commentPopupPosition(){if(this.#b)return this.#b;const{x:t,y:e,height:n}=this.#g.getBoundingClientRect(),{x:s,y:o,width:l,height:c}=this.#S.layer.getBoundingClientRect();return[(t-s)/l,(e+n-o)/c]}set commentPopupPosition(t){this.#b=t}hasDefaultPopupPosition(){return this.#b===null}get commentButtonPosition(){return this.#y}get commentButtonWidth(){return this.#g.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(t){const[e,n]=this.#b||this.commentButtonPosition.map(d=>d/100),s=this.parentBoundingClientRect,{x:o,y:l,width:c,height:h}=s;this.#t.showDialog(null,this,o+e*c,l+n*h,{...t,parentDimensions:s})}render(){if(this.#m)return;const t=this.#m=document.createElement("div");if(t.className="popup",this.#s){const n=t.style.outlineColor=St.makeHexColor(...this.#s);t.style.backgroundColor=`color-mix(in srgb, ${n} 30%, white)`}const e=document.createElement("span");if(e.className="header",this.#x?.str){const n=document.createElement("span");n.className="title",e.append(n),{dir:n.dir,str:n.textContent}=this.#x}if(t.append(e),this.#c){const n=document.createElement("time");n.className="popupDate",n.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),n.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),n.dateTime=this.#c.toISOString(),e.append(n)}jv({html:this.#k||this.#o.str,dir:this.#o?.dir,className:"popupContent"},t),this.#r.append(t)}get#k(){const t=this.#E,e=this.#o;return t?.str&&(!e?.str||e.str===t.str)&&this.#E.html||null}get#L(){return this.#k?.attributes?.style?.fontSize||0}get#z(){return this.#k?.attributes?.style?.color||null}#P(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},s={style:{color:this.#z,fontSize:this.#L?`calc(${this.#L}px * var(--total-scale-factor))`:""}};for(const o of t.split(`
`))e.push({name:"span",value:o,attributes:s});return n}#V(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#f)&&this.#w()}updateEdited({rect:t,popup:e,deleted:n}){if(this.#t){n?(this.remove(),this.#A=null):e&&(e.deleted?this.remove():(this.#I(),this.#A=e.text)),t&&(this.#y=null,this.#M(),this.#R());return}if(n||e?.deleted){this.remove();return}this.#D(),this.#_||={contentsObj:this.#o,richText:this.#E},t&&(this.#u=null),e&&e.text&&(this.#E=this.#P(e.text),this.#c=mf.toDateObject(e.date),this.#o=null),this.#m?.remove(),this.#m=null}resetEdited(){this.#_&&({contentsObj:this.#o,richText:this.#E}=this.#_,this.#_=null,this.#m?.remove(),this.#m=null,this.#u=null)}remove(){if(this.#p?.abort(),this.#p=null,this.#m?.remove(),this.#m=null,this.#C=!1,this.#f=!1,this.#g?.remove(),this.#g=null,this.trigger)for(const t of this.trigger)t.classList.remove("popupTriggerArea")}#T(){if(this.#u!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:s,pageY:o}}}=this.#d;let l=!!this.#h,c=l?this.#h:this.#v;for(const w of this.#l)if(!c||St.intersect(w.data.rect,c)!==null){c=w.data.rect,l=!0;break}const h=St.normalizeRect([c[0],t[3]-c[1]+t[1],c[2],t[3]-c[3]+t[1]]),p=l?c[2]-c[0]+5:0,g=h[0]+p,v=h[1];this.#u=[100*(g-s)/e,100*(v-o)/n];const{style:m}=this.#r;m.left=`${this.#u[0]}%`,m.top=`${this.#u[1]}%`}#w(){if(this.#t){this.#t.toggleCommentPopup(this,!1);return}this.#f=!this.#f,this.#f?(this.#N(),this.#r.addEventListener("click",this.#a),this.#r.addEventListener("keydown",this.#e)):(this.#F(),this.#r.removeEventListener("click",this.#a),this.#r.removeEventListener("keydown",this.#e))}#N(){this.#m||this.render(),this.isVisible?this.#f&&this.#r.classList.add("focused"):(this.#T(),this.#r.hidden=!1,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)+1e3)}#F(){this.#r.classList.remove("focused"),!(this.#f||!this.isVisible)&&(this.#r.hidden=!0,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)-1e3)}forceHide(){this.#C=this.isVisible,this.#C&&(this.#r.hidden=!0)}maybeShow(){this.#t||(this.#D(),this.#C&&(this.#m||this.#N(),this.#C=!1,this.#r.hidden=!1))}get isVisible(){return this.#t?!1:this.#r.hidden===!1}}class uC extends $e{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Ut.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class rz extends $e{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:t,width:e,height:n}=this,s=this.svgFactory.create(e,n,!0),o=this.#t=this.svgFactory.createElement("svg:line");return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class az extends $e{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:t,width:e,height:n}=this,s=this.svgFactory.create(e,n,!0),o=t.borderStyle.width,l=this.#t=this.svgFactory.createElement("svg:rect");return l.setAttribute("x",o/2),l.setAttribute("y",o/2),l.setAttribute("width",e-o),l.setAttribute("height",n-o),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),s.append(l),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class oz extends $e{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:t,width:e,height:n}=this,s=this.svgFactory.create(e,n,!0),o=t.borderStyle.width,l=this.#t=this.svgFactory.createElement("svg:ellipse");return l.setAttribute("cx",e/2),l.setAttribute("cy",n/2),l.setAttribute("rx",e/2-o/2),l.setAttribute("ry",n/2-o/2),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),s.append(l),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class hC extends $e{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:n,popupRef:s},width:o,height:l}=this;if(!e)return this.container;const c=this.svgFactory.create(o,l,!0);let h=[];for(let p=0,g=e.length;p<g;p+=2){const v=e[p]-t[0],m=t[3]-e[p+1];h.push(`${v},${m}`)}h=h.join(" ");const d=this.#t=this.svgFactory.createElement(this.svgElementName);return d.setAttribute("points",h),d.setAttribute("stroke-width",n.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),c.append(d),this.container.append(c),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class lz extends hC{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class cz extends $e{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Qv extends $e{#t=null;#e=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Ut.HIGHLIGHT:Ut.INK}#i(t,e){switch(t){case 90:return{transform:`rotate(90) translate(${-e[0]},${e[1]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};case 180:return{transform:`rotate(180) translate(${-e[2]},${e[1]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]};case 270:return{transform:`rotate(270) translate(${-e[2]},${e[3]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};default:return{transform:`translate(${-e[0]},${e[3]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:e,inkLists:n,borderStyle:s,popupRef:o}}=this,{transform:l,width:c,height:h}=this.#i(e,t),d=this.svgFactory.create(c,h,!0),p=this.#t=this.svgFactory.createElement("svg:g");d.append(p),p.setAttribute("stroke-width",s.width||1),p.setAttribute("stroke-linecap","round"),p.setAttribute("stroke-linejoin","round"),p.setAttribute("stroke-miterlimit",10),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),p.setAttribute("transform",l);for(let g=0,v=n.length;g<v;g++){const m=this.svgFactory.createElement(this.svgElementName);this.#e.push(m),m.setAttribute("points",n[g].join(",")),p.append(m)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(d),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:e,points:n,rect:s}=t,o=this.#t;if(e>=0&&o.setAttribute("stroke-width",e||1),n)for(let l=0,c=this.#e.length;l<c;l++)this.#e[l].setAttribute("points",n[l].join(","));if(s){const{transform:l,width:c,height:h}=this.#i(this.data.rotation,s);o.parentElement.setAttribute("viewBox",`0 0 ${c} ${h}`),o.setAttribute("transform",l)}}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class dC extends $e{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Ut.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class uz extends $e{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),t){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class hz extends $e{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),t){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class dz extends $e{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),t){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class fC extends $e{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Ut.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class fz extends $e{#t=null;constructor(t){super(t,{isRenderable:!0});const{file:e}=this.data;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let n;e.hasAppearance||e.fillAlpha===0?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(e.fillAlpha*100)}%);`)),n.addEventListener("dblclick",this.#e.bind(this)),this.#t=n;const{isMac:s}=Cn.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(s?o.metaKey:o.ctrlKey)&&this.#e()}),!e.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),t.append(n),t}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}let Zv=class pC{#t=null;#e=null;#i=null;#n=new Map;#a=null;#s=null;constructor({div:t,accessibilityManager:e,annotationCanvasMap:n,annotationEditorUIManager:s,page:o,viewport:l,structTreeLayer:c,commentManager:h,linkService:d,annotationStorage:p}){this.div=t,this.#t=e,this.#e=n,this.#a=c||null,this.#s=d||null,this.#i=p||new Gv,this.page=o,this.viewport=l,this.zIndex=0,this._annotationEditorUIManager=s,this._commentManager=h||null}hasEditableAnnotations(){return this.#n.size>0}async#r(t,e,n){const s=t.firstChild||t,o=s.id=`${zv}${e}`,l=await this.#a?.getAriaAttributes(o);if(l)for(const[c,h]of l)s.setAttribute(c,h);n?n.at(-1).container.after(t):(this.div.append(t),this.#t?.moveElementInDOM(this.div,t,s,!1))}async render(t){const{annotations:e}=t,n=this.div;ba(n,this.viewport);const s=new Map,o={data:null,layer:n,linkService:this.#s,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new Bu,annotationStorage:this.#i,enableComment:t.enableComment===!0,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const l of e){if(l.noHTML)continue;const c=l.annotationType===sn.POPUP;if(c){const p=s.get(l.id);if(!p)continue;o.elements=p}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;o.data=l;const h=eA.create(o);if(!h.isRenderable)continue;if(!c&&l.popupRef){const p=s.get(l.popupRef);p?p.push(h):s.set(l.popupRef,[h])}const d=h.render();l.hidden&&(d.style.visibility="hidden"),await this.#r(d,l.id,o.elements),h.extraPopupElement?.popup?.renderCommentButton(),h._isEditable&&(this.#n.set(h.data.id,h),this._annotationEditorUIManager?.renderAnnotationElement(h))}this.#o()}async addLinkAnnotations(t){const e={data:null,layer:this.div,linkService:this.#s,svgFactory:new Bu,parent:this};for(const n of t){n.borderStyle||=pC._defaultBorderStyle,e.data=n;const s=eA.create(e);if(!s.isRenderable)continue;const o=s.render();await this.#r(o,n.id,null)}}update({viewport:t}){const e=this.div;this.viewport=t,ba(e,{rotation:t.rotation}),this.#o(),e.hidden=!1}#o(){if(!this.#e)return;const t=this.div;for(const[e,n]of this.#e){const s=t.querySelector(`[data-annotation-id="${e}"]`);if(!s)continue;n.className="annotationContent";const{firstChild:o}=s;o?o.nodeName==="CANVAS"?o.replaceWith(n):o.classList.contains("annotationContent")?o.after(n):o.before(n):s.append(n);const l=this.#n.get(e);l&&(l._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(e,s.id,n),l._hasNoCanvas=!1):l.canvas=n)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(t){return this.#n.get(t)}addFakeAnnotation(t){const{div:e}=this,{id:n,rotation:s}=t,o=new Q3({data:{id:n,rect:t.getPDFRect(),rotation:s},editor:t,layer:e,parent:this,enableComment:!!this._commentManager,linkService:this.#s,annotationStorage:this.#i}),l=o.render();return e.append(l),this.#t?.moveElementInDOM(e,l,l,!1),o.createOrUpdatePopup(),o}static get _defaultBorderStyle(){return Xt(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:gl.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};const Pd=/\r\n?|\n/g;class En extends Lt{#t="";#e=`${this.id}-editor`;#i=null;#n;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=En.prototype,e=o=>o.isEmpty(),n=Mr.TRANSLATE_SMALL,s=Mr.TRANSLATE_BIG;return Xt(this,"_keyboardManager",new Ku([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-n,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[n,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-n],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,n],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:e}]]))}static _type="freetext";static _editorType=Ut.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.color=t.color||En._defaultColor||Lt._defaultLineColor,this.#n=t.fontSize||En._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(t,e){Lt.initialize(t,e);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case ne.FREETEXT_SIZE:En._defaultFontSize=e;break;case ne.FREETEXT_COLOR:En._defaultColor=e;break}}updateParams(t,e){switch(t){case ne.FREETEXT_SIZE:this.#a(e);break;case ne.FREETEXT_COLOR:this.#s(e);break}}static get defaultPropertiesToUpdate(){return[[ne.FREETEXT_SIZE,En._defaultFontSize],[ne.FREETEXT_COLOR,En._defaultColor||Lt._defaultLineColor]]}get propertiesToUpdate(){return[[ne.FREETEXT_SIZE,this.#n],[ne.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new Pu(this),[["colorPicker",this._colorPicker]]}get colorType(){return ne.FREETEXT_COLOR}#a(t){const e=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-this.#n)*this.parentScale),this.#n=s,this.#o()},n=this.#n;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ne.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#s(t){const e=s=>{this.color=s,this.onUpdatedColor()},n=this.color;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ne.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-En._internalPadding*t,-(En._internalPadding+this.#n)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const t=this._uiManager.combinedSignal(this.#i);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#e),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#r(){const t=[];this.editorDiv.normalize();let e=null;for(const n of this.editorDiv.childNodes)e?.nodeType===Node.TEXT_NODE&&n.nodeName==="BR"||(t.push(En.#c(n)),e=n);return t.join(`
`)}#o(){const[t,e]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:s,div:o}=this,l=o.style.display,c=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",s.div.append(this.div),n=o.getBoundingClientRect(),o.remove(),o.style.display=l,o.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=n.width/t,this.height=n.height/e):(this.width=n.height/t,this.height=n.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#t,e=this.#t=this.#r().trimEnd();if(t===e)return;const n=s=>{if(this.#t=s,!s){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#o()};this.addCommands({cmd:()=>{n(e)},undo:()=>{n(t)},mustExec:!1}),this.#o()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){En._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,e;(this._isCopy||this.annotationElementId)&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#e),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,n.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,o]=this.parentDimensions;if(this.annotationElementId){const{position:l}=this._initialData;let[c,h]=this.getInitialTranslation();[c,h]=this.pageTranslationToScreen(c,h);const[d,p]=this.pageDimensions,[g,v]=this.pageTranslation;let m,w;switch(this.rotation){case 0:m=t+(l[0]-g)/d,w=e+this.height-(l[1]-v)/p;break;case 90:m=t+(l[0]-g)/d,w=e-(l[1]-v)/p,[c,h]=[h,-c];break;case 180:m=t-this.width+(l[0]-g)/d,w=e-(l[1]-v)/p,[c,h]=[-c,-h];break;case 270:m=t+(l[0]-g-this.height*p)/d,w=e+(l[1]-v-this.width*d)/p,[c,h]=[-h,c];break}this.setAt(m*s,w*o,c,h)}else this._moveAfterPaste(t,e);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(Pd,"")}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:n}=e;if(n.length===1&&n[0]==="text/plain")return;t.preventDefault();const s=En.#h(e.getData("text")||"").replaceAll(Pd,`
`);if(!s)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const l=o.getRangeAt(0);if(!s.includes(`
`)){l.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:c,startOffset:h}=l,d=[],p=[];if(c.nodeType===Node.TEXT_NODE){const m=c.parentElement;if(p.push(c.nodeValue.slice(h).replaceAll(Pd,"")),m!==this.editorDiv){let w=d;for(const _ of this.editorDiv.childNodes){if(_===m){w=p;continue}w.push(En.#c(_))}}d.push(c.nodeValue.slice(0,h).replaceAll(Pd,""))}else if(c===this.editorDiv){let m=d,w=0;for(const _ of this.editorDiv.childNodes)w++===h&&(m=p),m.push(En.#c(_))}this.#t=`${d.join(`
`)}${s}${p.join(`
`)}`,this.#l();const g=new Range;let v=Math.sumPrecise(d.map(m=>m.length));for(const{firstChild:m}of this.editorDiv.childNodes)if(m.nodeType===Node.TEXT_NODE){const w=m.nodeValue.length;if(v<=w){g.setStart(m,v),g.setEnd(m,v);break}v-=w}o.removeAllRanges(),o.addRange(g)}#l(){if(this.editorDiv.replaceChildren(),!!this.#t)for(const t of this.#t.split(`
`)){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}#d(){return this.#t.replaceAll(""," ")}static#h(t){return t.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const t=En._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,e,n){let s=null;if(t instanceof uC){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:h,rotation:d,id:p,popupRef:g,richText:v,contentsObj:m,creationDate:w,modificationDate:_},textContent:S,textPosition:x,parent:{page:{pageNumber:T}}}=t;if(!S||S.length===0)return null;s=t={annotationType:Ut.FREETEXT,color:Array.from(c),fontSize:l,value:S.join(`
`),position:x,pageIndex:T-1,rect:h.slice(0),rotation:d,annotationElementId:p,id:p,deleted:!1,popupRef:g,comment:m?.str||null,richText:v,creationDate:w,modificationDate:_}}const o=await super.deserialize(t,e,n);return o.#n=t.fontSize,o.color=St.makeHexColor(...t.color),o.#t=En.#h(t.value),o._initialData=s,t.comment&&o.setCommentData(t),o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=Lt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),n=Object.assign(super.serialize(t),{color:e,fontSize:this.#n,value:this.#d()});return this.addComment(n),t?(n.isCopy=!0,n):this.annotationElementId&&!this.#f(n)?null:(n.id=this.annotationElementId,n)}#f(t){const{value:e,fontSize:n,color:s,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==e||t.fontSize!==n||t.color.some((l,c)=>l!==s[c])||t.pageIndex!==o}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(!e)return null;const{style:n}=e;n.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,n.color=this.color,e.replaceChildren();for(const s of this.#t.split(`
`)){const o=document.createElement("div");o.append(s?document.createTextNode(s):document.createElement("br")),e.append(o)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#t}}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}class wt{static PRECISION=1e-4;toSVGPath(){De("Abstract method `toSVGPath` must be implemented.")}get box(){De("Abstract getter `box` must be implemented.")}serialize(t,e){De("Abstract method `serialize` must be implemented.")}static _rescale(t,e,n,s,o,l){l||=new Float32Array(t.length);for(let c=0,h=t.length;c<h;c+=2)l[c]=e+t[c]*s,l[c+1]=n+t[c+1]*o;return l}static _rescaleAndSwap(t,e,n,s,o,l){l||=new Float32Array(t.length);for(let c=0,h=t.length;c<h;c+=2)l[c]=e+t[c+1]*s,l[c+1]=n+t[c]*o;return l}static _translate(t,e,n,s){s||=new Float32Array(t.length);for(let o=0,l=t.length;o<l;o+=2)s[o]=e+t[o],s[o+1]=n+t[o+1];return s}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,n,s,o){switch(o){case 90:return[1-e/n,t/s];case 180:return[1-t/n,1-e/s];case 270:return[e/n,1-t/s];default:return[t/n,e/s]}}static _normalizePagePoint(t,e,n){switch(n){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,n,s,o,l){return[(t+5*n)/6,(e+5*s)/6,(5*n+o)/6,(5*s+l)/6,(n+o)/2,(s+l)/2]}}class to{#t;#e=[];#i;#n;#a=[];#s=new Float32Array(18);#r;#o;#c;#l;#d;#h;#f=[];static#m=8;static#p=2;static#u=to.#m+to.#p;constructor({x:t,y:e},n,s,o,l,c=0){this.#t=n,this.#h=o*s,this.#n=l,this.#s.set([NaN,NaN,NaN,NaN,t,e],6),this.#i=c,this.#l=to.#m*s,this.#c=to.#u*s,this.#d=s,this.#f.push(t,e)}isEmpty(){return isNaN(this.#s[8])}#g(){const t=this.#s.subarray(4,6),e=this.#s.subarray(16,18),[n,s,o,l]=this.#t;return[(this.#r+(t[0]-e[0])/2-n)/o,(this.#o+(t[1]-e[1])/2-s)/l,(this.#r+(e[0]-t[0])/2-n)/o,(this.#o+(e[1]-t[1])/2-s)/l]}add({x:t,y:e}){this.#r=t,this.#o=e;const[n,s,o,l]=this.#t;let[c,h,d,p]=this.#s.subarray(8,12);const g=t-d,v=e-p,m=Math.hypot(g,v);if(m<this.#c)return!1;const w=m-this.#l,_=w/m,S=_*g,x=_*v;let T=c,C=h;c=d,h=p,d+=S,p+=x,this.#f?.push(t,e);const D=-x/w,R=S/w,P=D*this.#h,O=R*this.#h;return this.#s.set(this.#s.subarray(2,8),0),this.#s.set([d+P,p+O],4),this.#s.set(this.#s.subarray(14,18),12),this.#s.set([d-P,p-O],16),isNaN(this.#s[6])?(this.#a.length===0&&(this.#s.set([c+P,h+O],2),this.#a.push(NaN,NaN,NaN,NaN,(c+P-n)/o,(h+O-s)/l),this.#s.set([c-P,h-O],14),this.#e.push(NaN,NaN,NaN,NaN,(c-P-n)/o,(h-O-s)/l)),this.#s.set([T,C,c,h,d,p],6),!this.isEmpty()):(this.#s.set([T,C,c,h,d,p],6),Math.abs(Math.atan2(C-h,T-c)-Math.atan2(x,S))<Math.PI/2?([c,h,d,p]=this.#s.subarray(2,6),this.#a.push(NaN,NaN,NaN,NaN,((c+d)/2-n)/o,((h+p)/2-s)/l),[c,h,T,C]=this.#s.subarray(14,18),this.#e.push(NaN,NaN,NaN,NaN,((T+c)/2-n)/o,((C+h)/2-s)/l),!0):([T,C,c,h,d,p]=this.#s.subarray(0,6),this.#a.push(((T+5*c)/6-n)/o,((C+5*h)/6-s)/l,((5*c+d)/6-n)/o,((5*h+p)/6-s)/l,((c+d)/2-n)/o,((h+p)/2-s)/l),[d,p,c,h,T,C]=this.#s.subarray(12,18),this.#e.push(((T+5*c)/6-n)/o,((C+5*h)/6-s)/l,((5*c+d)/6-n)/o,((5*h+p)/6-s)/l,((c+d)/2-n)/o,((h+p)/2-s)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const t=this.#a,e=this.#e;if(isNaN(this.#s[6])&&!this.isEmpty())return this.#y();const n=[];n.push(`M${t[4]} ${t[5]}`);for(let s=6;s<t.length;s+=6)isNaN(t[s])?n.push(`L${t[s+4]} ${t[s+5]}`):n.push(`C${t[s]} ${t[s+1]} ${t[s+2]} ${t[s+3]} ${t[s+4]} ${t[s+5]}`);this.#v(n);for(let s=e.length-6;s>=6;s-=6)isNaN(e[s])?n.push(`L${e[s+4]} ${e[s+5]}`):n.push(`C${e[s]} ${e[s+1]} ${e[s+2]} ${e[s+3]} ${e[s+4]} ${e[s+5]}`);return this.#b(n),n.join(" ")}#y(){const[t,e,n,s]=this.#t,[o,l,c,h]=this.#g();return`M${(this.#s[2]-t)/n} ${(this.#s[3]-e)/s} L${(this.#s[4]-t)/n} ${(this.#s[5]-e)/s} L${o} ${l} L${c} ${h} L${(this.#s[16]-t)/n} ${(this.#s[17]-e)/s} L${(this.#s[14]-t)/n} ${(this.#s[15]-e)/s} Z`}#b(t){const e=this.#e;t.push(`L${e[4]} ${e[5]} Z`)}#v(t){const[e,n,s,o]=this.#t,l=this.#s.subarray(4,6),c=this.#s.subarray(16,18),[h,d,p,g]=this.#g();t.push(`L${(l[0]-e)/s} ${(l[1]-n)/o} L${h} ${d} L${p} ${g} L${(c[0]-e)/s} ${(c[1]-n)/o}`)}newFreeDrawOutline(t,e,n,s,o,l){return new gC(t,e,n,s,o,l)}getOutlines(){const t=this.#a,e=this.#e,n=this.#s,[s,o,l,c]=this.#t,h=new Float32Array((this.#f?.length??0)+2);for(let g=0,v=h.length-2;g<v;g+=2)h[g]=(this.#f[g]-s)/l,h[g+1]=(this.#f[g+1]-o)/c;if(h[h.length-2]=(this.#r-s)/l,h[h.length-1]=(this.#o-o)/c,isNaN(n[6])&&!this.isEmpty())return this.#E(h);const d=new Float32Array(this.#a.length+24+this.#e.length);let p=t.length;for(let g=0;g<p;g+=2){if(isNaN(t[g])){d[g]=d[g+1]=NaN;continue}d[g]=t[g],d[g+1]=t[g+1]}p=this.#_(d,p);for(let g=e.length-6;g>=6;g-=6)for(let v=0;v<6;v+=2){if(isNaN(e[g+v])){d[p]=d[p+1]=NaN,p+=2;continue}d[p]=e[g+v],d[p+1]=e[g+v+1],p+=2}return this.#x(d,p),this.newFreeDrawOutline(d,h,this.#t,this.#d,this.#i,this.#n)}#E(t){const e=this.#s,[n,s,o,l]=this.#t,[c,h,d,p]=this.#g(),g=new Float32Array(36);return g.set([NaN,NaN,NaN,NaN,(e[2]-n)/o,(e[3]-s)/l,NaN,NaN,NaN,NaN,(e[4]-n)/o,(e[5]-s)/l,NaN,NaN,NaN,NaN,c,h,NaN,NaN,NaN,NaN,d,p,NaN,NaN,NaN,NaN,(e[16]-n)/o,(e[17]-s)/l,NaN,NaN,NaN,NaN,(e[14]-n)/o,(e[15]-s)/l],0),this.newFreeDrawOutline(g,t,this.#t,this.#d,this.#i,this.#n)}#x(t,e){const n=this.#e;return t.set([NaN,NaN,NaN,NaN,n[4],n[5]],e),e+=6}#_(t,e){const n=this.#s.subarray(4,6),s=this.#s.subarray(16,18),[o,l,c,h]=this.#t,[d,p,g,v]=this.#g();return t.set([NaN,NaN,NaN,NaN,(n[0]-o)/c,(n[1]-l)/h,NaN,NaN,NaN,NaN,d,p,NaN,NaN,NaN,NaN,g,v,NaN,NaN,NaN,NaN,(s[0]-o)/c,(s[1]-l)/h],e),e+=24}}class gC extends wt{#t;#e=new Float32Array(4);#i;#n;#a;#s;#r;constructor(t,e,n,s,o,l){super(),this.#r=t,this.#a=e,this.#t=n,this.#s=s,this.#i=o,this.#n=l,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#o(l);const[c,h,d,p]=this.#e;for(let g=0,v=t.length;g<v;g+=2)t[g]=(t[g]-c)/d,t[g+1]=(t[g+1]-h)/p;for(let g=0,v=e.length;g<v;g+=2)e[g]=(e[g]-c)/d,e[g+1]=(e[g+1]-h)/p}toSVGPath(){const t=[`M${this.#r[4]} ${this.#r[5]}`];for(let e=6,n=this.#r.length;e<n;e+=6){if(isNaN(this.#r[e])){t.push(`L${this.#r[e+4]} ${this.#r[e+5]}`);continue}t.push(`C${this.#r[e]} ${this.#r[e+1]} ${this.#r[e+2]} ${this.#r[e+3]} ${this.#r[e+4]} ${this.#r[e+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,e,n,s],o){const l=n-t,c=s-e;let h,d;switch(o){case 0:h=wt._rescale(this.#r,t,s,l,-c),d=wt._rescale(this.#a,t,s,l,-c);break;case 90:h=wt._rescaleAndSwap(this.#r,t,e,l,c),d=wt._rescaleAndSwap(this.#a,t,e,l,c);break;case 180:h=wt._rescale(this.#r,n,e,-l,c),d=wt._rescale(this.#a,n,e,-l,c);break;case 270:h=wt._rescaleAndSwap(this.#r,n,s,-l,-c),d=wt._rescaleAndSwap(this.#a,n,s,-l,-c);break}return{outline:Array.from(h),points:[Array.from(d)]}}#o(t){const e=this.#r;let n=e[4],s=e[5];const o=[n,s,n,s];let l=n,c=s,h=n,d=s;const p=t?Math.max:Math.min,g=new Float32Array(4);for(let m=6,w=e.length;m<w;m+=6){const _=e[m+4],S=e[m+5];isNaN(e[m])?(St.pointBoundingBox(_,S,o),c>S?(l=_,c=S):c===S&&(l=p(l,_)),d<S?(h=_,d=S):d===S&&(h=p(h,_))):(g[0]=g[1]=1/0,g[2]=g[3]=-1/0,St.bezierBoundingBox(n,s,...e.slice(m,m+6),g),St.rectBoundingBox(g[0],g[1],g[2],g[3],o),c>g[1]?(l=g[0],c=g[1]):c===g[1]&&(l=p(l,g[0])),d<g[3]?(h=g[2],d=g[3]):d===g[3]&&(h=p(h,g[2]))),n=_,s=S}const v=this.#e;v[0]=o[0]-this.#i,v[1]=o[1]-this.#i,v[2]=o[2]-o[0]+2*this.#i,v[3]=o[3]-o[1]+2*this.#i,this.firstPoint=[l,c],this.lastPoint=[h,d]}get box(){return this.#e}newOutliner(t,e,n,s,o,l=0){return new to(t,e,n,s,o,l)}getNewOutline(t,e){const[n,s,o,l]=this.#e,[c,h,d,p]=this.#t,g=o*d,v=l*p,m=n*d+c,w=s*p+h,_=this.newOutliner({x:this.#a[0]*g+m,y:this.#a[1]*v+w},this.#t,this.#s,t,this.#n,e??this.#i);for(let S=2;S<this.#a.length;S+=2)_.add({x:this.#a[S]*g+m,y:this.#a[S+1]*v+w});return _.getOutlines()}}class Uy{#t;#e;#i;#n=[];#a=[];constructor(t,e=0,n=0,s=!0){const o=[1/0,1/0,-1/0,-1/0],l=10**-4;for(const{x:_,y:S,width:x,height:T}of t){const C=Math.floor((_-e)/l)*l,D=Math.ceil((_+x+e)/l)*l,R=Math.floor((S-e)/l)*l,P=Math.ceil((S+T+e)/l)*l,O=[C,R,P,!0],L=[D,R,P,!1];this.#n.push(O,L),St.rectBoundingBox(C,R,D,P,o)}const c=o[2]-o[0]+2*n,h=o[3]-o[1]+2*n,d=o[0]-n,p=o[1]-n;let g=s?-1/0:1/0,v=1/0;const m=this.#n.at(s?-1:-2),w=[m[0],m[2]];for(const _ of this.#n){const[S,x,T,C]=_;!C&&s?x<v?(v=x,g=S):x===v&&(g=Math.max(g,S)):C&&!s&&(x<v?(v=x,g=S):x===v&&(g=Math.min(g,S))),_[0]=(S-d)/c,_[1]=(x-p)/h,_[2]=(T-p)/h}this.#t=new Float32Array([d,p,c,h]),this.#e=[g,v],this.#i=w}getOutlines(){this.#n.sort((e,n)=>e[0]-n[0]||e[1]-n[1]||e[2]-n[2]);const t=[];for(const e of this.#n)e[3]?(t.push(...this.#l(e)),this.#o(e)):(this.#c(e),t.push(...this.#l(e)));return this.#s(t)}#s(t){const e=[],n=new Set;for(const l of t){const[c,h,d]=l;e.push([c,h,l],[c,d,l])}e.sort((l,c)=>l[1]-c[1]||l[0]-c[0]);for(let l=0,c=e.length;l<c;l+=2){const h=e[l][2],d=e[l+1][2];h.push(d),d.push(h),n.add(h),n.add(d)}const s=[];let o;for(;n.size>0;){const l=n.values().next().value;let[c,h,d,p,g]=l;n.delete(l);let v=c,m=h;for(o=[c,d],s.push(o);;){let w;if(n.has(p))w=p;else if(n.has(g))w=g;else break;n.delete(w),[c,h,d,p,g]=w,v!==c&&(o.push(v,m,c,m===h?h:d),v=c),m=m===h?d:h}o.push(v,m)}return new pz(s,this.#t,this.#e,this.#i)}#r(t){const e=this.#a;let n=0,s=e.length-1;for(;n<=s;){const o=n+s>>1,l=e[o][0];if(l===t)return o;l<t?n=o+1:s=o-1}return s+1}#o([,t,e]){const n=this.#r(t);this.#a.splice(n,0,[t,e])}#c([,t,e]){const n=this.#r(t);for(let s=n;s<this.#a.length;s++){const[o,l]=this.#a[s];if(o!==t)break;if(o===t&&l===e){this.#a.splice(s,1);return}}for(let s=n-1;s>=0;s--){const[o,l]=this.#a[s];if(o!==t)break;if(o===t&&l===e){this.#a.splice(s,1);return}}}#l(t){const[e,n,s]=t,o=[[e,n,s]],l=this.#r(s);for(let c=0;c<l;c++){const[h,d]=this.#a[c];for(let p=0,g=o.length;p<g;p++){const[,v,m]=o[p];if(!(d<=v||m<=h)){if(v>=h){if(m>d)o[p][1]=d;else{if(g===1)return[];o.splice(p,1),p--,g--}continue}o[p][2]=h,m>d&&o.push([e,d,m])}}}return o}}class pz extends wt{#t;#e;constructor(t,e,n,s){super(),this.#e=t,this.#t=e,this.firstPoint=n,this.lastPoint=s}toSVGPath(){const t=[];for(const e of this.#e){let[n,s]=e;t.push(`M${n} ${s}`);for(let o=2;o<e.length;o+=2){const l=e[o],c=e[o+1];l===n?(t.push(`V${c}`),s=c):c===s&&(t.push(`H${l}`),n=l)}t.push("Z")}return t.join(" ")}serialize([t,e,n,s],o){const l=[],c=n-t,h=s-e;for(const d of this.#e){const p=new Array(d.length);for(let g=0;g<d.length;g+=2)p[g]=t+d[g]*c,p[g+1]=s-d[g+1]*h;l.push(p)}return l}get box(){return this.#t}get classNamesForOutlining(){return["highlightOutline"]}}class Hy extends to{newFreeDrawOutline(t,e,n,s,o,l){return new gz(t,e,n,s,o,l)}}class gz extends gC{newOutliner(t,e,n,s,o,l=0){return new Hy(t,e,n,s,o,l)}}class rn extends Lt{#t=null;#e=0;#i;#n=null;#a=null;#s=null;#r=null;#o=0;#c=null;#l=null;#d=null;#h=!1;#f=null;#m=null;#p=null;#u="";#g;#y="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=Ut.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=rn.prototype;return Xt(this,"_keyboardManager",new Ku([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||rn._defaultColor,this.#g=t.thickness||rn._defaultThickness,this.opacity=t.opacity||rn._defaultOpacity,this.#i=t.boxes||null,this.#y=t.methodOfCreation||"",this.#u=t.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(this.#h=!0,this.#v(t),this.#S()):this.#i&&(this.#t=t.anchorNode,this.#e=t.anchorOffset,this.#r=t.focusNode,this.#o=t.focusOffset,this.#b(),this.#S(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#h?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#g,methodOfCreation:this.#y}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#b(){const t=new Uy(this.#i,.001);this.#l=t.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const e=new Uy(this.#i,.0025,.001,this._uiManager.direction==="ltr");this.#s=e.getOutlines();const{firstPoint:n}=this.#l;this.#f=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height];const{lastPoint:s}=this.#s;this.#m=[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height]}#v({highlightOutlines:t,highlightId:e,clipPathId:n}){this.#l=t;const s=1.5;if(this.#s=t.getNewOutline(this.#g/2+s,.0025),e>=0)this.#d=e,this.#n=n,this.parent.drawLayer.finalizeDraw(e,{bbox:t.box,path:{d:t.toSVGPath()}}),this.#p=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},!0);else if(this.parent){const g=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#d,{bbox:rn.#A(this.#l.box,(g-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#p,{bbox:rn.#A(this.#s.box,g),path:{d:this.#s.toSVGPath()}})}const[o,l,c,h]=t.box;switch(this.rotation){case 0:this.x=o,this.y=l,this.width=c,this.height=h;break;case 90:{const[g,v]=this.parentDimensions;this.x=l,this.y=1-o,this.width=c*v/g,this.height=h*g/v;break}case 180:this.x=1-o,this.y=1-l,this.width=c,this.height=h;break;case 270:{const[g,v]=this.parentDimensions;this.x=1-l,this.y=o,this.width=c*v/g,this.height=h*g/v;break}}const{firstPoint:d}=t;this.#f=[(d[0]-o)/c,(d[1]-l)/h];const{lastPoint:p}=this.#s;this.#m=[(p[0]-o)/c,(p[1]-l)/h]}static initialize(t,e){Lt.initialize(t,e),rn._defaultColor||=e.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,e){switch(t){case ne.HIGHLIGHT_COLOR:rn._defaultColor=e;break;case ne.HIGHLIGHT_THICKNESS:rn._defaultThickness=e;break}}translateInPage(t,e){}get toolbarPosition(){return this.#m}get commentButtonPosition(){return this.#f}updateParams(t,e){switch(t){case ne.HIGHLIGHT_COLOR:this.#E(e);break;case ne.HIGHLIGHT_THICKNESS:this.#x(e);break}}static get defaultPropertiesToUpdate(){return[[ne.HIGHLIGHT_COLOR,rn._defaultColor],[ne.HIGHLIGHT_THICKNESS,rn._defaultThickness]]}get propertiesToUpdate(){return[[ne.HIGHLIGHT_COLOR,this.color||rn._defaultColor],[ne.HIGHLIGHT_THICKNESS,this.#g||rn._defaultThickness],[ne.HIGHLIGHT_FREE,this.#h]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#d,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#a?.updateColor(this.color),super.onUpdatedColor()}#E(t){const e=(o,l)=>{this.color=o,this.opacity=l,this.onUpdatedColor()},n=this.color,s=this.opacity;this.addCommands({cmd:e.bind(this,t,rn._defaultOpacity),undo:e.bind(this,n,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ne.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)}#x(t){const e=this.#g,n=s=>{this.#g=s,this.#_(s)};this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ne.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#a=new Ti({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#R())}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,this.#R())}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){this.#C(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#S(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?this.#C():t&&(this.#S(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),e&&this.select()}#_(t){this.#h&&(this.#v({highlightOutlines:this.#l.getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))}#C(){this.#d===null||!this.parent||(this.parent.drawLayer.remove(this.#d),this.#d=null,this.parent.drawLayer.remove(this.#p),this.#p=null)}#S(t=this.parent){this.#d===null&&({id:this.#d,clipPathId:this.#n}=t.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#h},path:{d:this.#l.toSVGPath()}},!1,!0),this.#p=t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#h},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},this.#h),this.#c&&(this.#c.style.clipPath=this.#n))}static#A([t,e,n,s],o){switch(o){case 90:return[1-e-s,t,s,n];case 180:return[1-t-n,1-e-s,n,s];case 270:return[e,1-t-n,s,n]}return[t,e,n,s]}rotate(t){const{drawLayer:e}=this.parent;let n;this.#h?(t=(t-this.rotation+360)%360,n=rn.#A(this.#l.box,t)):n=rn.#A([this.x,this.y,this.width,this.height],t),e.updateProperties(this.#d,{bbox:n,root:{"data-main-rotation":t}}),e.updateProperties(this.#p,{bbox:rn.#A(this.#s.box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();this.#u&&(t.setAttribute("aria-label",this.#u),t.setAttribute("role","mark")),this.#h?t.classList.add("free"):this.div.addEventListener("keydown",this.#D.bind(this),{signal:this._uiManager._signal});const e=this.#c=document.createElement("div");return t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=this.#n,this.setDims(this.width,this.height),GT(this,this.#c,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1}})}#D(t){rn._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#M(!0);break;case 1:case 3:this.#M(!1);break}}#M(t){if(!this.#t)return;const e=window.getSelection();t?e.setPosition(this.#t,this.#e):e.setPosition(this.#r,this.#o)}select(){super.select(),this.#p&&this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#p&&(this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{selected:!1}}),this.#h||this.#M(!1))}get _mustFixPosition(){return!this.#h}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(this.#d,{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(this.#p,{rootClass:{hidden:!t}}))}#R(){return this.#h?this.rotation:0}#I(){if(this.#h)return null;const[t,e]=this.pageDimensions,[n,s]=this.pageTranslation,o=this.#i,l=new Float32Array(o.length*8);let c=0;for(const{x:h,y:d,width:p,height:g}of o){const v=h*t+n,m=(1-d)*e+s;l[c]=l[c+4]=v,l[c+1]=l[c+3]=m,l[c+2]=l[c+6]=v+p*t,l[c+5]=l[c+7]=m-g*e,c+=8}return l}#k(t){return this.#l.serialize(t,this.#R())}static startHighlighting(t,e,{target:n,x:s,y:o}){const{x:l,y:c,width:h,height:d}=n.getBoundingClientRect(),p=new AbortController,g=t.combinedSignal(p),v=m=>{p.abort(),this.#z(t,m)};window.addEventListener("blur",v,{signal:g}),window.addEventListener("pointerup",v,{signal:g}),window.addEventListener("pointerdown",Xe,{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",zi,{signal:g}),n.addEventListener("pointermove",this.#L.bind(this,t),{signal:g}),this._freeHighlight=new Hy({x:s,y:o},[l,c,h,d],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#L(t,e){this._freeHighlight.add(e)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#z(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(t,e,n){let s=null;if(t instanceof dC){const{data:{quadPoints:w,rect:_,rotation:S,id:x,color:T,opacity:C,popupRef:D,richText:R,contentsObj:P,creationDate:O,modificationDate:L},parent:{page:{pageNumber:F}}}=t;s=t={annotationType:Ut.HIGHLIGHT,color:Array.from(T),opacity:C,quadPoints:w,boxes:null,pageIndex:F-1,rect:_.slice(0),rotation:S,annotationElementId:x,id:x,deleted:!1,popupRef:D,richText:R,comment:P?.str||null,creationDate:O,modificationDate:L}}else if(t instanceof Qv){const{data:{inkLists:w,rect:_,rotation:S,id:x,color:T,borderStyle:{rawWidth:C},popupRef:D,richText:R,contentsObj:P,creationDate:O,modificationDate:L},parent:{page:{pageNumber:F}}}=t;s=t={annotationType:Ut.HIGHLIGHT,color:Array.from(T),thickness:C,inkLists:w,boxes:null,pageIndex:F-1,rect:_.slice(0),rotation:S,annotationElementId:x,id:x,deleted:!1,popupRef:D,richText:R,comment:P?.str||null,creationDate:O,modificationDate:L}}const{color:o,quadPoints:l,inkLists:c,opacity:h}=t,d=await super.deserialize(t,e,n);d.color=St.makeHexColor(...o),d.opacity=h||1,c&&(d.#g=t.thickness),d._initialData=s,t.comment&&d.setCommentData(t);const[p,g]=d.pageDimensions,[v,m]=d.pageTranslation;if(l){const w=d.#i=[];for(let _=0;_<l.length;_+=8)w.push({x:(l[_]-v)/p,y:1-(l[_+1]-m)/g,width:(l[_+2]-l[_])/p,height:(l[_+1]-l[_+5])/g});d.#b(),d.#S(),d.rotate(d.rotation)}else if(c){d.#h=!0;const w=c[0],_={x:w[0]-v,y:g-(w[1]-m)},S=new Hy(_,[0,0,p,g],1,d.#g/2,!0,.001);for(let C=0,D=w.length;C<D;C+=2)_.x=w[C]-v,_.y=g-(w[C+1]-m),S.add(_);const{id:x,clipPathId:T}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:S.toSVGPath()}},!0,!0);d.#v({highlightOutlines:S.getOutlines(),highlightId:x,clipPathId:T}),d.#S(),d.rotate(d.parentRotation)}return d}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const e=Lt._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),n=super.serialize(t);return Object.assign(n,{color:e,opacity:this.opacity,thickness:this.#g,quadPoints:this.#I(),outlines:this.#k(n.rect)}),this.addComment(n),this.annotationElementId&&!this.#P(n)?null:(n.id=this.annotationElementId,n)}#P(t){const{color:e}=this._initialData;return this.hasEditedComment||t.color.some((n,s)=>n!==e[s])}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class mC{#t=Object.create(null);updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,n]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,n)}updateSVGProperty(t,e){this.#t[t]=e}toSVGProperties(){const t=this.#t;return this.#t=Object.create(null),{root:t}}reset(){this.#t=Object.create(null)}updateAll(t=this){this.updateProperties(t)}clone(){De("Not implemented")}}class It extends Lt{#t=null;#e;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#i=null;static#n=null;static#a=null;static#s=NaN;static#r=null;static#o=null;static#c=NaN;static _INNER_MARGIN=3;constructor(t){super(t),this.#e=t.mustBeCommitted||!1,this._addOutlines(t)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(this.#l(t),this.#f())}#l({drawOutlines:t,drawId:e,drawingOptions:n}){this.#t=t,this._drawingOptions||=n,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),e>=0?(this._drawId=e,this.parent.drawLayer.finalizeDraw(e,t.defaultProperties)):this._drawId=this.#d(t,this.parent),this.#u(t.box)}#d(t,e){const{id:n}=e.drawLayer.draw(It._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return n}static _mergeSVGProperties(t,e){const n=new Set(Object.keys(t));for(const[s,o]of Object.entries(e))n.has(s)?Object.assign(t[s],o):t[s]=o;return t}static getDefaultDrawingOptions(t){De("Not implemented")}static get typesMap(){De("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,e){const n=this.typesMap.get(t);n&&this._defaultDrawingOptions.updateProperty(n,e),this._currentParent&&(It.#i.updateProperty(n,e),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,e){const n=this.constructor.typesMap.get(t);n&&this._updateProperty(t,n,e)}static get defaultPropertiesToUpdate(){const t=[],e=this._defaultDrawingOptions;for(const[n,s]of this.typesMap)t.push([n,e[s]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:e}=this;for(const[n,s]of this.constructor.typesMap)t.push([n,e[s]]);return t}_updateProperty(t,e,n){const s=this._drawingOptions,o=s[e],l=c=>{s.updateProperty(e,c);const h=this.#t.updateProperty(e,c);h&&this.#u(h),this.parent?.drawLayer.updateProperties(this._drawId,s.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:l.bind(this,n),undo:l.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,It._mergeSVGProperties(this.#t.getPathResizingSVGProperties(this.#p()),{bbox:this.#g()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,It._mergeSVGProperties(this.#t.getPathResizedSVGProperties(this.#p()),{bbox:this.#g()}))}_onTranslating(t,e){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#g()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,It._mergeSVGProperties(this.#t.getPathTranslatedSVGProperties(this.#p(),this.parentDimensions),{bbox:this.#g()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#e&&(this.#e=!1,this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){this.#h(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#f(),this.#u(this.#t.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),this.#h()):t&&(this._uiManager.addShouldRescale(this),this.#f(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),e&&this.select()}#h(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#f(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#d(this.#t,t)}}#m([t,e,n,s]){const{parentDimensions:[o,l],rotation:c}=this;switch(c){case 90:return[e,1-t,n*(l/o),s*(o/l)];case 180:return[1-t,1-e,n,s];case 270:return[1-e,t,n*(l/o),s*(o/l)];default:return[t,e,n,s]}}#p(){const{x:t,y:e,width:n,height:s,parentDimensions:[o,l],rotation:c}=this;switch(c){case 90:return[1-e,t,n*(o/l),s*(l/o)];case 180:return[1-t,1-e,n,s];case 270:return[e,1-t,n*(o/l),s*(l/o)];default:return[t,e,n,s]}}#u(t){[this.x,this.y,this.width,this.height]=this.#m(t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#g(){const{x:t,y:e,width:n,height:s,rotation:o,parentRotation:l,parentDimensions:[c,h]}=this;switch((o*4+l)/90){case 1:return[1-e-s,t,s,n];case 2:return[1-t-n,1-e-s,n,s];case 3:return[e,1-t-n,s,n];case 4:return[t,e-n*(c/h),s*(h/c),n*(c/h)];case 5:return[1-e,t,n*(c/h),s*(h/c)];case 6:return[1-t-s*(h/c),1-e,s*(h/c),n*(c/h)];case 7:return[e-n*(c/h),1-t-s*(h/c),n*(c/h),s*(h/c)];case 8:return[t-n,e-s,n,s];case 9:return[1-e,t-n,s,n];case 10:return[1-t,1-e,n,s];case 11:return[e-s,1-t,s,n];case 12:return[t-s*(h/c),e,s*(h/c),n*(c/h)];case 13:return[1-e-n*(c/h),t-s*(h/c),n*(c/h),s*(h/c)];case 14:return[1-t,1-e-n*(c/h),s*(h/c),n*(c/h)];case 15:return[e,1-t,n*(c/h),s*(h/c)];default:return[t,e,n,s]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,It._mergeSVGProperties({bbox:this.#g()},this.#t.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#u(this.#t.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,e;this._isCopy&&(t=this.x,e=this.y);const n=super.render();n.classList.add("draw");const s=document.createElement("div");return n.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,e),n}static createDrawerInstance(t,e,n,s,o){De("Not implemented")}static startDrawing(t,e,n,s){const{target:o,offsetX:l,offsetY:c,pointerId:h,pointerType:d}=s;if(It.#r&&It.#r!==d)return;const{viewport:{rotation:p}}=t,{width:g,height:v}=o.getBoundingClientRect(),m=It.#n=new AbortController,w=t.combinedSignal(m);if(It.#s||=h,It.#r??=d,window.addEventListener("pointerup",_=>{It.#s===_.pointerId?this._endDraw(_):It.#o?.delete(_.pointerId)},{signal:w}),window.addEventListener("pointercancel",_=>{It.#s===_.pointerId?this._currentParent.endDrawingSession():It.#o?.delete(_.pointerId)},{signal:w}),window.addEventListener("pointerdown",_=>{It.#r===_.pointerType&&((It.#o||=new Set).add(_.pointerId),It.#i.isCancellable()&&(It.#i.removeLastElement(),It.#i.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:w}),window.addEventListener("contextmenu",zi,{signal:w}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:w}),o.addEventListener("touchmove",_=>{_.timeStamp===It.#c&&Xe(_)},{signal:w}),t.toggleDrawing(),e._editorUndoBar?.hide(),It.#i){t.drawLayer.updateProperties(this._currentDrawId,It.#i.startNew(l,c,g,v,p));return}e.updateUIForDefaultProperties(this),It.#i=this.createDrawerInstance(l,c,g,v,p),It.#a=this.getDefaultDrawingOptions(),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(It.#a.toSVGProperties(),It.#i.defaultSVGProperties),!0,!1)}static _drawMove(t){if(It.#c=-1,!It.#i)return;const{offsetX:e,offsetY:n,pointerId:s}=t;if(It.#s===s){if(It.#o?.size>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,It.#i.add(e,n)),It.#c=t.timeStamp,Xe(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,It.#i=null,It.#a=null,It.#r=null,It.#c=NaN),It.#n&&(It.#n.abort(),It.#n=null,It.#s=NaN,It.#o=null)}static _endDraw(t){const e=this._currentParent;if(e){if(e.toggleDrawing(!0),this._cleanup(!1),t?.target===e.div&&e.drawLayer.updateProperties(this._currentDrawId,It.#i.end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const n=It.#i,s=this._currentDrawId,o=n.getLastElement();e.addCommands({cmd:()=>{e.drawLayer.updateProperties(s,n.setLastElement(o))},undo:()=>{e.drawLayer.updateProperties(s,n.removeLastElement())},mustExec:!1,type:ne.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const e=this._currentParent;if(!e)return null;if(e.toggleDrawing(!0),e.cleanUndoStack(ne.DRAW_STEP),!It.#i.isEmpty()){const{pageDimensions:[n,s],scale:o}=e,l=e.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:It.#i.getOutlines(n*o,s*o,o,this._INNER_MARGIN),drawingOptions:It.#a,mustBeCommitted:!t});return this._cleanup(!0),l}return e.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,e,n,s,o,l){De("Not implemented")}static async deserialize(t,e,n){const{rawDims:{pageWidth:s,pageHeight:o,pageX:l,pageY:c}}=e.viewport,h=this.deserializeDraw(l,c,s,o,this._INNER_MARGIN,t),d=await super.deserialize(t,e,n);return d.createDrawingOptions(t),d.#l({drawOutlines:h}),d.#f(),d.onScaleChanging(),d.rotate(),d}serializeDraw(t){const[e,n]=this.pageTranslation,[s,o]=this.pageDimensions;return this.#t.serialize([e,n,s,o],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class mz{#t=new Float64Array(6);#e;#i;#n;#a;#s;#r="";#o=0;#c=new Ju;#l;#d;constructor(t,e,n,s,o,l){this.#l=n,this.#d=s,this.#n=o,this.#a=l,[t,e]=this.#h(t,e);const c=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e],this.#i=[{line:c,points:this.#s}],this.#t.set(c,0)}updateProperty(t,e){t==="stroke-width"&&(this.#a=e)}#h(t,e){return wt._normalizePoint(t,e,this.#l,this.#d,this.#n)}isEmpty(){return!this.#i||this.#i.length===0}isCancellable(){return this.#s.length<=10}add(t,e){[t,e]=this.#h(t,e);const[n,s,o,l]=this.#t.subarray(2,6),c=t-o,h=e-l;return Math.hypot(this.#l*c,this.#d*h)<=2?null:(this.#s.push(t,e),isNaN(n)?(this.#t.set([o,l,t,e],2),this.#e.push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(this.#t[0])&&this.#e.splice(6,6),this.#t.set([n,s,o,l,t,e],0),this.#e.push(...wt.createBezierPoints(n,s,o,l,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const n=this.add(t,e);return n||(this.#s.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,n,s,o){this.#l=n,this.#d=s,this.#n=o,[t,e]=this.#h(t,e);const l=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#s=[t,e];const c=this.#i.at(-1);return c&&(c.line=new Float32Array(c.line),c.points=new Float32Array(c.points)),this.#i.push({line:l,points:this.#s}),this.#t.set(l,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#i.at(-1)}setLastElement(t){return this.#i?(this.#i.push(t),this.#e=t.line,this.#s=t.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#c.setLastElement(t)}removeLastElement(){if(!this.#i)return this.#c.removeLastElement();this.#i.pop(),this.#r="";for(let t=0,e=this.#i.length;t<e;t++){const{line:n,points:s}=this.#i[t];this.#e=n,this.#s=s,this.#o=0,this.toSVGPath()}return{path:{d:this.#r}}}toSVGPath(){const t=wt.svgRound(this.#e[4]),e=wt.svgRound(this.#e[5]);if(this.#s.length===2)return this.#r=`${this.#r} M ${t} ${e} Z`,this.#r;if(this.#s.length<=6){const s=this.#r.lastIndexOf("M");this.#r=`${this.#r.slice(0,s)} M ${t} ${e}`,this.#o=6}if(this.#s.length===4){const s=wt.svgRound(this.#e[10]),o=wt.svgRound(this.#e[11]);return this.#r=`${this.#r} L ${s} ${o}`,this.#o=12,this.#r}const n=[];this.#o===0&&(n.push(`M ${t} ${e}`),this.#o=6);for(let s=this.#o,o=this.#e.length;s<o;s+=6){const[l,c,h,d,p,g]=this.#e.slice(s,s+6).map(wt.svgRound);n.push(`C${l} ${c} ${h} ${d} ${p} ${g}`)}return this.#r+=n.join(" "),this.#o=this.#e.length,this.#r}getOutlines(t,e,n,s){const o=this.#i.at(-1);return o.line=new Float32Array(o.line),o.points=new Float32Array(o.points),this.#c.build(this.#i,t,e,n,this.#n,this.#a,s),this.#t=null,this.#e=null,this.#i=null,this.#r=null,this.#c}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Ju extends wt{#t;#e=0;#i;#n;#a;#s;#r;#o;#c;build(t,e,n,s,o,l,c){this.#a=e,this.#s=n,this.#r=s,this.#o=o,this.#c=l,this.#i=c??0,this.#n=t,this.#h()}get thickness(){return this.#c}setLastElement(t){return this.#n.push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#n.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:e}of this.#n){if(t.push(`M${wt.svgRound(e[4])} ${wt.svgRound(e[5])}`),e.length===6){t.push("Z");continue}if(e.length===12&&isNaN(e[6])){t.push(`L${wt.svgRound(e[10])} ${wt.svgRound(e[11])}`);continue}for(let n=6,s=e.length;n<s;n+=6){const[o,l,c,h,d,p]=e.subarray(n,n+6).map(wt.svgRound);t.push(`C${o} ${l} ${c} ${h} ${d} ${p}`)}}return t.join("")}serialize([t,e,n,s],o){const l=[],c=[],[h,d,p,g]=this.#d();let v,m,w,_,S,x,T,C,D;switch(this.#o){case 0:D=wt._rescale,v=t,m=e+s,w=n,_=-s,S=t+h*n,x=e+(1-d-g)*s,T=t+(h+p)*n,C=e+(1-d)*s;break;case 90:D=wt._rescaleAndSwap,v=t,m=e,w=n,_=s,S=t+d*n,x=e+h*s,T=t+(d+g)*n,C=e+(h+p)*s;break;case 180:D=wt._rescale,v=t+n,m=e,w=-n,_=s,S=t+(1-h-p)*n,x=e+d*s,T=t+(1-h)*n,C=e+(d+g)*s;break;case 270:D=wt._rescaleAndSwap,v=t+n,m=e+s,w=-n,_=-s,S=t+(1-d-g)*n,x=e+(1-h-p)*s,T=t+(1-d)*n,C=e+(1-h)*s;break}for(const{line:R,points:P}of this.#n)l.push(D(R,v,m,w,_,o?new Array(R.length):null)),c.push(D(P,v,m,w,_,o?new Array(P.length):null));return{lines:l,points:c,rect:[S,x,T,C]}}static deserialize(t,e,n,s,o,{paths:{lines:l,points:c},rotation:h,thickness:d}){const p=[];let g,v,m,w,_;switch(h){case 0:_=wt._rescale,g=-t/n,v=e/s+1,m=1/n,w=-1/s;break;case 90:_=wt._rescaleAndSwap,g=-e/s,v=-t/n,m=1/s,w=1/n;break;case 180:_=wt._rescale,g=t/n+1,v=-e/s,m=-1/n,w=1/s;break;case 270:_=wt._rescaleAndSwap,g=e/s+1,v=t/n+1,m=-1/s,w=-1/n;break}if(!l){l=[];for(const x of c){const T=x.length;if(T===2){l.push(new Float32Array([NaN,NaN,NaN,NaN,x[0],x[1]]));continue}if(T===4){l.push(new Float32Array([NaN,NaN,NaN,NaN,x[0],x[1],NaN,NaN,NaN,NaN,x[2],x[3]]));continue}const C=new Float32Array(3*(T-2));l.push(C);let[D,R,P,O]=x.subarray(0,4);C.set([NaN,NaN,NaN,NaN,D,R],0);for(let L=4;L<T;L+=2){const F=x[L],X=x[L+1];C.set(wt.createBezierPoints(D,R,P,O,F,X),(L-2)*3),[D,R,P,O]=[P,O,F,X]}}}for(let x=0,T=l.length;x<T;x++)p.push({line:_(l[x].map(C=>C??NaN),g,v,m,w),points:_(c[x].map(C=>C??NaN),g,v,m,w)});const S=new this.prototype.constructor;return S.build(p,n,s,1,h,d,o),S}#l(t=this.#c){const e=this.#i+t/2*this.#r;return this.#o%180===0?[e/this.#a,e/this.#s]:[e/this.#s,e/this.#a]}#d(){const[t,e,n,s]=this.#t,[o,l]=this.#l(0);return[t+o,e+l,n-2*o,s-2*l]}#h(){const t=this.#t=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:s}of this.#n){if(s.length<=12){for(let c=4,h=s.length;c<h;c+=6)St.pointBoundingBox(s[c],s[c+1],t);continue}let o=s[4],l=s[5];for(let c=6,h=s.length;c<h;c+=6){const[d,p,g,v,m,w]=s.subarray(c,c+6);St.bezierBoundingBox(o,l,d,p,g,v,m,w,t),o=m,l=w}}const[e,n]=this.#l();t[0]=Gn(t[0]-e,0,1),t[1]=Gn(t[1]-n,0,1),t[2]=Gn(t[2]+e,0,1),t[3]=Gn(t[3]+n,0,1),t[2]-=t[0],t[3]-=t[1]}get box(){return this.#t}updateProperty(t,e){return t==="stroke-width"?this.#f(e):null}#f(t){const[e,n]=this.#l();this.#c=t;const[s,o]=this.#l(),[l,c]=[s-e,o-n],h=this.#t;return h[0]-=l,h[1]-=c,h[2]+=2*l,h[3]+=2*c,h}updateParentDimensions([t,e],n){const[s,o]=this.#l();this.#a=t,this.#s=e,this.#r=n;const[l,c]=this.#l(),h=l-s,d=c-o,p=this.#t;return p[0]-=h,p[1]-=d,p[2]+=2*h,p[3]+=2*d,p}updateRotation(t){return this.#e=t,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#t.map(wt.svgRound).join(" ")}get defaultProperties(){const[t,e]=this.#t;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${wt.svgRound(t)} ${wt.svgRound(e)}`}}}get rotationTransform(){const[,,t,e]=this.#t;let n=0,s=0,o=0,l=0,c=0,h=0;switch(this.#e){case 90:s=e/t,o=-t/e,c=t;break;case 180:n=-1,l=-1,c=t,h=e;break;case 270:s=-e/t,o=t/e,h=e;break;default:return""}return`matrix(${n} ${s} ${o} ${l} ${wt.svgRound(c)} ${wt.svgRound(h)})`}getPathResizingSVGProperties([t,e,n,s]){const[o,l]=this.#l(),[c,h,d,p]=this.#t;if(Math.abs(d-o)<=wt.PRECISION||Math.abs(p-l)<=wt.PRECISION){const _=t+n/2-(c+d/2),S=e+s/2-(h+p/2);return{path:{"transform-origin":`${wt.svgRound(t)} ${wt.svgRound(e)}`,transform:`${this.rotationTransform} translate(${_} ${S})`}}}const g=(n-2*o)/(d-2*o),v=(s-2*l)/(p-2*l),m=d/n,w=p/s;return{path:{"transform-origin":`${wt.svgRound(c)} ${wt.svgRound(h)}`,transform:`${this.rotationTransform} scale(${m} ${w}) translate(${wt.svgRound(o)} ${wt.svgRound(l)}) scale(${g} ${v}) translate(${wt.svgRound(-o)} ${wt.svgRound(-l)})`}}}getPathResizedSVGProperties([t,e,n,s]){const[o,l]=this.#l(),c=this.#t,[h,d,p,g]=c;if(c[0]=t,c[1]=e,c[2]=n,c[3]=s,Math.abs(p-o)<=wt.PRECISION||Math.abs(g-l)<=wt.PRECISION){const S=t+n/2-(h+p/2),x=e+s/2-(d+g/2);for(const{line:T,points:C}of this.#n)wt._translate(T,S,x,T),wt._translate(C,S,x,C);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${wt.svgRound(t)} ${wt.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const v=(n-2*o)/(p-2*o),m=(s-2*l)/(g-2*l),w=-v*(h+o)+t+o,_=-m*(d+l)+e+l;if(v!==1||m!==1||w!==0||_!==0)for(const{line:S,points:x}of this.#n)wt._rescale(S,w,_,v,m,S),wt._rescale(x,w,_,v,m,x);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${wt.svgRound(t)} ${wt.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,e],n){const[s,o]=n,l=this.#t,c=t-l[0],h=e-l[1];if(this.#a===s&&this.#s===o)for(const{line:d,points:p}of this.#n)wt._translate(d,c,h,d),wt._translate(p,c,h,p);else{const d=this.#a/s,p=this.#s/o;this.#a=s,this.#s=o;for(const{line:g,points:v}of this.#n)wt._rescale(g,c,h,d,p,g),wt._rescale(v,c,h,d,p,v);l[2]*=d,l[3]*=p}return l[0]=t,l[1]=e,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${wt.svgRound(t)} ${wt.svgRound(e)}`}}}get defaultSVGProperties(){const t=this.#t;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${wt.svgRound(t[0])} ${wt.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}class Hf extends mC{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:Lt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??=this["stroke-width"],e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new Hf(this._viewParameters);return t.updateAll(this),t}}class Jv extends It{static _type="ink";static _editorType=Ut.INK;static _defaultDrawingOptions=null;constructor(t){super({...t,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,e){Lt.initialize(t,e),this._defaultDrawingOptions=new Hf(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!0}static get typesMap(){return Xt(this,"typesMap",new Map([[ne.INK_THICKNESS,"stroke-width"],[ne.INK_COLOR,"stroke"],[ne.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,e,n,s,o){return new mz(t,e,n,s,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,e,n,s,o,l){return Ju.deserialize(t,e,n,s,o,l)}static async deserialize(t,e,n){let s=null;if(t instanceof Qv){const{data:{inkLists:l,rect:c,rotation:h,id:d,color:p,opacity:g,borderStyle:{rawWidth:v},popupRef:m,richText:w,contentsObj:_,creationDate:S,modificationDate:x},parent:{page:{pageNumber:T}}}=t;s=t={annotationType:Ut.INK,color:Array.from(p),thickness:v,opacity:g,paths:{points:l},boxes:null,pageIndex:T-1,rect:c.slice(0),rotation:h,annotationElementId:d,id:d,deleted:!1,popupRef:m,richText:w,comment:_?.str||null,creationDate:S,modificationDate:x}}const o=await super.deserialize(t,e,n);return o._initialData=s,t.comment&&o.setCommentData(t),o}get toolbarButtons(){return this._colorPicker||=new Pu(this),[["colorPicker",this._colorPicker]]}get colorType(){return ne.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:e,parent:n}=this;e.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(t,e.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:e,opacity:n}){this._drawingOptions=Jv.getDefaultDrawingOptions({stroke:St.makeHexColor(...t),"stroke-width":e,"stroke-opacity":n})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:e,points:n}=this.serializeDraw(t),{_drawingOptions:{stroke:s,"stroke-opacity":o,"stroke-width":l}}=this,c=Object.assign(super.serialize(t),{color:Lt._colorManager.convert(s),opacity:o,thickness:l,paths:{lines:e,points:n}});return this.addComment(c),t?(c.isCopy=!0,c):this.annotationElementId&&!this.#t(c)?null:(c.id=this.annotationElementId,c)}#t(t){const{color:e,thickness:n,opacity:s,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((l,c)=>l!==e[c])||t.thickness!==n||t.opacity!==s||t.pageIndex!==o}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:e,rect:n}=this.serializeDraw(!1);return t.updateEdited({rect:n,thickness:this._drawingOptions["stroke-width"],points:e,popup:this.comment}),null}}class Gy extends Ju{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const Bd=8,Wc=3;class Za{static#t={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#e(t,e,n,s){return n-=t,s-=e,n===0?s>0?0:4:n===1?s+6:2-s}static#i=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#n(t,e,n,s,o,l,c){const h=this.#e(n,s,o,l);for(let d=0;d<8;d++){const p=(-d+h-c+16)%8,g=this.#i[2*p],v=this.#i[2*p+1];if(t[(n+g)*e+(s+v)]!==0)return p}return-1}static#a(t,e,n,s,o,l,c){const h=this.#e(n,s,o,l);for(let d=0;d<8;d++){const p=(d+h+c+16)%8,g=this.#i[2*p],v=this.#i[2*p+1];if(t[(n+g)*e+(s+v)]!==0)return p}return-1}static#s(t,e,n,s){const o=t.length,l=new Int32Array(o);for(let p=0;p<o;p++)l[p]=t[p]<=s?1:0;for(let p=1;p<n-1;p++)l[p*e]=l[p*e+e-1]=0;for(let p=0;p<e;p++)l[p]=l[e*n-1-p]=0;let c=1,h;const d=[];for(let p=1;p<n-1;p++){h=1;for(let g=1;g<e-1;g++){const v=p*e+g,m=l[v];if(m===0)continue;let w=p,_=g;if(m===1&&l[v-1]===0)c+=1,_-=1;else if(m>=1&&l[v+1]===0)c+=1,_+=1,m>1&&(h=m);else{m!==1&&(h=Math.abs(m));continue}const S=[g,p],x=_===g+1,T={isHole:x,points:S,id:c,parent:0};d.push(T);let C;for(const G of d)if(G.id===h){C=G;break}C?C.isHole?T.parent=x?C.parent:h:T.parent=x?h:C.parent:T.parent=x?h:0;const D=this.#n(l,e,p,g,w,_,0);if(D===-1){l[v]=-c,l[v]!==1&&(h=Math.abs(l[v]));continue}let R=this.#i[2*D],P=this.#i[2*D+1];const O=p+R,L=g+P;w=O,_=L;let F=p,X=g;for(;;){const G=this.#a(l,e,F,X,w,_,1);R=this.#i[2*G],P=this.#i[2*G+1];const rt=F+R,tt=X+P;S.push(tt,rt);const W=F*e+X;if(l[W+1]===0?l[W]=-c:l[W]===1&&(l[W]=c),rt===p&&tt===g&&F===O&&X===L){l[v]!==1&&(h=Math.abs(l[v]));break}else w=F,_=X,F=rt,X=tt}}}return d}static#r(t,e,n,s){if(n-e<=4){for(let O=e;O<n-2;O+=2)s.push(t[O],t[O+1]);return}const o=t[e],l=t[e+1],c=t[n-4]-o,h=t[n-3]-l,d=Math.hypot(c,h),p=c/d,g=h/d,v=p*l-g*o,m=h/c,w=1/d,_=Math.atan(m),S=Math.cos(_),x=Math.sin(_),T=w*(Math.abs(S)+Math.abs(x)),C=w*(1-T+T**2),D=Math.max(Math.atan(Math.abs(x+S)*C),Math.atan(Math.abs(x-S)*C));let R=0,P=e;for(let O=e+2;O<n-2;O+=2){const L=Math.abs(v-p*t[O+1]+g*t[O]);L>R&&(P=O,R=L)}R>(d*D)**2?(this.#r(t,e,P+2,s),this.#r(t,P,n,s)):s.push(o,l)}static#o(t){const e=[],n=t.length;return this.#r(t,0,n,e),e.push(t[n-2],t[n-1]),e.length<=4?null:e}static#c(t,e,n,s,o,l){const c=new Float32Array(l**2),h=-2*s**2,d=l>>1;for(let _=0;_<l;_++){const S=(_-d)**2;for(let x=0;x<l;x++)c[_*l+x]=Math.exp((S+(x-d)**2)/h)}const p=new Float32Array(256),g=-2*o**2;for(let _=0;_<256;_++)p[_]=Math.exp(_**2/g);const v=t.length,m=new Uint8Array(v),w=new Uint32Array(256);for(let _=0;_<n;_++)for(let S=0;S<e;S++){const x=_*e+S,T=t[x];let C=0,D=0;for(let P=0;P<l;P++){const O=_+P-d;if(!(O<0||O>=n))for(let L=0;L<l;L++){const F=S+L-d;if(F<0||F>=e)continue;const X=t[O*e+F],G=c[P*l+L]*p[Math.abs(X-T)];C+=X*G,D+=G}}const R=m[x]=Math.round(C/D);w[R]++}return[m,w]}static#l(t){const e=new Uint32Array(256);for(const n of t)e[n]++;return e}static#d(t){const e=t.length,n=new Uint8ClampedArray(e>>2);let s=-1/0,o=1/0;for(let c=0,h=n.length;c<h;c++){const d=n[c]=t[c<<2];s=Math.max(s,d),o=Math.min(o,d)}const l=255/(s-o);for(let c=0,h=n.length;c<h;c++)n[c]=(n[c]-o)*l;return n}static#h(t){let e,n=-1/0,s=-1/0;const o=t.findIndex(h=>h!==0);let l=o,c=o;for(e=o;e<256;e++){const h=t[e];h>n&&(e-l>s&&(s=e-l,c=e-1),n=h,l=e)}for(e=c-1;e>=0&&!(t[e]>t[e+1]);e--);return e}static#f(t){const e=t,{width:n,height:s}=t,{maxDim:o}=this.#t;let l=n,c=s;if(n>o||s>o){let v=n,m=s,w=Math.log2(Math.max(n,s)/o);const _=Math.floor(w);w=w===_?_-1:_;for(let x=0;x<w;x++){l=Math.ceil(v/2),c=Math.ceil(m/2);const T=new OffscreenCanvas(l,c);T.getContext("2d").drawImage(t,0,0,v,m,0,0,l,c),v=l,m=c,t!==e&&t.close(),t=T.transferToImageBitmap()}const S=Math.min(o/l,o/c);l=Math.round(l*S),c=Math.round(c*S)}const d=new OffscreenCanvas(l,c).getContext("2d",{willReadFrequently:!0});d.fillStyle="white",d.fillRect(0,0,l,c),d.filter="grayscale(1)",d.drawImage(t,0,0,t.width,t.height,0,0,l,c);const p=d.getImageData(0,0,l,c).data;return[this.#d(p),l,c]}static extractContoursFromText(t,{fontFamily:e,fontStyle:n,fontWeight:s},o,l,c,h){let d=new OffscreenCanvas(1,1),p=d.getContext("2d",{alpha:!1});const g=200,v=p.font=`${n} ${s} ${g}px ${e}`,{actualBoundingBoxLeft:m,actualBoundingBoxRight:w,actualBoundingBoxAscent:_,actualBoundingBoxDescent:S,fontBoundingBoxAscent:x,fontBoundingBoxDescent:T,width:C}=p.measureText(t),D=1.5,R=Math.ceil(Math.max(Math.abs(m)+Math.abs(w)||0,C)*D),P=Math.ceil(Math.max(Math.abs(_)+Math.abs(S)||g,Math.abs(x)+Math.abs(T)||g)*D);d=new OffscreenCanvas(R,P),p=d.getContext("2d",{alpha:!0,willReadFrequently:!0}),p.font=v,p.filter="grayscale(1)",p.fillStyle="white",p.fillRect(0,0,R,P),p.fillStyle="black",p.fillText(t,R*(D-1)/2,P*(3-D)/2);const O=this.#d(p.getImageData(0,0,R,P).data),L=this.#l(O),F=this.#h(L),X=this.#s(O,R,P,F);return this.processDrawnLines({lines:{curves:X,width:R,height:P},pageWidth:o,pageHeight:l,rotation:c,innerMargin:h,mustSmooth:!0,areContours:!0})}static process(t,e,n,s,o){const[l,c,h]=this.#f(t),[d,p]=this.#c(l,c,h,Math.hypot(c,h)*this.#t.sigmaSFactor,this.#t.sigmaR,this.#t.kernelSize),g=this.#h(p),v=this.#s(d,c,h,g);return this.processDrawnLines({lines:{curves:v,width:c,height:h},pageWidth:e,pageHeight:n,rotation:s,innerMargin:o,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:s,innerMargin:o,mustSmooth:l,areContours:c}){s%180!==0&&([e,n]=[n,e]);const{curves:h,width:d,height:p}=t,g=t.thickness??0,v=[],m=Math.min(e/d,n/p),w=m/e,_=m/n,S=[];for(const{points:T}of h){const C=l?this.#o(T):T;if(!C)continue;S.push(C);const D=C.length,R=new Float32Array(D),P=new Float32Array(3*(D===2?2:D-2));if(v.push({line:P,points:R}),D===2){R[0]=C[0]*w,R[1]=C[1]*_,P.set([NaN,NaN,NaN,NaN,R[0],R[1]],0);continue}let[O,L,F,X]=C;O*=w,L*=_,F*=w,X*=_,R.set([O,L,F,X],0),P.set([NaN,NaN,NaN,NaN,O,L],0);for(let G=4;G<D;G+=2){const rt=R[G]=C[G]*w,tt=R[G+1]=C[G+1]*_;P.set(wt.createBezierPoints(O,L,F,X,rt,tt),(G-2)*3),[O,L,F,X]=[F,X,rt,tt]}}if(v.length===0)return null;const x=c?new Gy:new Ju;return x.build(v,e,n,1,s,c?0:g,o),{outline:x,newCurves:S,areContours:c,thickness:g,width:d,height:p}}static async compressSignature({outlines:t,areContours:e,thickness:n,width:s,height:o}){let l=1/0,c=-1/0,h=0;for(const C of t){h+=C.length;for(let D=2,R=C.length;D<R;D++){const P=C[D]-C[D-2];l=Math.min(l,P),c=Math.max(c,P)}}let d;l>=-128&&c<=127?d=Int8Array:l>=-32768&&c<=32767?d=Int16Array:d=Int32Array;const p=t.length,g=Bd+Wc*p,v=new Uint32Array(g);let m=0;v[m++]=g*Uint32Array.BYTES_PER_ELEMENT+(h-2*p)*d.BYTES_PER_ELEMENT,v[m++]=0,v[m++]=s,v[m++]=o,v[m++]=e?0:1,v[m++]=Math.max(0,Math.floor(n??0)),v[m++]=p,v[m++]=d.BYTES_PER_ELEMENT;for(const C of t)v[m++]=C.length-2,v[m++]=C[0],v[m++]=C[1];const w=new CompressionStream("deflate-raw"),_=w.writable.getWriter();await _.ready,_.write(v);const S=d.prototype.constructor;for(const C of t){const D=new S(C.length-2);for(let R=2,P=C.length;R<P;R++)D[R-2]=C[R]-C[R-2];_.write(D)}_.close();const x=await new Response(w.readable).arrayBuffer(),T=new Uint8Array(x);return BT(T)}static async decompressSignature(t){try{const e=UI(t),{readable:n,writable:s}=new DecompressionStream("deflate-raw"),o=s.getWriter();await o.ready,o.write(e).then(async()=>{await o.ready,await o.close()}).catch(()=>{});let l=null,c=0;for await(const C of n)l||=new Uint8Array(new Uint32Array(C.buffer,0,4)[0]),l.set(C,c),c+=C.length;const h=new Uint32Array(l.buffer,0,l.length>>2),d=h[1];if(d!==0)throw new Error(`Invalid version: ${d}`);const p=h[2],g=h[3],v=h[4]===0,m=h[5],w=h[6],_=h[7],S=[],x=(Bd+Wc*w)*Uint32Array.BYTES_PER_ELEMENT;let T;switch(_){case Int8Array.BYTES_PER_ELEMENT:T=new Int8Array(l.buffer,x);break;case Int16Array.BYTES_PER_ELEMENT:T=new Int16Array(l.buffer,x);break;case Int32Array.BYTES_PER_ELEMENT:T=new Int32Array(l.buffer,x);break}c=0;for(let C=0;C<w;C++){const D=h[Wc*C+Bd],R=new Float32Array(D+2);S.push(R);for(let P=0;P<Wc-1;P++)R[P]=h[Wc*C+Bd+P+1];for(let P=0;P<D;P++)R[P+2]=R[P]+T[c++]}return{areContours:v,thickness:m,outlines:S,width:p,height:g}}catch(e){return Ht(`decompressSignature: ${e}`),null}}}class t0 extends mC{constructor(){super(),super.updateProperties({fill:Lt._defaultLineColor,"stroke-width":0})}clone(){const t=new t0;return t.updateAll(this),t}}class e0 extends Hf{constructor(t){super(t),super.updateProperties({stroke:Lt._defaultLineColor,"stroke-width":1})}clone(){const t=new e0(this._viewParameters);return t.updateAll(this),t}}class ks extends It{#t=!1;#e=null;#i=null;#n=null;static _type="signature";static _editorType=Ut.SIGNATURE;static _defaultDrawingOptions=null;constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#i=t.signatureData||null,this.#e=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,e){Lt.initialize(t,e),this._defaultDrawingOptions=new t0,this._defaultDrawnSignatureOptions=new e0(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!1}static get typesMap(){return Xt(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#e}}static computeTelemetryFinalData(t){const e=t.get("hasDescription");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,e;const{_isCopy:n}=this;if(n&&(this._isCopy=!1,t=this.x,e=this.y),super.render(),this._drawId===null)if(this.#i){const{lines:s,mustSmooth:o,areContours:l,description:c,uuid:h,heightInPage:d}=this.#i,{rawDims:{pageWidth:p,pageHeight:g},rotation:v}=this.parent.viewport,m=Za.processDrawnLines({lines:s,pageWidth:p,pageHeight:g,rotation:v,innerMargin:ks._INNER_MARGIN,mustSmooth:o,areContours:l});this.addSignature(m,d,c,h)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#e||""}));return n&&(this._isCopy=!0,this._moveAfterPaste(t,e)),this.div}setUuid(t){this.#n=t,this.addEditToolbar()}getUuid(){return this.#n}get description(){return this.#e}set description(t){this.#e=t,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(e=>{e?.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:e,thickness:n,width:s,height:o}=this.#i,l=Math.max(s,o),c=Za.processDrawnLines({lines:{curves:t.map(h=>({points:h})),thickness:n,width:s,height:o},pageWidth:l,pageHeight:l,rotation:0,innerMargin:0,mustSmooth:!1,areContours:e});return{areContours:e,outline:c.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,e,n,s){const{x:o,y:l}=this,{outline:c}=this.#i=t;this.#t=c instanceof Gy,this.description=n;let h;this.#t?h=ks.getDefaultDrawingOptions():(h=ks._defaultDrawnSignatureOptions.clone(),h.updateProperties({"stroke-width":c.thickness})),this._addOutlines({drawOutlines:c,drawingOptions:h});const[,d]=this.pageDimensions;let p=e/d;p=p>=1?.5:p,this.width*=p/this.height,this.width>=1&&(p*=.9/this.width,this.width=.9),this.height=p,this.setDims(),this.x=o,this.y=l,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!n}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:s}=this.parent.viewport;return Za.process(t,e,n,s,ks._INNER_MARGIN)}getFromText(t,e){const{rawDims:{pageWidth:n,pageHeight:s},rotation:o}=this.parent.viewport;return Za.extractContoursFromText(t,e,n,s,o,ks._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:s}=this.parent.viewport;return Za.processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:s,innerMargin:ks._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:e}){t?this._drawingOptions=ks.getDefaultDrawingOptions():(this._drawingOptions=ks._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":e}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:e,points:n}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":s}}=this,o=Object.assign(super.serialize(t),{isSignature:!0,areContours:this.#t,color:[0,0,0],thickness:this.#t?0:s});return this.addComment(o),t?(o.paths={lines:e,points:n},o.uuid=this.#n,o.isCopy=!0):o.lines=e,this.#e&&(o.accessibilityData={type:"Figure",alt:this.#e}),o}static deserializeDraw(t,e,n,s,o,l){return l.areContours?Gy.deserialize(t,e,n,s,o,l):Ju.deserialize(t,e,n,s,o,l)}static async deserialize(t,e,n){const s=await super.deserialize(t,e,n);return s.#t=t.areContours,s.description=t.accessibilityData?.alt||"",s.#n=t.uuid,s}}class yz extends Lt{#t=null;#e=null;#i=null;#n=null;#a=null;#s="";#r=null;#o=!1;#c=null;#l=!1;#d=!1;static _type="stamp";static _editorType=Ut.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#n=t.bitmapUrl,this.#a=t.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,e){Lt.initialize(t,e)}static isHandlingMimeForPasting(t){return yf.includes(t)}static paste(t,e){e.pasteEditor({mode:Ut.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){const e=t.get("hasAltText");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}#h(t,e=!1){if(!t){this.remove();return}this.#t=t.bitmap,e||(this.#e=t.id,this.#l=t.isSvg),t.file&&(this.#s=t.file.name),this.#p()}#f(){if(this.#i=null,this._uiManager.enableWaiting(!1),!!this.#r){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(t=null,e=!0){if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:o,height:l}=t||this.copyCanvas(null,null,!0).imageData,c=await n.guess({name:"altText",request:{data:s,width:o,height:l,channels:s.length/(o*l)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const h=c.output;return await this.setGuessedAltText(h),e&&!this.hasAltTextData()&&(this.altTextData={alt:h,decorative:!1}),h}#m(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(n=>this.#h(n,!0)).finally(()=>this.#f());return}if(this.#n){const n=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromUrl(n).then(s=>this.#h(s)).finally(()=>this.#f());return}if(this.#a){const n=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromFile(n).then(s=>this.#h(s)).finally(()=>this.#f());return}const t=document.createElement("input");t.type="file",t.accept=yf.join(",");const e=this._uiManager._signal;this.#i=new Promise(n=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#h(s)}n()},{signal:e}),t.addEventListener("cancel",()=>{this.remove(),n()},{signal:e})}).finally(()=>this.#f()),t.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#r?.remove(),this.#r=null,this.#c&&(clearTimeout(this.#c),this.#c=null)),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#m();return}super.rebuild(),this.div!==null&&(this.#e&&this.#r===null&&this.#m(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(this.#i||this.#t||this.#n||this.#a||this.#e||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;return this._isCopy&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#t?this.#p():this.#m()),this._isCopy&&this._moveAfterPaste(t,e),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,e){const{id:n,bitmap:s}=this._uiManager.imageManager.getFromCanvas(t,e);e.remove(),n&&this._uiManager.imageManager.isValidId(n)&&(this.#e=n,s&&(this.#t=s),this.#o=!1,this.#p())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#c!==null&&clearTimeout(this.#c);const t=200;this.#c=setTimeout(()=>{this.#c=null,this.#g()},t)}#p(){const{div:t}=this;let{width:e,height:n}=this.#t;const[s,o]=this.pageDimensions,l=.75;if(this.width)e=this.width*s,n=this.height*o;else if(e>l*s||n>l*o){const h=Math.min(l*s/e,l*o/n);e*=h,n*=h}this._uiManager.enableWaiting(!1);const c=this.#r=document.createElement("canvas");c.setAttribute("role","img"),this.addContainer(c),this.width=e/s,this.height=n/o,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#g(),this.#d||(this.parent.addUndoableEditor(this),this.#d=!0),this._reportTelemetry({action:"inserted_image"}),this.#s&&this.div.setAttribute("aria-description",this.#s),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(t,e,n=!1){t||(t=224);const{width:s,height:o}=this.#t,l=new ws;let c=this.#t,h=s,d=o,p=null;if(e){if(s>e||o>e){const P=Math.min(e/s,e/o);h=Math.floor(s*P),d=Math.floor(o*P)}p=document.createElement("canvas");const v=p.width=Math.ceil(h*l.sx),m=p.height=Math.ceil(d*l.sy);this.#l||(c=this.#u(v,m));const w=p.getContext("2d");w.filter=this._uiManager.hcmFilter;let _="white",S="#cfcfd8";this._uiManager.hcmFilter!=="none"?S="black":VI.isDarkMode&&(_="#8f8f9d",S="#42414d");const x=15,T=x*l.sx,C=x*l.sy,D=new OffscreenCanvas(T*2,C*2),R=D.getContext("2d");R.fillStyle=_,R.fillRect(0,0,T*2,C*2),R.fillStyle=S,R.fillRect(0,0,T,C),R.fillRect(T,C,T,C),w.fillStyle=w.createPattern(D,"repeat"),w.fillRect(0,0,v,m),w.drawImage(c,0,0,c.width,c.height,0,0,v,m)}let g=null;if(n){let v,m;if(l.symmetric&&c.width<t&&c.height<t)v=c.width,m=c.height;else if(c=this.#t,s>t||o>t){const S=Math.min(t/s,t/o);v=Math.floor(s*S),m=Math.floor(o*S),this.#l||(c=this.#u(v,m))}const _=new OffscreenCanvas(v,m).getContext("2d",{willReadFrequently:!0});_.drawImage(c,0,0,c.width,c.height,0,0,v,m),g={width:v,height:m,data:_.getImageData(0,0,v,m).data}}return{canvas:p,width:h,height:d,imageData:g}}#u(t,e){const{width:n,height:s}=this.#t;let o=n,l=s,c=this.#t;for(;o>2*t||l>2*e;){const h=o,d=l;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),l>2*e&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const p=new OffscreenCanvas(o,l);p.getContext("2d").drawImage(c,0,0,h,d,0,0,o,l),c=p.transferToImageBitmap()}return c}#g(){const[t,e]=this.parentDimensions,{width:n,height:s}=this,o=new ws,l=Math.ceil(n*t*o.sx),c=Math.ceil(s*e*o.sy),h=this.#r;if(!h||h.width===l&&h.height===c)return;h.width=l,h.height=c;const d=this.#l?this.#t:this.#u(l,c),p=h.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(d,0,0,d.width,d.height,0,0,l,c)}#y(t){if(t){if(this.#l){const s=this._uiManager.imageManager.getSvgUrl(this.#e);if(s)return s}const e=document.createElement("canvas");return{width:e.width,height:e.height}=this.#t,e.getContext("2d").drawImage(this.#t,0,0),e.toDataURL()}if(this.#l){const[e,n]=this.pageDimensions,s=Math.round(this.width*e*yo.PDF_TO_CSS_UNITS),o=Math.round(this.height*n*yo.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(s,o);return l.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,s,o),l.transferToImageBitmap()}return structuredClone(this.#t)}static async deserialize(t,e,n){let s=null,o=!1;if(t instanceof fC){const{data:{rect:_,rotation:S,id:x,structParent:T,popupRef:C,richText:D,contentsObj:R,creationDate:P,modificationDate:O},container:L,parent:{page:{pageNumber:F}},canvas:X}=t;let G,rt;X?(delete t.canvas,{id:G,bitmap:rt}=n.imageManager.getFromCanvas(L.id,X),X.remove()):(o=!0,t._hasNoCanvas=!0);const tt=(await e._structTree.getAriaAttributes(`${zv}${x}`))?.get("aria-label")||"";s=t={annotationType:Ut.STAMP,bitmapId:G,bitmap:rt,pageIndex:F-1,rect:_.slice(0),rotation:S,annotationElementId:x,id:x,deleted:!1,accessibilityData:{decorative:!1,altText:tt},isSvg:!1,structParent:T,popupRef:C,richText:D,comment:R?.str||null,creationDate:P,modificationDate:O}}const l=await super.deserialize(t,e,n),{rect:c,bitmap:h,bitmapUrl:d,bitmapId:p,isSvg:g,accessibilityData:v}=t;o?(n.addMissingCanvas(t.id,l),l.#o=!0):p&&n.imageManager.isValidId(p)?(l.#e=p,h&&(l.#t=h)):l.#n=d,l.#l=g;const[m,w]=l.pageDimensions;return l.width=(c[2]-c[0])/m,l.height=(c[3]-c[1])/w,v&&(l.altTextData=v),l._initialData=s,t.comment&&l.setCommentData(t),l.#d=!!s,l}serialize(t=!1,e=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Object.assign(super.serialize(t),{bitmapId:this.#e,isSvg:this.#l});if(this.addComment(n),t)return n.bitmapUrl=this.#y(!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:s,altText:o}=this.serializeAltText(!1);if(!s&&o&&(n.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const c=this.#b(n);return c.isSame?null:(c.isSameAltText?delete n.accessibilityData:n.accessibilityData.structParent=this._initialData.structParent??-1,n.id=this.annotationElementId,delete n.bitmapId,n)}if(e===null)return n;e.stamps||=new Map;const l=this.#l?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(!e.stamps.has(this.#e))e.stamps.set(this.#e,{area:l,serialized:n}),n.bitmap=this.#y(!1);else if(this.#l){const c=e.stamps.get(this.#e);l>c.area&&(c.area=l,c.serialized.bitmap.close(),c.serialized.bitmap=this.#y(!1))}return n}#b(t){const{pageIndex:e,accessibilityData:{altText:n}}=this._initialData,s=t.pageIndex===e,o=(t.accessibilityData?.alt||"")===n;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&s&&o,isSameAltText:o}}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class Ps{#t;#e=!1;#i=null;#n=null;#a=null;#s=new Map;#r=!1;#o=!1;#c=!1;#l=null;#d=null;#h=null;#f=null;#m=null;#p=-1;#u;static _initialized=!1;static#g=new Map([En,Jv,yz,rn,ks].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:e,div:n,structTreeLayer:s,accessibilityManager:o,annotationLayer:l,drawLayer:c,textLayer:h,viewport:d,l10n:p}){const g=[...Ps.#g.values()];if(!Ps._initialized){Ps._initialized=!0;for(const v of g)v.initialize(p,t)}t.registerEditorTypes(g),this.#u=t,this.pageIndex=e,this.div=n,this.#t=o,this.#i=l,this.viewport=d,this.#h=h,this.drawLayer=c,this._structTree=s,this.#u.addLayer(this)}get isEmpty(){return this.#s.size===0}get isInvisible(){return this.isEmpty&&this.#u.getMode()===Ut.NONE}updateToolbar(t){this.#u.updateToolbar(t)}updateMode(t=this.#u.getMode()){switch(this.#_(),t){case Ut.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Ut.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Ut.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;if(e.toggle("nonEditing",!1),t===Ut.POPUP)e.toggle("commentEditing",!0);else{e.toggle("commentEditing",!1);for(const n of Ps.#g.values())e.toggle(`${n._type}Editing`,t===n._editorType)}this.div.hidden=!1}hasTextLayer(t){return t===this.#h?.div}setEditingState(t){this.#u.setEditingState(t)}addCommands(t){this.#u.addCommands(t)}cleanUndoStack(t){this.#u.cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#i?.div.classList.toggle("disabled",!t)}get#y(){return this.#s.size!==0?this.#s.values():this.#u.getEditors(this.pageIndex)}async enable(){this.#c=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#m?.abort(),this.#m=null;const t=new Set;for(const n of this.#y)n.enableEditing(),n.show(!0),n.annotationElementId&&(this.#u.removeChangedExistingAnnotation(n),t.add(n.annotationElementId));const e=this.#i;if(e)for(const n of e.getEditableAnnotations()){if(n.hide(),this.#u.isDeletedAnnotationElement(n.data.id)||t.has(n.data.id))continue;const s=await this.deserialize(n);s&&(this.addOrRebuild(s),s.enableEditing())}this.#c=!1,this.#u._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#h&&!this.#m){this.#m=new AbortController;const n=this.#u.combinedSignal(this.#m);this.#h.div.addEventListener("pointerdown",s=>{const{clientX:l,clientY:c,timeStamp:h}=s,d=this.#p;if(h-d>500){this.#p=h;return}this.#p=-1;const{classList:p}=this.div;p.toggle("getElements",!0);const g=document.elementsFromPoint(l,c);if(p.toggle("getElements",!1),!this.div.contains(g[0]))return;let v;const m=new RegExp(`^${Ou}[0-9]+$`);for(const _ of g)if(m.test(_.id)){v=_.id;break}if(!v)return;const w=this.#s.get(v);w?.annotationElementId===null&&(s.stopPropagation(),s.preventDefault(),w.dblclick(s))},{signal:n,capture:!0})}const t=this.#i;if(t){const n=new Map,s=new Map;for(const l of this.#y){if(l.disableEditing(),!l.annotationElementId){l.updateFakeAnnotationElement(t);continue}if(l.serialize()!==null){n.set(l.annotationElementId,l);continue}else s.set(l.annotationElementId,l);this.getEditableAnnotation(l.annotationElementId)?.show(),l.remove()}const o=t.getEditableAnnotations();for(const l of o){const{id:c}=l.data;if(this.#u.isDeletedAnnotationElement(c)){l.updateEdited({deleted:!0});continue}let h=s.get(c);if(h){h.resetAnnotationElement(l),h.show(!1),l.show();continue}h=n.get(c),h&&(this.#u.addChangedExistingAnnotation(h),h.renderAnnotationElement(l)&&h.show(!1)),l.show()}}this.#_(),this.isEmpty&&(this.div.hidden=!0);const{classList:e}=this.div;for(const n of Ps.#g.values())e.remove(`${n._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#o=!1}getEditableAnnotation(t){return this.#i?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#u.getActive()!==t&&this.#u.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#h?.div&&!this.#f){this.#f=new AbortController;const t=this.#u.combinedSignal(this.#f);this.#h.div.addEventListener("pointerdown",this.#b.bind(this),{signal:t}),this.#h.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#h?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#h.div.classList.remove("highlighting"))}#b(t){this.#u.unselectAll();const{target:e}=t;if(e===this.#h.div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&this.#h.div.contains(e)){const{isMac:n}=Cn.platform;if(t.button!==0||t.ctrlKey&&n)return;this.#u.showAllEditors("highlight",!0,!0),this.#h.div.classList.add("free"),this.toggleDrawing(),rn.startHighlighting(this,this.#u.direction==="ltr",{target:this.#h.div,x:t.x,y:t.y}),this.#h.div.addEventListener("pointerup",()=>{this.#h.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#u._signal}),t.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;const t=this.#u.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){this.#n?.abort(),this.#n=null}attach(t){this.#s.set(t.id,t);const{annotationElementId:e}=t;e&&this.#u.isDeletedAnnotationElement(e)&&this.#u.removeDeletedAnnotationElement(t)}detach(t){this.#s.delete(t.id),this.#t?.removePointerInTextLayer(t.contentDiv),!this.#o&&t.annotationElementId&&this.#u.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#u.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#u.addDeletedAnnotationElement(t.annotationElementId),Lt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#u.addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!this.#c),this.#u.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!this.#a&&(t._focusEventsAllowed=!1,this.#a=setTimeout(()=>{this.#a=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#u._signal}),e.focus())},0)),t._structTreeParentId=this.#t?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),n=()=>{t.remove()};this.addCommands({cmd:e,undo:n,mustExec:!1})}getEditorByUID(t){for(const e of this.#s.values())if(e.uid===t)return e;return null}getNextId(){return this.#u.getId()}get#v(){return Ps.#g.get(this.#u.getMode())}combinedSignal(t){return this.#u.combinedSignal(t)}#E(t){const e=this.#v;return e?new e.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#v?.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await this.#u.updateMode(t.mode);const{offsetX:n,offsetY:s}=this.#x(),o=this.getNextId(),l=this.#E({parent:this,id:o,x:n,y:s,uiManager:this.#u,isCentered:!0,...e});l&&this.add(l)}async deserialize(t){return await Ps.#g.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#u)||null}createAndAddNewEditor(t,e,n={}){const s=this.getNextId(),o=this.#E({parent:this,id:s,x:t.offsetX,y:t.offsetY,uiManager:this.#u,isCentered:e,...n});return o&&this.add(o),o}get boundingClientRect(){return this.div.getBoundingClientRect()}#x(){const{x:t,y:e,width:n,height:s}=this.boundingClientRect,o=Math.max(0,t),l=Math.max(0,e),c=Math.min(window.innerWidth,t+n),h=Math.min(window.innerHeight,e+s),d=(o+c)/2-t,p=(l+h)/2-e,[g,v]=this.viewport.rotation%180===0?[d,p]:[p,d];return{offsetX:g,offsetY:v}}addNewEditor(t={}){this.createAndAddNewEditor(this.#x(),!0,t)}setSelected(t){this.#u.setSelected(t)}toggleSelected(t){this.#u.toggleSelected(t)}unselect(t){this.#u.unselect(t)}pointerup(t){const{isMac:e}=Cn.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!this.#r||(this.#r=!1,this.#v?.isDrawer&&this.#v.supportMultipleDrawings))return;if(!this.#e){this.#e=!0;return}const n=this.#u.getMode();if(n===Ut.STAMP||n===Ut.SIGNATURE){this.#u.unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){if(this.#u.getMode()===Ut.HIGHLIGHT&&this.enableTextSelection(),this.#r){this.#r=!1;return}const{isMac:e}=Cn.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(this.#r=!0,this.#v?.isDrawer){this.startDrawingSession(t);return}const n=this.#u.getActive();this.#e=!n||n.isEmpty()}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),this.#l){this.#v.startDrawing(this,this.#u,!1,t);return}this.#u.setCurrentDrawingSession(this),this.#l=new AbortController;const e=this.#u.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(this.#d=null,this.commitOrRemove())},{signal:e}),this.#v.startDrawing(this,this.#u,!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&(this.#d=e);return}this.#d&&setTimeout(()=>{this.#d?.focus(),this.#d=null},0)}endDrawingSession(t=!1){return this.#l?(this.#u.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#d=null,this.#v.endDrawing(t)):null}findNewParent(t,e,n){const s=this.#u.findParent(e,n);return s===null||s===this?!1:(s.changeParent(t),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#v.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#u.getActive()?.parent===this&&(this.#u.commitOrRemove(),this.#u.setActiveEditor(null)),this.#a&&(clearTimeout(this.#a),this.#a=null);for(const t of this.#s.values())this.#t?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#s.clear(),this.#u.removeLayer(this)}#_(){for(const t of this.#s.values())t.isEmpty()&&t.remove()}render({viewport:t}){this.viewport=t,ba(this.div,t);for(const e of this.#u.getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){this.#u.commitOrRemove(),this.#_();const e=this.viewport.rotation,n=t.rotation;if(this.viewport=t,ba(this.div,{rotation:n}),e!==n)for(const s of this.#s.values())s.rotate(n)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return this.#u.viewParameters.realScale}}class Tn{#t=null;#e=new Map;#i=new Map;static#n=0;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(!this.#t){this.#t=t;return}if(this.#t!==t){if(this.#e.size>0)for(const e of this.#e.values())e.remove(),t.append(e);this.#t=t}}static get _svgFactory(){return Xt(this,"_svgFactory",new Bu)}static#a(t,[e,n,s,o]){const{style:l}=t;l.top=`${100*n}%`,l.left=`${100*e}%`,l.width=`${100*s}%`,l.height=`${100*o}%`}#s(){const t=Tn._svgFactory.create(1,1,!0);return this.#t.append(t),t.setAttribute("aria-hidden",!0),t}#r(t,e){const n=Tn._svgFactory.createElement("clipPath");t.append(n);const s=`clip_${e}`;n.setAttribute("id",s),n.setAttribute("clipPathUnits","objectBoundingBox");const o=Tn._svgFactory.createElement("use");return n.append(o),o.setAttribute("href",`#${e}`),o.classList.add("clip"),s}#o(t,e){for(const[n,s]of Object.entries(e))s===null?t.removeAttribute(n):t.setAttribute(n,s)}draw(t,e=!1,n=!1){const s=Tn.#n++,o=this.#s(),l=Tn._svgFactory.createElement("defs");o.append(l);const c=Tn._svgFactory.createElement("path");l.append(c);const h=`path_p${this.pageIndex}_${s}`;c.setAttribute("id",h),c.setAttribute("vector-effect","non-scaling-stroke"),e&&this.#i.set(s,c);const d=n?this.#r(l,h):null,p=Tn._svgFactory.createElement("use");return o.append(p),p.setAttribute("href",`#${h}`),this.updateProperties(o,t),this.#e.set(s,o),{id:s,clipPathId:`url(#${d})`}}drawOutline(t,e){const n=Tn.#n++,s=this.#s(),o=Tn._svgFactory.createElement("defs");s.append(o);const l=Tn._svgFactory.createElement("path");o.append(l);const c=`path_p${this.pageIndex}_${n}`;l.setAttribute("id",c),l.setAttribute("vector-effect","non-scaling-stroke");let h;if(e){const g=Tn._svgFactory.createElement("mask");o.append(g),h=`mask_p${this.pageIndex}_${n}`,g.setAttribute("id",h),g.setAttribute("maskUnits","objectBoundingBox");const v=Tn._svgFactory.createElement("rect");g.append(v),v.setAttribute("width","1"),v.setAttribute("height","1"),v.setAttribute("fill","white");const m=Tn._svgFactory.createElement("use");g.append(m),m.setAttribute("href",`#${c}`),m.setAttribute("stroke","none"),m.setAttribute("fill","black"),m.setAttribute("fill-rule","nonzero"),m.classList.add("mask")}const d=Tn._svgFactory.createElement("use");s.append(d),d.setAttribute("href",`#${c}`),h&&d.setAttribute("mask",`url(#${h})`);const p=d.cloneNode();return s.append(p),d.classList.add("mainOutline"),p.classList.add("secondaryOutline"),this.updateProperties(s,t),this.#e.set(n,s),n}finalizeDraw(t,e){this.#i.delete(t),this.updateProperties(t,e)}updateProperties(t,e){if(!e)return;const{root:n,bbox:s,rootClass:o,path:l}=e,c=typeof t=="number"?this.#e.get(t):t;if(c){if(n&&this.#o(c,n),s&&Tn.#a(c,s),o){const{classList:h}=c;for(const[d,p]of Object.entries(o))h.toggle(d,p)}if(l){const d=c.firstChild.firstChild;this.#o(d,l)}}}updateParent(t,e){if(e===this)return;const n=this.#e.get(t);n&&(e.#t.append(n),this.#e.delete(t),e.#e.set(t,n))}remove(t){this.#i.delete(t),this.#t!==null&&(this.#e.get(t).remove(),this.#e.delete(t))}destroy(){this.#t=null;for(const t of this.#e.values())t.remove();this.#e.clear(),this.#i.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:Uy};globalThis.pdfjsLib={AbortException:Cr,AnnotationEditorLayer:Ps,AnnotationEditorParamsType:ne,AnnotationEditorType:Ut,AnnotationEditorUIManager:Mr,AnnotationLayer:Zv,AnnotationMode:zs,AnnotationType:sn,applyOpacity:UT,build:lC,ColorPicker:Ti,createValidAbsoluteUrl:Pv,CSSConstants:jT,DOMSVGFactory:Bu,DrawLayer:Tn,FeatureTest:Cn,fetchData:Zl,findContrastColor:HT,getDocument:qv,getFilenameFromUrl:IT,getPdfFilenameFromUrl:zT,getRGB:Jl,getUuid:Iv,getXfaPageViewport:FT,GlobalWorkerOptions:wr,ImageKind:du,InvalidPDFException:gf,isDataScheme:Wu,isPdfFile:jf,isValidExplicitDest:XT,MathClamp:Gn,noContextMenu:zi,normalizeUnicode:PT,OPS:Vl,OutputScale:ws,PasswordResponses:NT,PDFDataRangeTransport:Wv,PDFDateString:mf,PDFWorker:Yl,PermissionFlag:kT,PixelsPerInch:yo,RenderingCancelledException:Ff,renderRichText:jv,ResponseException:ku,setLayerDimensions:ba,shadow:Xt,SignatureExtractor:Za,stopEvent:Xe,SupportedImageMimeTypes:yf,TextLayer:Lu,TouchManager:Qu,updateUrlHash:Bv,Util:St,VerbosityLevel:Xu,version:oC,XfaLayer:Fv};const vz=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Cr,AnnotationEditorLayer:Ps,AnnotationEditorParamsType:ne,AnnotationEditorType:Ut,AnnotationEditorUIManager:Mr,AnnotationLayer:Zv,AnnotationMode:zs,AnnotationType:sn,CSSConstants:jT,ColorPicker:Ti,DOMSVGFactory:Bu,DrawLayer:Tn,FeatureTest:Cn,GlobalWorkerOptions:wr,ImageKind:du,InvalidPDFException:gf,MathClamp:Gn,OPS:Vl,OutputScale:ws,PDFDataRangeTransport:Wv,PDFDateString:mf,PDFWorker:Yl,PasswordResponses:NT,PermissionFlag:kT,PixelsPerInch:yo,RenderingCancelledException:Ff,ResponseException:ku,SignatureExtractor:Za,SupportedImageMimeTypes:yf,TextLayer:Lu,TouchManager:Qu,Util:St,VerbosityLevel:Xu,XfaLayer:Fv,applyOpacity:UT,build:lC,createValidAbsoluteUrl:Pv,fetchData:Zl,findContrastColor:HT,getDocument:qv,getFilenameFromUrl:IT,getPdfFilenameFromUrl:zT,getRGB:Jl,getUuid:Iv,getXfaPageViewport:FT,isDataScheme:Wu,isPdfFile:jf,isValidExplicitDest:XT,noContextMenu:zi,normalizeUnicode:PT,renderRichText:jv,setLayerDimensions:ba,shadow:Xt,stopEvent:Xe,updateUrlHash:Bv,version:oC},Symbol.toStringTag,{value:"Module"}));var nA=Object.prototype.hasOwnProperty;function iA(a,t,e){for(e of a.keys())if(kl(e,t))return e}function kl(a,t){var e,n,s;if(a===t)return!0;if(a&&t&&(e=a.constructor)===t.constructor){if(e===Date)return a.getTime()===t.getTime();if(e===RegExp)return a.toString()===t.toString();if(e===Array){if((n=a.length)===t.length)for(;n--&&kl(a[n],t[n]););return n===-1}if(e===Set){if(a.size!==t.size)return!1;for(n of a)if(s=n,s&&typeof s=="object"&&(s=iA(t,s),!s)||!t.has(s))return!1;return!0}if(e===Map){if(a.size!==t.size)return!1;for(n of a)if(s=n[0],s&&typeof s=="object"&&(s=iA(t,s),!s)||!kl(n[1],t.get(s)))return!1;return!0}if(e===ArrayBuffer)a=new Uint8Array(a),t=new Uint8Array(t);else if(e===DataView){if((n=a.byteLength)===t.byteLength)for(;n--&&a.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(a)){if((n=a.byteLength)===t.byteLength)for(;n--&&a[n]===t[n];);return n===-1}if(!e||typeof a=="object"){n=0;for(e in a)if(nA.call(a,e)&&++n&&!nA.call(t,e)||!(e in t)||!kl(a[e],t[e]))return!1;return Object.keys(t).length===n}}return a!==a&&t!==t}function th(a){let t=!1;return{promise:new Promise((n,s)=>{a.then(o=>!t&&n(o)).catch(o=>!t&&s(o))}),cancel(){t=!0}}}const bz=["onCopy","onCut","onPaste"],_z=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],wz=["onFocus","onBlur"],Sz=["onInput","onInvalid","onReset","onSubmit"],xz=["onLoad","onError"],Az=["onKeyDown","onKeyPress","onKeyUp"],Ez=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],Tz=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],Cz=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],Mz=["onSelect"],Rz=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],Dz=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],Oz=["onScroll"],kz=["onWheel"],Nz=["onAnimationStart","onAnimationEnd","onAnimationIteration"],Lz=["onTransitionEnd"],Pz=["onToggle"],Bz=["onChange"],Iz=[...bz,..._z,...wz,...Sz,...xz,...Az,...Ez,...Tz,...Cz,...Mz,...Rz,...Dz,...Oz,...kz,...Nz,...Lz,...Bz,...Pz];function yC(a,t){const e={};for(const n of Iz){const s=a[n];s&&(t?e[n]=(o=>s(o,t(n))):e[n]=s)}return e}var zz="Invariant failed";function Me(a,t){if(!a)throw new Error(zz)}var Xm,sA;function Fz(){if(sA)return Xm;sA=1;var a=function(){};return Xm=a,Xm}var jz=Fz();const Yn=Iu(jz),vC=M.createContext(null),Uz="noopener noreferrer nofollow";class Hz{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Me(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){Me(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}addLinkAttributes(t,e,n){t.href=e,t.rel=this.externalLinkRel||Uz,t.target=n?"_blank":this.externalLinkTarget||""}goToDestination(t){return new Promise(e=>{Me(this.pdfDocument),Me(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{Me(Array.isArray(e));const n=e[0];new Promise(s=>{Me(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(o=>{s(o)}).catch(()=>{Me(!1)}):typeof n=="number"?s(n):Me(!1)}).then(s=>{const o=s+1;Me(this.pdfViewer),Me(o>=1&&o<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:s,pageNumber:o})})})}goToPage(t){const e=t-1;Me(this.pdfViewer),Me(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(t){this.goToDestination(t)}}function Nl({children:a,type:t}){return E.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:a})}const rA={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function Gz(a,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return a}}function Xl(){return M.useReducer(Gz,{value:void 0,error:void 0})}const Gf=typeof window<"u",bC=Gf&&window.location.protocol==="file:";function Vz(a){return typeof a<"u"}function $a(a){return Vz(a)&&a!==null}function Yz(a){return typeof a=="string"}function Xz(a){return a instanceof ArrayBuffer}function qz(a){return Me(Gf),a instanceof Blob}function Vy(a){return Yz(a)&&/^data:/.test(a)}function aA(a){Me(Vy(a));const[t="",e=""]=a.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function $z(){return Gf&&window.devicePixelRatio||1}const _C="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function oA(){Yn(!bC,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${_C}`)}function Wz(){Yn(!bC,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${_C}`)}function bo(a){a?.cancel&&a.cancel()}function Yy(a,t){return Object.defineProperty(a,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(a,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(a,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(a,"originalHeight",{get(){return this.view[3]},configurable:!0}),a}function Kz(a){return a.name==="RenderingCancelledException"}function Qz(a){return new Promise((t,e)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return e(new Error("Error while reading a file."));t(n.result)},n.onerror=s=>{if(!s.target)return e(new Error("Error while reading a file."));const{error:o}=s.target;if(!o)return e(new Error("Error while reading a file."));switch(o.code){case o.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case o.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case o.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},n.readAsArrayBuffer(a)})}const{PDFDataRangeTransport:Zz}=vz,Jz=(a,t)=>{switch(t){case rA.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");a(e);break}case rA.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");a(e);break}}};function lA(a){return typeof a=="object"&&a!==null&&("data"in a||"range"in a||"url"in a)}const wC=M.forwardRef(function({children:t,className:e,error:n="Failed to load PDF file.",externalLinkRel:s,externalLinkTarget:o,file:l,inputRef:c,imageResourcesPath:h,loading:d="Loading PDF",noData:p="No PDF file specified.",onItemClick:g,onLoadError:v,onLoadProgress:m,onLoadSuccess:w,onPassword:_=Jz,onSourceError:S,onSourceSuccess:x,options:T,renderMode:C,rotate:D,scale:R,...P},O){const[L,F]=Xl(),{value:X,error:G}=L,[rt,tt]=Xl(),{value:W,error:$}=rt,k=M.useRef(new Hz),z=M.useRef([]),I=M.useRef(void 0),Q=M.useRef(void 0);l&&l!==I.current&&lA(l)&&(Yn(!kl(l,I.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),I.current=l),T&&T!==Q.current&&(Yn(!kl(T,Q.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),Q.current=T);const ot=M.useRef({scrollPageIntoView:Ot=>{const{dest:kt,pageNumber:Rt,pageIndex:me=Rt-1}=Ot;if(g){g({dest:kt,pageIndex:me,pageNumber:Rt});return}const Zt=z.current[me];if(Zt){Zt.scrollIntoView();return}Yn(!1,`An internal link leading to page ${Rt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});M.useImperativeHandle(O,()=>({linkService:k,pages:z,viewer:ot}),[]);function B(){x&&x()}function j(){G&&(Yn(!1,G.toString()),S&&S(G))}function K(){F({type:"RESET"})}M.useEffect(K,[l,F]);const nt=M.useCallback(async()=>{if(!l)return null;if(typeof l=="string")return Vy(l)?{data:aA(l)}:(oA(),{url:l});if(l instanceof Zz)return{range:l};if(Xz(l))return{data:l};if(Gf&&qz(l))return{data:await Qz(l)};if(Me(typeof l=="object"),Me(lA(l)),"url"in l&&typeof l.url=="string"){if(Vy(l.url)){const{url:Ot,...kt}=l;return{data:aA(Ot),...kt}}oA()}return l},[l]);M.useEffect(()=>{const Ot=th(nt());return Ot.promise.then(kt=>{F({type:"RESOLVE",value:kt})}).catch(kt=>{F({type:"REJECT",error:kt})}),()=>{bo(Ot)}},[nt,F]),M.useEffect(()=>{if(!(typeof X>"u")){if(X===!1){j();return}B()}},[X]);function pt(){W&&(w&&w(W),z.current=new Array(W.numPages),k.current.setDocument(W))}function gt(){$&&(Yn(!1,$.toString()),v&&v($))}M.useEffect(function(){tt({type:"RESET"})},[tt,X]),M.useEffect(function(){if(!X)return;const kt=T?{...X,...T}:X,Rt=qv(kt);m&&(Rt.onProgress=m),_&&(Rt.onPassword=_);const me=Rt,Zt=me.promise.then(Oe=>{tt({type:"RESOLVE",value:Oe})}).catch(Oe=>{me.destroyed||tt({type:"REJECT",error:Oe})});return()=>{Zt.finally(()=>me.destroy())}},[T,tt,X]),M.useEffect(()=>{if(!(typeof W>"u")){if(W===!1){gt();return}pt()}},[W]),M.useEffect(function(){k.current.setViewer(ot.current),k.current.setExternalLinkRel(s),k.current.setExternalLinkTarget(o)},[s,o]);const ct=M.useCallback((Ot,kt)=>{z.current[Ot]=kt},[]),Et=M.useCallback(Ot=>{delete z.current[Ot]},[]),Tt=M.useMemo(()=>({imageResourcesPath:h,linkService:k.current,onItemClick:g,pdf:W,registerPage:ct,renderMode:C,rotate:D,scale:R,unregisterPage:Et}),[h,g,W,ct,C,D,R,Et]),bt=M.useMemo(()=>yC(P,()=>W),[P,W]);function Ft(){function Ot(Rt){return!!Rt?.pdf}if(!Ot(Tt))throw new Error("pdf is undefined");const kt=typeof t=="function"?t(Tt):t;return E.jsx(vC.Provider,{value:Tt,children:kt})}function zt(){return l?W==null?E.jsx(Nl,{type:"loading",children:typeof d=="function"?d():d}):W===!1?E.jsx(Nl,{type:"error",children:typeof n=="function"?n():n}):Ft():E.jsx(Nl,{type:"no-data",children:typeof p=="function"?p():p})}return E.jsx("div",{className:rs("react-pdf__Document",e),ref:c,...bt,children:zt()})});function SC(){return M.useContext(vC)}function xC(){for(var a=[],t=0;t<arguments.length;t++)a[t]=arguments[t];var e=a.filter(Boolean);if(e.length<=1){var n=e[0];return n||null}return function(o){for(var l=0,c=e;l<c.length;l++){var h=c[l];typeof h=="function"?h(o):h&&(h.current=o)}}}const AC=M.createContext(null);function Vf(){return M.useContext(AC)}function tF(){const a=SC(),t=Vf();Me(t);const e={...a,...t},{imageResourcesPath:n,linkService:s,onGetAnnotationsError:o,onGetAnnotationsSuccess:l,onRenderAnnotationLayerError:c,onRenderAnnotationLayerSuccess:h,page:d,pdf:p,renderForms:g,rotate:v,scale:m=1}=e;Me(p),Me(d),Me(s);const[w,_]=Xl(),{value:S,error:x}=w,T=M.useRef(null);Yn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function C(){S&&l&&l(S)}function D(){x&&(Yn(!1,x.toString()),o&&o(x))}M.useEffect(function(){_({type:"RESET"})},[_,d]),M.useEffect(function(){if(!d)return;const F=th(d.getAnnotations()),X=F;return F.promise.then(G=>{_({type:"RESOLVE",value:G})}).catch(G=>{_({type:"REJECT",error:G})}),()=>{bo(X)}},[_,d]),M.useEffect(()=>{if(S!==void 0){if(S===!1){D();return}C()}},[S]);function R(){h&&h()}function P(L){Yn(!1,`${L}`),c&&c(L)}const O=M.useMemo(()=>d.getViewport({scale:m,rotation:v}),[d,v,m]);return M.useEffect(function(){if(!p||!d||!s||!S)return;const{current:F}=T;if(!F)return;const X=O.clone({dontFlip:!0}),G={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:p.annotationStorage,commentManager:null,div:F,l10n:null,linkService:s,page:d,structTreeLayer:null,viewport:X},rt={annotations:S,annotationStorage:p.annotationStorage,div:F,imageResourcesPath:n,linkService:s,page:d,renderForms:g,viewport:X};F.innerHTML="";try{new Zv(G).render(rt),R()}catch(tt){P(tt)}return()=>{}},[S,n,s,d,p,g,O]),E.jsx("div",{className:rs("react-pdf__Page__annotations","annotationLayer"),ref:T})}const EC={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},eF=/^H(\d+)$/;function nF(a){return a in EC}function Yf(a){return"children"in a}function TC(a){return Yf(a)?a.children.length===1&&0 in a.children&&"id"in a.children[0]:!1}function iF(a){const t={};if(Yf(a)){const{role:e}=a,n=e.match(eF);if(n)t.role="heading",t["aria-level"]=Number(n[1]);else if(nF(e)){const s=EC[e];s&&(t.role=s)}}return t}function CC(a){const t={};if(Yf(a)){if(a.alt!==void 0&&(t["aria-label"]=a.alt),a.lang!==void 0&&(t.lang=a.lang),TC(a)){const[e]=a.children;if(e){const n=CC(e);return{...t,...n}}}}else"id"in a&&(t["aria-owns"]=a.id);return t}function sF(a){return a?{...iF(a),...CC(a)}:null}function MC({className:a,node:t}){const e=M.useMemo(()=>sF(t),[t]),n=M.useMemo(()=>!Yf(t)||TC(t)?null:t.children.map((s,o)=>E.jsx(MC,{node:s},o)),[t]);return E.jsx("span",{className:a,...e,children:n})}function rF(){const a=Vf();Me(a);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=a,[n,s]=Xl(),{value:o,error:l}=n,{customTextRenderer:c,page:h}=a;function d(){o&&e&&e(o)}function p(){l&&(Yn(!1,l.toString()),t&&t(l))}return M.useEffect(function(){s({type:"RESET"})},[s,h]),M.useEffect(function(){if(c||!h)return;const v=th(h.getStructTree()),m=v;return v.promise.then(w=>{s({type:"RESOLVE",value:w})}).catch(w=>{s({type:"REJECT",error:w})}),()=>bo(m)},[c,h,s]),M.useEffect(()=>{if(o!==void 0){if(o===!1){p();return}d()}},[o]),o?E.jsx(MC,{className:"react-pdf__Page__structTree structTree",node:o}):null}const cA=zs;function aF(a){const t=Vf();Me(t);const e={...t,...a},{_className:n,canvasBackground:s,devicePixelRatio:o=$z(),onRenderError:l,onRenderSuccess:c,page:h,renderForms:d,renderTextLayer:p,rotate:g,scale:v}=e,{canvasRef:m}=a;Me(h);const w=M.useRef(null);function _(){h&&c&&c(Yy(h,v))}function S(D){Kz(D)||(Yn(!1,D.toString()),l&&l(D))}const x=M.useMemo(()=>h.getViewport({scale:v*o,rotation:g}),[o,h,g,v]),T=M.useMemo(()=>h.getViewport({scale:v,rotation:g}),[h,g,v]);M.useEffect(function(){if(!h)return;h.cleanup();const{current:R}=w;if(!R)return;R.width=x.width,R.height=x.height,R.style.width=`${Math.floor(T.width)}px`,R.style.height=`${Math.floor(T.height)}px`,R.style.visibility="hidden";const P={annotationMode:d?cA.ENABLE_FORMS:cA.ENABLE,canvas:R,canvasContext:R.getContext("2d",{alpha:!1}),viewport:x};s&&(P.background=s);const O=h.render(P),L=O;return O.promise.then(()=>{R.style.visibility="",_()}).catch(S),()=>bo(L)},[s,h,d,x,T]);const C=M.useCallback(()=>{const{current:D}=w;D&&(D.width=0,D.height=0)},[]);return M.useEffect(()=>C,[C]),E.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:xC(m,w),style:{display:"block",userSelect:"none"},children:p?E.jsx(rF,{}):null})}function oF(a){return"str"in a}function lF(){const a=Vf();Me(a);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:n,onRenderTextLayerError:s,onRenderTextLayerSuccess:o,page:l,pageIndex:c,pageNumber:h,rotate:d,scale:p}=a;Me(l);const[g,v]=Xl(),{value:m,error:w}=g,_=M.useRef(null);Yn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function S(){m&&n&&n(m)}function x(){w&&(Yn(!1,w.toString()),e&&e(w))}M.useEffect(function(){v({type:"RESET"})},[l,v]),M.useEffect(function(){if(!l)return;const L=th(l.getTextContent()),F=L;return L.promise.then(X=>{v({type:"RESOLVE",value:X})}).catch(X=>{v({type:"REJECT",error:X})}),()=>bo(F)},[l,v]),M.useEffect(()=>{if(m!==void 0){if(m===!1){x();return}S()}},[m]);const T=M.useCallback(()=>{o&&o()},[o]),C=M.useCallback(O=>{Yn(!1,O.toString()),s&&s(O)},[s]);function D(){const O=_.current;O&&O.classList.add("selecting")}function R(){const O=_.current;O&&O.classList.remove("selecting")}const P=M.useMemo(()=>l.getViewport({scale:p,rotation:d}),[l,d,p]);return M.useLayoutEffect(function(){if(!l||!m)return;const{current:L}=_;if(!L)return;L.innerHTML="";const F=l.streamTextContent({includeMarkedContent:!0}),X={container:L,textContentSource:F,viewport:P},G=new Lu(X),rt=G;return G.render().then(()=>{const tt=document.createElement("div");tt.className="endOfContent",L.append(tt);const W=L.querySelectorAll('[role="presentation"]');if(t){let $=0;m.items.forEach((k,z)=>{if(!oF(k))return;const I=W[$];if(!I)return;const Q=t({pageIndex:c,pageNumber:h,itemIndex:z,...k});I.innerHTML=Q,$+=k.str&&k.hasEOL?2:1})}T()}).catch(C),()=>bo(rt)},[t,C,T,l,c,h,m,P]),E.jsx("div",{className:rs("react-pdf__Page__textContent","textLayer"),onMouseUp:R,onMouseDown:D,ref:_})}const uA=1;function RC(a){const e={...SC(),...a},{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:s=!0,canvasBackground:o,canvasRef:l,children:c,className:h,customRenderer:d,customTextRenderer:p,devicePixelRatio:g,error:v="Failed to load the page.",height:m,inputRef:w,loading:_="Loading page",noData:S="No page specified.",onGetAnnotationsError:x,onGetAnnotationsSuccess:T,onGetStructTreeError:C,onGetStructTreeSuccess:D,onGetTextError:R,onGetTextSuccess:P,onLoadError:O,onLoadSuccess:L,onRenderAnnotationLayerError:F,onRenderAnnotationLayerSuccess:X,onRenderError:G,onRenderSuccess:rt,onRenderTextLayerError:tt,onRenderTextLayerSuccess:W,pageIndex:$,pageNumber:k,pdf:z,registerPage:I,renderAnnotationLayer:Q=!0,renderForms:ot=!1,renderMode:B="canvas",renderTextLayer:j=!0,rotate:K,scale:nt=uA,unregisterPage:pt,width:gt,...ct}=e,[Et,Tt]=Xl(),{value:bt,error:Ft}=Et,zt=M.useRef(null);Me(z);const Ot=$a(k)?k-1:$??null,kt=k??($a($)?$+1:null),Rt=K??(bt?bt.rotate:null),me=M.useMemo(()=>{if(!bt)return null;let ke=1;const Be=nt??uA;if(gt||m){const Sn=bt.getViewport({scale:1,rotation:Rt});gt?ke=gt/Sn.width:m&&(ke=m/Sn.height)}return Be*ke},[m,bt,Rt,nt,gt]);M.useEffect(function(){return()=>{$a(Ot)&&s&&pt&&pt(Ot)}},[s,z,Ot,pt]);function Zt(){if(L){if(!bt||!me)return;L(Yy(bt,me))}if(s&&I){if(!$a(Ot)||!zt.current)return;I(Ot,zt.current)}}function Oe(){Ft&&(Yn(!1,Ft.toString()),O&&O(Ft))}M.useEffect(function(){Tt({type:"RESET"})},[Tt,z,Ot]),M.useEffect(function(){if(!z||!kt)return;const Be=th(z.getPage(kt)),Sn=Be;return Be.promise.then(xn=>{Tt({type:"RESOLVE",value:xn})}).catch(xn=>{Tt({type:"REJECT",error:xn})}),()=>bo(Sn)},[Tt,z,kt]),M.useEffect(()=>{if(bt!==void 0){if(bt===!1){Oe();return}Zt()}},[bt,me]);const _n=M.useMemo(()=>$a(Ot)&&kt&&$a(Rt)&&$a(me)?{_className:n,canvasBackground:o,customTextRenderer:p,devicePixelRatio:g,onGetAnnotationsError:x,onGetAnnotationsSuccess:T,onGetStructTreeError:C,onGetStructTreeSuccess:D,onGetTextError:R,onGetTextSuccess:P,onRenderAnnotationLayerError:F,onRenderAnnotationLayerSuccess:X,onRenderError:G,onRenderSuccess:rt,onRenderTextLayerError:tt,onRenderTextLayerSuccess:W,page:bt,pageIndex:Ot,pageNumber:kt,renderForms:ot,renderTextLayer:j,rotate:Rt,scale:me}:null,[n,o,p,g,x,T,C,D,R,P,F,X,G,rt,tt,W,bt,Ot,kt,ot,j,Rt,me]),wn=M.useMemo(()=>yC(ct,()=>bt&&(me?Yy(bt,me):void 0)),[ct,bt,me]),ce=`${Ot}@${me}/${Rt}`;function Pe(){switch(B){case"custom":return Me(d),E.jsx(d,{},`${ce}_custom`);case"none":return null;case"canvas":default:return E.jsx(aF,{canvasRef:l},`${ce}_canvas`)}}function os(){return j?E.jsx(lF,{},`${ce}_text`):null}function Ae(){return Q?E.jsx(tF,{},`${ce}_annotations`):null}function ls(){function ke(Sn){return!!Sn?.page}if(!ke(_n))throw new Error("page is undefined");const Be=typeof c=="function"?c(_n):c;return E.jsxs(AC.Provider,{value:_n,children:[Pe(),os(),Ae(),Be]})}function Je(){return kt?z===null||bt===void 0||bt===null?E.jsx(Nl,{type:"loading",children:typeof _=="function"?_():_}):z===!1||bt===!1?E.jsx(Nl,{type:"error",children:typeof v=="function"?v():v}):ls():E.jsx(Nl,{type:"no-data",children:typeof S=="function"?S():S})}return E.jsx("div",{className:rs(n,h),"data-page-number":kt,ref:xC(w,zt),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${me}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:o||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...wn,children:Je()})}Wz();wr.workerSrc="pdf.worker.mjs";wr.workerSrc=new URL("/assets/pdf.worker.min-qwK7q_zL.mjs",import.meta.url).toString();const cF=()=>E.jsxs(E.Fragment,{children:[E.jsxs("div",{id:"window-header",children:[E.jsx(Sa,{target:"resume"}),E.jsx("h2",{children:"Resume.pdf"}),E.jsx("a",{href:"files/resume.pdf",download:!0,className:"cursor-pointer",title:"Download resume",children:E.jsx(aB,{className:"icon"})})]}),E.jsx(wC,{className:"resume-pdf",file:"files/resume.pdf",children:E.jsx(RC,{pageNumber:1,renderTextLayer:!0,renderAnnotationLayer:!0})})]}),uF=xa(cF,"resume"),hF=()=>E.jsxs(E.Fragment,{children:[E.jsxs("div",{id:"window-header",children:[E.jsx(Sa,{target:"safari"}),E.jsx(vB,{className:"ml-10 icon"}),E.jsxs("div",{className:"flex items-center gap-1 ml-5",children:[E.jsx(kv,{className:"icon"}),E.jsx(Pf,{className:"icon"})]}),E.jsxs("div",{className:"flex-1 flex-center gap-3",children:[E.jsx(xB,{className:"icon"}),E.jsxs("div",{className:"search",children:[E.jsx(Bf,{className:"icon"}),E.jsx("input",{type:"text",placeholder:"Search or enter website name",className:"flex-1"})]})]}),E.jsxs("div",{className:"flex items-center gap-5",children:[E.jsx(Nv,{className:"icon"}),E.jsx(vT,{className:"icon"}),E.jsx(gT,{className:"icon"})]})]}),E.jsxs("div",{className:"blog",children:[E.jsx("h2",{children:"My Developer Blog"}),E.jsx("div",{className:"space-y-8",children:M1.map(({id:a,image:t,title:e,date:n,link:s})=>E.jsxs("div",{className:"blog-post",children:[E.jsx("div",{className:"col-span-2",children:E.jsx("img",{src:t,alt:e})}),E.jsxs("div",{className:"content",children:[E.jsx("p",{children:n}),E.jsx("h3",{children:e}),E.jsxs("a",{href:s,target:"_blank",rel:"noopener noreferrer",children:["Check out the full post ",E.jsx(yT,{className:"icon-hover"})]})]})]},a))})]})]}),dF=xa(hF,"safari"),fF=()=>E.jsxs(E.Fragment,{children:[E.jsxs("div",{id:"window-header",children:[E.jsx(Sa,{target:"terminal"}),E.jsx("h2",{children:"Tech Stack"})]}),E.jsxs("div",{className:"techstack",children:[E.jsxs("p",{children:[E.jsx("span",{className:"font-bold",children:"@adrian %"})," show tech stack"]}),E.jsxs("div",{className:"label",children:[E.jsx("p",{className:"w-32",children:"Category"}),E.jsx("p",{children:"Technologies"})]}),E.jsx("ul",{className:"content",children:R1.map(({category:a,items:t})=>E.jsxs("li",{className:"flex items-center",children:[E.jsx(ky,{className:"check",size:20}),E.jsx("h3",{children:a}),E.jsx("ul",{children:t.map((e,n)=>E.jsxs("li",{children:[e,n<t.length-1?",":""]},n))})]},a))}),E.jsxs("div",{className:"footnote",children:[E.jsxs("p",{children:[E.jsx(ky,{size:20}),"5 of 5 stacks loaded successfully (100%)"]}),E.jsxs("p",{className:"text-black dark:text-white",children:[E.jsx(mT,{size:15,fill:"black"}),"Render time: 6ms"]})]})]})]}),pF=xa(fF,"terminal"),gF=()=>{const{windows:{imgfile:{data:a}}}=qn();if(!a)return null;const{title:t,imageUrl:e}=a;return E.jsxs(E.Fragment,{children:[E.jsxs("div",{id:"window-header",children:[E.jsx(Sa,{target:"imgfile"}),E.jsx("p",{children:t}),E.jsxs("div",{className:"flex items-end gap-3",children:[E.jsx(EB,{className:"icon"}),E.jsx(vT,{className:"icon"}),E.jsx(Nv,{className:"icon"})]})]}),E.jsx("div",{className:"preview",children:E.jsx("img",{src:e,alt:t})})]})},mF=xa(gF,"imgfile"),yF=()=>{const{windows:{txtfile:{data:a}}}=qn();if(!a)return null;const{name:t,image:e,subtitle:n,description:s}=a;return E.jsxs(E.Fragment,{children:[E.jsxs("div",{id:"window-header",children:[E.jsx(Sa,{target:"txtfile"}),E.jsx("h2",{children:t})]}),E.jsxs("div",{className:"p-5 space-y-7",children:[e&&E.jsx("img",{src:e,alt:t,className:"w-20 rounded-full"}),n&&E.jsx("h1",{className:"font-bold",children:n}),Array.isArray(s)&&s.map((o,l)=>E.jsx("p",{children:o},l))]})]})},vF=xa(yF,"txtfile"),Aa=(a,t)=>{const e=n=>{const{windows:s}=qn(),{isOpen:o,zIndex:l}=s[t],[c,h]=M.useState(!1);return M.useEffect(()=>{const d=()=>{h(window.innerWidth<640)};return d(),window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]),M.useLayoutEffect(()=>{const d=document.getElementById(`mobile-${t}`);d&&(d.style.display=o&&c?"block":"none")},[o,c]),!c||!o?null:E.jsx("section",{id:`mobile-${t}`,style:{zIndex:l},children:E.jsx(a,{...n})})};return e.displayName=`MobileWindowWrapper(${a.displayName||a.name||"Component"})`,e},Ea=({windowKey:a,title:t,onBack:e,className:n=""})=>{const{closeWindow:s}=qn(),o=()=>{e?e():s(a)};return E.jsxs("div",{id:"mobile-window-header",className:rs("flex justify-between items-center gap-5 px-3 pb-3 relative z-10",n),children:[E.jsxs("div",{className:"flex-1 flex items-center gap-2 cursor-pointer",onClick:o,children:[E.jsx(kv,{className:"icon"}),E.jsx("p",{className:"text-sm text-blue-500",children:"Go Back"})]}),E.jsx("p",{className:"flex-[1.5] text-lg font-georama text-black dark:text-white line-clamp-1",children:t})]})},bF=()=>E.jsxs(E.Fragment,{children:[E.jsx(Ea,{windowKey:"safari",title:"Safari"}),E.jsxs("div",{className:"blog",children:[E.jsx("h2",{children:"My Developer Blog"}),E.jsx("div",{className:"space-y-8",children:M1.map(({id:a,image:t,title:e,date:n,link:s})=>E.jsxs("div",{className:"blog-post",children:[E.jsx("div",{className:"col-span-2",children:E.jsx("img",{src:t,alt:e})}),E.jsxs("div",{className:"content",children:[E.jsx("p",{children:n}),E.jsx("h3",{children:e}),E.jsxs("a",{href:s,target:"_blank",rel:"noopener noreferrer",children:["Check out the full post ",E.jsx(yT,{className:"icon-hover"})]})]})]},a))})]}),E.jsxs("footer",{children:[E.jsxs("div",{className:"search",children:[E.jsx(Bf,{className:"icon"}),E.jsx("input",{type:"text",placeholder:"Search or enter website name",className:"flex-1"}),E.jsx(fB,{className:"icon"})]}),E.jsxs("div",{children:[E.jsx(kv,{size:32,className:"icon text-gray-500"}),E.jsx(Pf,{size:32,className:"icon text-gray-500"}),E.jsx(Nv,{size:32,className:"icon text-blue-600"}),E.jsx(tB,{size:32,className:"icon text-blue-600"}),E.jsx(gT,{size:32,className:"icon text-blue-600"})]})]})]}),_F=Aa(bF,"safari"),wF=()=>E.jsxs(E.Fragment,{children:[E.jsx(Ea,{windowKey:"contact",title:"Contact"}),E.jsxs("div",{className:"content",children:[E.jsx("img",{src:"/images/adrian.jpg",alt:"Adrian",className:"w-20 rounded-full"}),E.jsx("h3",{children:"Let's Connect"}),E.jsx("p",{children:"Got an idea? A bug to squash? Or just wanna talk tech? I'm in."}),E.jsx("ul",{children:D1.map(({id:a,bg:t,link:e,icon:n,text:s})=>E.jsx("li",{style:{backgroundColor:t},children:E.jsxs("a",{href:e,target:"_blank",rel:"noopener noreferrer",title:s,children:[E.jsx("img",{src:n,alt:s,className:"size-5"}),E.jsx("p",{children:s})]})},a))})]})]}),SF=Aa(wF,"contact"),xF=()=>{const{openWindow:a}=qn();return E.jsxs(E.Fragment,{children:[E.jsx(Ea,{windowKey:"photos",title:"All Photos"}),E.jsx("div",{className:"gallery",children:E.jsx("ul",{children:O1.map(({id:t,img:e})=>E.jsx("li",{onClick:()=>a("imgfile",{id:t,name:"Gallery image",icon:"/images/image.png",kind:"file",fileType:"img",imageUrl:e}),children:E.jsx("img",{src:e,alt:`Gallery image ${t}`})},t))})})]})},AF=Aa(xF,"photos"),EF=()=>{const{windows:{txtfile:{data:a}}}=qn();if(!a)return null;const{name:t,image:e,subtitle:n,description:s}=a;return E.jsxs(E.Fragment,{children:[E.jsx(Ea,{windowKey:"txtfile",title:"Preview"}),E.jsxs("div",{className:"px-5 pb-5 pt-10 space-y-7",children:[e&&E.jsx("img",{src:e,alt:t,className:"w-20 rounded-full"}),n&&E.jsx("h1",{className:"font-bold",children:n}),Array.isArray(s)&&s.map((o,l)=>E.jsx("p",{children:o},l))]})]})},TF=Aa(EF,"txtfile"),CF=()=>{const{windows:{imgfile:{data:a}}}=qn();if(!a)return null;const{title:t,imageUrl:e}=a;return E.jsxs(E.Fragment,{children:[E.jsx(Ea,{windowKey:"imgfile",title:"Preview"}),E.jsx("div",{className:"preview",children:E.jsx("img",{src:e,alt:t})})]})},MF=Aa(CF,"imgfile"),RF=()=>{const{openWindow:a}=qn();return E.jsx("section",{id:"mobile-home",children:E.jsxs("ul",{children:[E.jsx("li",{onClick:()=>a("resume"),children:E.jsx("img",{src:"/images/pages.png",alt:"pages"})}),E.jsx("li",{onClick:()=>a("terminal"),children:E.jsx("img",{src:"/images/terminal.png",alt:"terminal"})})]})})};wr.workerSrc=new URL("/assets/pdf.worker.min-qwK7q_zL.mjs",import.meta.url).toString();const DF=()=>{const a=M.useRef(null),[t,e]=M.useState(0);return M.useLayoutEffect(()=>{if(!a.current)return;const n=()=>{a.current&&e(a.current.offsetWidth)};n();const s=new ResizeObserver(n);return s.observe(a.current),()=>s.disconnect()},[]),E.jsxs(E.Fragment,{children:[E.jsx(Ea,{windowKey:"resume",title:"Resume"}),E.jsx("div",{ref:a,className:"w-full",children:E.jsx(wC,{className:"resume-pdf",file:"files/resume.pdf",children:E.jsx(RC,{pageNumber:1,width:t||void 0,renderTextLayer:!0,renderAnnotationLayer:!0})})})]})},OF=Aa(DF,"resume"),kF=()=>{const{closeWindow:a,openWindow:t}=qn(),[e,n]=M.useState(null),[s,o]=M.useState([]),l=Object.values(xu),c=g=>{n(g),o([...s,g])},h=()=>{if(s.length===0)a("finder");else if(s.length===1)n(null),o([]);else{const g=s.slice(0,-1);o(g),n(g[g.length-1])}},d=g=>{if(g.kind==="folder"){c(g);return}g.fileType==="pdf"?t("resume"):["fig","url"].includes(g.fileType)&&g.href?window.open(g.href,"_blank"):t(`${g.fileType}${g.kind}`,g)},p=e?.children||l;return E.jsxs(E.Fragment,{children:[E.jsx(Ea,{windowKey:"finder",title:e?.name||"Portfolio",onBack:h}),s.length>0&&E.jsxs("div",{className:"breadcrumb",children:[E.jsx("button",{onClick:()=>{n(null),o([])},className:"text-blue-500 text-sm",children:"Portfolio"}),s.map((g,v)=>E.jsxs("span",{className:"flex items-center",children:[E.jsx(Pf,{size:16,className:"text-gray-400 mx-1"}),E.jsx("button",{onClick:()=>{const m=s.slice(0,v+1);o(m),n(g)},className:"text-blue-500 text-sm line-clamp-1 text-left",children:g.name})]},g.id))]}),E.jsx("div",{className:"finder-gallery",children:E.jsx("ul",{children:p?.map(g=>E.jsx("li",{onClick:()=>d(g),children:E.jsxs("div",{className:"finder-item",children:[g.kind==="folder"?E.jsx("img",{src:"/images/folder.png",alt:"folder",className:"size-16"}):E.jsx("img",{src:g.icon,alt:g.name,className:"file-icon"}),E.jsx("p",{className:"item-name",children:g.name})]})},g.id))})})]})},NF=Aa(kF,"finder"),LF=()=>E.jsxs(E.Fragment,{children:[E.jsx(Ea,{windowKey:"terminal",title:"Terminal"}),E.jsxs("div",{className:"techstack",children:[E.jsxs("p",{children:[E.jsx("span",{className:"font-bold",children:"@adrian %"})," show tech stack"]}),E.jsx("ul",{className:"content",children:R1.map(({category:a,items:t})=>E.jsxs("li",{className:"flex flex-col",children:[E.jsxs("div",{className:"flex flex-row",children:[E.jsx(Pf,{className:"check",size:20}),E.jsx("h3",{children:a})]}),E.jsx("ul",{children:t.map((e,n)=>E.jsxs("li",{children:[e,n<t.length-1?",":""]},n))})]},a))}),E.jsxs("div",{className:"footnote",children:[E.jsxs("p",{children:[E.jsx(ky,{size:20}),"5 of 5 stacks loaded successfully (100%)"]}),E.jsxs("p",{className:"text-black dark:text-white",children:[E.jsx(mT,{size:15,fill:"black"}),"Render time: 6ms"]})]})]})]}),PF=Aa(LF,"terminal");ga.registerPlugin(wa);const BF=()=>E.jsxs("main",{children:[E.jsx(SI,{}),E.jsx(EI,{}),E.jsx(AI,{}),E.jsx(UO,{}),E.jsx(pF,{}),E.jsx(PF,{}),E.jsx(dF,{}),E.jsx(_F,{}),E.jsx(uF,{}),E.jsx(OF,{}),E.jsx(RI,{}),E.jsx(NF,{}),E.jsx(mF,{}),E.jsx(TF,{}),E.jsx(vF,{}),E.jsx(MF,{}),E.jsx(CI,{}),E.jsx(SF,{}),E.jsx(uk,{}),E.jsx(RF,{}),E.jsx(OI,{}),E.jsx(AF,{})]});$R.createRoot(document.getElementById("root")).render(E.jsx(M.StrictMode,{children:E.jsx(BF,{})}));
